(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function a(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(l){if(l.ep)return;l.ep=!0;const c=a(l);fetch(l.href,c)}})();function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var setupDefaults$9={cookies:{path:"/"},treeOptions:{parentKey:"parentId",key:"id",children:"children"},parseDateFormat:"yyyy-MM-dd HH:mm:ss",firstDayOfWeek:1},setupDefaults_1=setupDefaults$9;function arrayEach$e(e,r,a){if(e)if(e.forEach)e.forEach(r,a);else for(var n=0,l=e.length;n<l;n++)r.call(a,e[n],n,e)}var arrayEach_1=arrayEach$e,objectToString$2=Object.prototype.toString,staticObjectToString=objectToString$2,objectToString$1=staticObjectToString;function helperCreateInInObjectString$5(e){return function(r){return"[object "+e+"]"===objectToString$1.call(r)}}var helperCreateInInObjectString_1=helperCreateInInObjectString$5,helperCreateInInObjectString$4=helperCreateInInObjectString_1,isArray$r=Array.isArray||helperCreateInInObjectString$4("Array"),isArray_1=isArray$r;function hasOwnProp$a(e,r){return e&&e.hasOwnProperty?e.hasOwnProperty(r):!1}var hasOwnProp_1=hasOwnProp$a,hasOwnProp$9=hasOwnProp_1;function objectEach$5(e,r,a){if(e)for(var n in e)hasOwnProp$9(e,n)&&r.call(a,e[n],n,e)}var objectEach_1=objectEach$5,isArray$q=isArray_1,arrayEach$d=arrayEach_1,objectEach$4=objectEach_1;function each$j(e,r,a){return e&&(isArray$q(e)?arrayEach$d:objectEach$4)(e,r,a)}var each_1=each$j;function helperCreateInTypeof$6(e){return function(r){return typeof r===e}}var helperCreateInTypeof_1=helperCreateInTypeof$6,helperCreateInTypeof$5=helperCreateInTypeof_1,isFunction$d=helperCreateInTypeof$5("function"),isFunction_1=isFunction$d,each$i=each_1;function helperCreateGetObjects$3(e,r){var a=Object[e];return function(n){var l=[];if(n){if(a)return a(n);each$i(n,r>1?function(c){l.push([""+c,n[c]])}:function(){l.push(arguments[r])})}return l}}var helperCreateGetObjects_1=helperCreateGetObjects$3,helperCreateGetObjects$2=helperCreateGetObjects_1,keys$a=helperCreateGetObjects$2("keys",1),keys_1=keys$a,objectToString=staticObjectToString,objectEach$3=objectEach_1,arrayEach$c=arrayEach_1;function getCativeCtor(e,r){var a=e.__proto__.constructor;return r?new a(r):new a}function handleValueClone(e,r){return r?copyValue(e,r):e}function copyValue(e,r){if(e)switch(objectToString.call(e)){case"[object Object]":{var a=Object.create(e.__proto__);return objectEach$3(e,function(s,g){a[g]=handleValueClone(s,r)}),a}case"[object Date]":case"[object RegExp]":return getCativeCtor(e,e.valueOf());case"[object Array]":case"[object Arguments]":{var n=[];return arrayEach$c(e,function(s){n.push(handleValueClone(s,r))}),n}case"[object Set]":{var l=getCativeCtor(e);return l.forEach(function(s){l.add(handleValueClone(s,r))}),l}case"[object Map]":{var c=getCativeCtor(e);return c.forEach(function(s,g){c.set(g,handleValueClone(s,r))}),c}}return e}function clone$3(e,r){return e&&copyValue(e,r)}var clone_1=clone$3,arrayEach$b=arrayEach_1,keys$9=keys_1,isArray$p=isArray_1,clone$2=clone_1,objectAssignFns=Object.assign;function handleAssign(e,r,a){for(var n=r.length,l,c=1;c<n;c++)l=r[c],arrayEach$b(keys$9(r[c]),a?function(s){e[s]=clone$2(l[s],a)}:function(s){e[s]=l[s]});return e}var assign$b=function(e){if(e){var r=arguments;if(e===!0){if(r.length>1)return e=isArray$p(e[1])?[]:{},handleAssign(e,r,!0)}else return objectAssignFns?objectAssignFns.apply(Object,r):handleAssign(e,r)}return e},assign_1=assign$b,setupDefaults$8=setupDefaults_1,arrayEach$a=arrayEach_1,each$h=each_1,isFunction$c=isFunction_1,assign$a=assign_1,XEUtils$2=function(){};function mixin(){arrayEach$a(arguments,function(e){each$h(e,function(r,a){XEUtils$2[a]=isFunction$c(r)?function(){var n=r.apply(XEUtils$2.$context,arguments);return XEUtils$2.$context=null,n}:r})})}function setup$1(e){return assign$a(setupDefaults$8,e)}XEUtils$2.VERSION="3.5.13";XEUtils$2.mixin=mixin;XEUtils$2.setup=setup$1;var ctor=XEUtils$2;function lastArrayEach$3(e,r,a){for(var n=e.length-1;n>=0;n--)r.call(a,e[n],n,e)}var lastArrayEach_1=lastArrayEach$3,lastArrayEach$2=lastArrayEach_1,keys$8=keys_1;function lastObjectEach$2(e,r,a){lastArrayEach$2(keys$8(e),function(n){r.call(a,e[n],n,e)})}var lastObjectEach_1=lastObjectEach$2;function isNull$9(e){return e===null}var isNull_1=isNull$9,isNull$8=isNull_1;function property$6(e,r){return function(a){return isNull$8(a)?r:a[e]}}var property_1=property$6,each$g=each_1,isFunction$b=isFunction_1,property$5=property_1;function objectMap$1(e,r,a){var n={};if(e)if(r)isFunction$b(r)||(r=property$5(r)),each$g(e,function(l,c){n[c]=r.call(a,l,c,e)});else return e;return n}var objectMap_1=objectMap$1;function isPlainObject$6(e){return e?e.constructor===Object:!1}var isPlainObject_1=isPlainObject$6,isArray$o=isArray_1,isPlainObject$5=isPlainObject_1,each$f=each_1;function handleMerge(e,r){return isPlainObject$5(e)&&isPlainObject$5(r)||isArray$o(e)&&isArray$o(r)?(each$f(r,function(a,n){e[n]=handleMerge(e[n],a)}),e):r}var merge$1=function(e){e||(e={});for(var r=arguments,a=r.length,n,l=1;l<a;l++)n=r[l],n&&handleMerge(e,n);return e},merge_1=merge$1,each$e=each_1;function map$6(e,r,a){var n=[];if(e&&arguments.length>1){if(e.map)return e.map(r,a);each$e(e,function(){n.push(r.apply(a,arguments))})}return n}var map_1=map$6,hasOwnProp$8=hasOwnProp_1,isArray$n=isArray_1;function helperCreateIterateHandle$4(e,r,a,n,l){return function(c,s,g){if(c&&s){if(e&&c[e])return c[e](s,g);if(r&&isArray$n(c)){for(var o=0,d=c.length;o<d;o++)if(!!s.call(g,c[o],o,c)===n)return[!0,!1,o,c[o]][a]}else for(var h in c)if(hasOwnProp$8(c,h)&&!!s.call(g,c[h],h,c)===n)return[!0,!1,h,c[h]][a]}return l}}var helperCreateIterateHandle_1=helperCreateIterateHandle$4,helperCreateIterateHandle$3=helperCreateIterateHandle_1,some$2=helperCreateIterateHandle$3("some",1,0,!0,!1),some_1=some$2,helperCreateIterateHandle$2=helperCreateIterateHandle_1,every$2=helperCreateIterateHandle$2("every",1,1,!1,!0),every_1=every$2,hasOwnProp$7=hasOwnProp_1;function includes$5(e,r){if(e){if(e.includes)return e.includes(r);for(var a in e)if(hasOwnProp$7(e,a)&&r===e[a])return!0}return!1}var includes_1=includes$5,isArray$m=isArray_1,includes$4=includes_1;function includeArrays$2(e,r){var a,n=0;if(isArray$m(e)&&isArray$m(r)){for(a=r.length;n<a;n++)if(!includes$4(e,r[n]))return!1;return!0}return includes$4(e,r)}var includeArrays_1=includeArrays$2,each$d=each_1,includes$3=includes_1,isFunction$a=isFunction_1,property$4=property_1;function uniq$2(e,r,a){var n=[];if(r){isFunction$a(r)||(r=property$4(r));var l,c={};each$d(e,function(s,g){l=r.call(a,s,g,e),c[l]||(c[l]=1,n.push(s))})}else each$d(e,function(s){includes$3(n,s)||n.push(s)});return n}var uniq_1=uniq$2,map$5=map_1;function toArray$3(e){return map$5(e,function(r){return r})}var toArray_1=toArray$3,uniq$1=uniq_1,toArray$2=toArray_1;function union$1(){for(var e=arguments,r=[],a=0,n=e.length;a<n;a++)r=r.concat(toArray$2(e[a]));return uniq$1(r)}var union_1=union$1,staticStrUndefined$b="undefined",staticStrUndefined_1=staticStrUndefined$b,staticStrUndefined$a=staticStrUndefined_1,helperCreateInTypeof$4=helperCreateInTypeof_1,isUndefined$a=helperCreateInTypeof$4(staticStrUndefined$a),isUndefined_1=isUndefined$a,isNull$7=isNull_1,isUndefined$9=isUndefined_1;function eqNull$8(e){return isNull$7(e)||isUndefined$9(e)}var eqNull_1=eqNull$8,staticHGKeyRE$2=/(.+)?\[(\d+)\]$/,staticHGKeyRE_1=staticHGKeyRE$2;function helperGetHGSKeys$3(e){return e?e.splice&&e.join?e:(""+e).replace(/(\[\d+\])\.?/g,"$1.").replace(/\.$/,"").split("."):[]}var helperGetHGSKeys_1=helperGetHGSKeys$3,staticHGKeyRE$1=staticHGKeyRE_1,helperGetHGSKeys$2=helperGetHGSKeys_1,hasOwnProp$6=hasOwnProp_1,isUndefined$8=isUndefined_1,eqNull$7=eqNull_1;function get$5(e,r,a){if(eqNull$7(e))return a;var n=getValueByPath(e,r);return isUndefined$8(n)?a:n}function getDeepProps(e,r){var a=r?r.match(staticHGKeyRE$1):"";return a?a[1]?e[a[1]]?e[a[1]][a[2]]:void 0:e[a[2]]:e[r]}function getValueByPath(e,r){if(e){var a,n,l,c=0;if(e[r]||hasOwnProp$6(e,r))return e[r];if(n=helperGetHGSKeys$2(r),l=n.length,l){for(a=e;c<l;c++)if(a=getDeepProps(a,n[c]),eqNull$7(a))return c===l-1?a:void 0}return a}}var get_1=get$5,arrayEach$9=arrayEach_1,toArray$1=toArray_1,map$4=map_1,isArray$l=isArray_1,isFunction$9=isFunction_1,isPlainObject$4=isPlainObject_1,isUndefined$7=isUndefined_1,isNull$6=isNull_1,eqNull$6=eqNull_1,get$4=get_1,property$3=property_1,ORDER_PROP_ASC="asc",ORDER_PROP_DESC="desc";function handleSort(e,r){return isUndefined$7(e)?1:isNull$6(e)?isUndefined$7(r)?-1:1:e&&e.localeCompare?e.localeCompare(r):e>r?1:-1}function buildMultiOrders(e,r,a){return function(n,l){var c=n[e],s=l[e];return c===s?a?a(n,l):0:r.order===ORDER_PROP_DESC?handleSort(s,c):handleSort(c,s)}}function getSortConfs(e,r,a,n){var l=[];return a=isArray$l(a)?a:[a],arrayEach$9(a,function(c,s){if(c){var g=c,o;isArray$l(c)?(g=c[0],o=c[1]):isPlainObject$4(c)&&(g=c.field,o=c.order),l.push({field:g,order:o||ORDER_PROP_ASC}),arrayEach$9(r,isFunction$9(g)?function(d,h){d[s]=g.call(n,d.data,h,e)}:function(d){d[s]=g?get$4(d.data,g):d.data})}}),l}function orderBy$3(e,r,a){if(e){if(eqNull$6(r))return toArray$1(e).sort(handleSort);for(var n,l=map$4(e,function(g){return{data:g}}),c=getSortConfs(e,l,r,a),s=c.length-1;s>=0;)n=buildMultiOrders(s,c[s],n),s--;return n&&(l=l.sort(n)),map$4(l,property$3("data"))}return[]}var orderBy_1=orderBy$3,orderBy$2=orderBy_1,sortBy$1=orderBy$2,sortBy_1=sortBy$1;function random$2(e,r){return e>=r?e:(e=e>>0)+Math.round(Math.random()*((r||9)-e))}var random_1=random$2,helperCreateGetObjects$1=helperCreateGetObjects_1,values$6=helperCreateGetObjects$1("values",0),values_1=values$6,random$1=random_1,values$5=values_1;function shuffle$2(e){for(var r,a=[],n=values$5(e),l=n.length-1;l>=0;l--)r=l>0?random$1(0,l):0,a.push(n[r]),n.splice(r,1);return a}var shuffle_1=shuffle$2,shuffle$1=shuffle_1;function sample$1(e,r){var a=shuffle$1(e);return arguments.length<=1?a[0]:(r<a.length&&(a.length=r||0),a)}var sample_1=sample$1;function helperCreateToNumber$2(e){return function(r){if(r){var a=e(r);if(!isNaN(a))return a}return 0}}var helperCreateToNumber_1=helperCreateToNumber$2,helperCreateToNumber$1=helperCreateToNumber_1,toNumber$7=helperCreateToNumber$1(parseFloat),toNumber_1=toNumber$7,toNumber$6=toNumber_1;function slice$7(e,r,a){var n=[],l=arguments.length;if(e){if(r=l>=2?toNumber$6(r):0,a=l>=3?toNumber$6(a):e.length,e.slice)return e.slice(r,a);for(;r<a;r++)n.push(e[r])}return n}var slice_1=slice$7,each$c=each_1;function filter$1(e,r,a){var n=[];if(e&&r){if(e.filter)return e.filter(r,a);each$c(e,function(l,c){r.call(a,l,c,e)&&n.push(l)})}return n}var filter_1=filter$1,helperCreateIterateHandle$1=helperCreateIterateHandle_1,findKey$1=helperCreateIterateHandle$1("",0,2,!0),findKey_1=findKey$1,helperCreateIterateHandle=helperCreateIterateHandle_1,find$1=helperCreateIterateHandle("find",1,3,!0),find_1=find$1,isArray$k=isArray_1,values$4=values_1;function findLast$1(e,r,a){if(e){isArray$k(e)||(e=values$4(e));for(var n=e.length-1;n>=0;n--)if(r.call(a,e[n],n,e))return e[n]}}var findLast_1=findLast$1,keys$7=keys_1;function reduce$1(e,r,a){if(e){var n,l,c=0,s=null,g=a,o=arguments.length>2,d=keys$7(e);if(e.length&&e.reduce)return l=function(){return r.apply(s,arguments)},o?e.reduce(l,g):e.reduce(l);for(o&&(c=1,g=e[d[0]]),n=d.length;c<n;c++)g=r.call(s,g,e[d[c]],c,e);return g}}var reduce_1=reduce$1,isArray$j=isArray_1;function copyWithin$1(e,r,a,n){if(isArray$j(e)&&e.copyWithin)return e.copyWithin(r,a,n);var l,c,s=r>>0,g=a>>0,o=e.length,d=arguments.length>3?n>>0:o;if(s<o&&(s=s>=0?s:o+s,s>=0&&(g=g>=0?g:o+g,d=d>=0?d:o+d,g<d)))for(l=0,c=e.slice(g,d);s<o&&!(c.length<=l);s++)e[s]=c[l++];return e}var copyWithin_1=copyWithin$1,isArray$i=isArray_1;function chunk$1(e,r){var a,n=[],l=r>>0||1;if(isArray$i(e))if(l>=0&&e.length>l)for(a=0;a<e.length;)n.push(e.slice(a,a+l)),a+=l;else n=e.length?[e]:e;return n}var chunk_1=chunk$1,map$3=map_1,property$2=property_1;function pluck$2(e,r){return map$3(e,property$2(r))}var pluck_1=pluck$2,isFunction$8=isFunction_1,eqNull$5=eqNull_1,get$3=get_1,arrayEach$8=arrayEach_1;function helperCreateMinMax$2(e){return function(r,a){if(r&&r.length){var n,l;return arrayEach$8(r,function(c,s){a&&(c=isFunction$8(a)?a(c,s,r):get$3(c,a)),!eqNull$5(c)&&(eqNull$5(n)||e(n,c))&&(l=s,n=c)}),r[l]}return n}}var helperCreateMinMax_1=helperCreateMinMax$2,helperCreateMinMax$1=helperCreateMinMax_1,max$2=helperCreateMinMax$1(function(e,r){return e<r}),max_1=max$2,pluck$1=pluck_1,max$1=max_1;function unzip$2(e){var r,a,n,l=[];if(e&&e.length)for(r=0,a=max$1(e,function(c){return c?c.length:0}),n=a?a.length:0;r<n;r++)l.push(pluck$1(e,r));return l}var unzip_1=unzip$2,unzip$1=unzip_1;function zip$1(){return unzip$1(arguments)}var zip_1=zip$1,values$3=values_1,each$b=each_1;function zipObject$1(e,r){var a={};return r=r||[],each$b(values$3(e),function(n,l){a[n]=r[l]}),a}var zipObject_1=zipObject$1,isArray$h=isArray_1,arrayEach$7=arrayEach_1;function flattenDeep(e,r){var a=[];return arrayEach$7(e,function(n){a=a.concat(isArray$h(n)?r?flattenDeep(n,r):n:[n])}),a}function flatten$1(e,r){return isArray$h(e)?flattenDeep(e,r):[]}var flatten_1=flatten$1,map$2=map_1,isArray$g=isArray_1;function deepGetObj(e,r){for(var a=0,n=r.length;e&&a<n;)e=e[r[a++]];return n&&e?e:0}function invoke$1(e,r){for(var a,n=arguments,l=[],c=[],s=2,g=n.length;s<g;s++)l.push(n[s]);if(isArray$g(r)){for(g=r.length-1,s=0;s<g;s++)c.push(r[s]);r=r[g]}return map$2(e,function(o){if(c.length&&(o=deepGetObj(o,c)),a=o[r]||r,a&&a.apply)return a.apply(o,l)})}var invoke_1=invoke$1;function helperDeleteProperty$2(e,r){try{delete e[r]}catch{e[r]=void 0}}var helperDeleteProperty_1=helperDeleteProperty$2,isArray$f=isArray_1,lastArrayEach$1=lastArrayEach_1,lastObjectEach$1=lastObjectEach_1;function lastEach$2(e,r,a){return e&&(isArray$f(e)?lastArrayEach$1:lastObjectEach$1)(e,r,a)}var lastEach_1=lastEach$2,helperCreateInTypeof$3=helperCreateInTypeof_1,isObject$4=helperCreateInTypeof$3("object"),isObject_1=isObject$4,helperDeleteProperty$1=helperDeleteProperty_1,isPlainObject$3=isPlainObject_1,isObject$3=isObject_1,isArray$e=isArray_1,isNull$5=isNull_1,assign$9=assign_1,objectEach$2=objectEach_1;function clear$2(e,r,a){if(e){var n,l=arguments.length>1&&(isNull$5(r)||!isObject$3(r)),c=l?a:r;if(isPlainObject$3(e))objectEach$2(e,l?function(s,g){e[g]=r}:function(s,g){helperDeleteProperty$1(e,g)}),c&&assign$9(e,c);else if(isArray$e(e)){if(l)for(n=e.length;n>0;)n--,e[n]=r;else e.length=0;c&&e.push.apply(e,c)}}return e}var clear_1=clear$2,helperDeleteProperty=helperDeleteProperty_1,isFunction$7=isFunction_1,isArray$d=isArray_1,each$a=each_1,arrayEach$6=arrayEach_1,lastEach$1=lastEach_1,clear$1=clear_1,eqNull$4=eqNull_1;function pluckProperty(e){return function(r,a){return a===e}}function remove$2(e,r,a){if(e){if(!eqNull$4(r)){var n=[],l=[];return isFunction$7(r)||(r=pluckProperty(r)),each$a(e,function(c,s,g){r.call(a,c,s,g)&&n.push(s)}),isArray$d(e)?lastEach$1(n,function(c,s){l.push(e[c]),e.splice(c,1)}):(l={},arrayEach$6(n,function(c){l[c]=e[c],helperDeleteProperty(e,c)})),l}return clear$1(e)}return e}var remove_1=remove$2,setupDefaults$7=setupDefaults_1,orderBy$1=orderBy_1,clone$1=clone_1,eqNull$3=eqNull_1,each$9=each_1,remove$1=remove_1,assign$8=assign_1;function strictTree(e,r){each$9(e,function(a){a[r]&&!a[r].length&&remove$1(a,r)})}function toArrayTree$1(e,r){var a=assign$8({},setupDefaults$7.treeOptions,r),n=a.strict,l=a.key,c=a.parentKey,s=a.children,g=a.mapChildren,o=a.sortKey,d=a.reverse,h=a.data,T=[],U={},A={},M,L,O;return o&&(e=orderBy$1(clone$1(e),o),d&&(e=e.reverse())),each$9(e,function(R){M=R[l],A[M]=!0}),each$9(e,function(R){M=R[l],h?(L={},L[h]=R):L=R,O=R[c],U[M]=U[M]||[],U[O]=U[O]||[],U[O].push(L),L[l]=M,L[c]=O,L[s]=U[M],g&&(L[g]=U[M]),(!n||n&&eqNull$3(O))&&(A[O]||T.push(L))}),n&&strictTree(e,s),T}var toArrayTree_1=toArrayTree$1,setupDefaults$6=setupDefaults_1,each$8=each_1,assign$7=assign_1;function unTreeList(e,r,a){var n=a.children,l=a.data,c=a.clear;return each$8(r,function(s){var g=s[n];l&&(s=s[l]),e.push(s),g&&g.length&&unTreeList(e,g,a),c&&delete s[n]}),e}function toTreeArray$1(e,r){return unTreeList([],e,assign$7({},setupDefaults$6.treeOptions,r))}var toTreeArray_1=toTreeArray$1;function helperCreateTreeFunc$4(e){return function(r,a,n,l){var c=n||{},s=c.children||"children";return e(null,r,a,l,[],[],s,c)}}var helperCreateTreeFunc_1=helperCreateTreeFunc$4,helperCreateTreeFunc$3=helperCreateTreeFunc_1;function findTreeItem(e,r,a,n,l,c,s,g){if(r){var o,d,h,T,U,A;for(d=0,h=r.length;d<h;d++){if(o=r[d],T=l.concat([""+d]),U=c.concat([o]),a.call(n,o,d,r,T,e,U))return{index:d,item:o,path:T,items:r,parent:e,nodes:U};if(s&&o&&(A=findTreeItem(o,o[s],a,n,T.concat([s]),U,s),A))return A}}}var findTree$1=helperCreateTreeFunc$3(findTreeItem),findTree_1=findTree$1,helperCreateTreeFunc$2=helperCreateTreeFunc_1,each$7=each_1;function eachTreeItem(e,r,a,n,l,c,s,g){var o,d;each$7(r,function(h,T){o=l.concat([""+T]),d=c.concat([h]),a.call(n,h,T,r,o,e,d),h&&s&&(o.push(s),eachTreeItem(h,h[s],a,n,o,d,s))})}var eachTree$2=helperCreateTreeFunc$2(eachTreeItem),eachTree_1=eachTree$2,helperCreateTreeFunc$1=helperCreateTreeFunc_1,map$1=map_1;function mapTreeItem(e,r,a,n,l,c,s,g){var o,d,h,T=g.mapChildren||s;return map$1(r,function(U,A){return o=l.concat([""+A]),d=c.concat([U]),h=a.call(n,U,A,r,o,e,d),h&&U&&s&&U[s]&&(h[T]=mapTreeItem(U,U[s],a,n,o,d,s,g)),h})}var mapTree$1=helperCreateTreeFunc$1(mapTreeItem),mapTree_1=mapTree$1,eachTree$1=eachTree_1;function filterTree$1(e,r,a,n){var l=[];return e&&r&&eachTree$1(e,function(c,s,g,o,d,h){r.call(n,c,s,g,o,d,h)&&l.push(c)},a),l}var filterTree_1=filterTree$1,helperCreateTreeFunc=helperCreateTreeFunc_1,arrayEach$5=arrayEach_1,assign$6=assign_1;function searchTreeItem(e,r,a,n,l,c,s,g,o){var d,h,T,U,A,M=[],L=o.original,O=o.data,R=o.mapChildren||g;return arrayEach$5(a,function(E,V){d=c.concat([""+V]),h=s.concat([E]),U=e||n.call(l,E,V,a,d,r,h),A=g&&E[g],U||A?(L?T=E:(T=assign$6({},E),O&&(T[O]=E)),T[R]=searchTreeItem(U,E,E[g],n,l,d,h,g,o),(U||T[R].length)&&M.push(T)):U&&M.push(T)}),M}var searchTree$1=helperCreateTreeFunc(function(e,r,a,n,l,c,s,g){return searchTreeItem(0,e,r,a,n,l,c,s,g)}),searchTree_1=searchTree$1;function arrayIndexOf$2(e,r){if(e.indexOf)return e.indexOf(r);for(var a=0,n=e.length;a<n;a++)if(r===e[a])return a}var arrayIndexOf_1=arrayIndexOf$2;function arrayLastIndexOf$2(e,r){if(e.lastIndexOf)return e.lastIndexOf(r);for(var a=e.length-1;a>=0;a--)if(r===e[a])return a;return-1}var arrayLastIndexOf_1=arrayLastIndexOf$2,helperCreateInTypeof$2=helperCreateInTypeof_1,isNumber$a=helperCreateInTypeof$2("number"),isNumber_1=isNumber$a,isNumber$9=isNumber_1;function isNumberNaN$1(e){return isNumber$9(e)&&isNaN(e)}var _isNaN=isNumberNaN$1,helperCreateInTypeof$1=helperCreateInTypeof_1,isString$9=helperCreateInTypeof$1("string"),isString_1=isString$9,helperCreateInInObjectString$3=helperCreateInInObjectString_1,isDate$8=helperCreateInInObjectString$3("Date"),isDate_1=isDate$8,staticParseInt$5=parseInt,staticParseInt_1=staticParseInt$5;function helperGetUTCDateTime$1(e){return Date.UTC(e.y,e.M||0,e.d||1,e.H||0,e.m||0,e.s||0,e.S||0)}var helperGetUTCDateTime_1=helperGetUTCDateTime$1;function helperGetDateTime$c(e){return e.getTime()}var helperGetDateTime_1=helperGetDateTime$c,staticParseInt$4=staticParseInt_1,helperGetUTCDateTime=helperGetUTCDateTime_1,helperGetDateTime$b=helperGetDateTime_1,isString$8=isString_1,isDate$7=isDate_1;function getParseRule(e){return"(\\d{"+e+"})"}function toParseMs(e){return e<10?e*100:e<100?e*10:e}function toParseNum(e){return isNaN(e)?e:staticParseInt$4(e)}var d2=getParseRule(2),d1or2=getParseRule("1,2"),d1or7=getParseRule("1,7"),d3or4=getParseRule("3,4"),place=".{1}",d1Or2RE=place+d1or2,dzZ="(([zZ])|([-+]\\d{2}:?\\d{2}))",defaulParseStrs=[d3or4,d1Or2RE,d1Or2RE,d1Or2RE,d1Or2RE,d1Or2RE,place+d1or7,dzZ],defaulParseREs=[];for(var len=defaulParseStrs.length-1;len>=0;len--){for(var rule="",i=0;i<len+1;i++)rule+=defaulParseStrs[i];defaulParseREs.push(new RegExp("^"+rule+"$"))}function parseDefaultRules(e){for(var r,a={},n=0,l=defaulParseREs.length;n<l;n++)if(r=e.match(defaulParseREs[n]),r){a.y=r[1],a.M=r[2],a.d=r[3],a.H=r[4],a.m=r[5],a.s=r[6],a.S=r[7],a.Z=r[8];break}return a}var customParseStrs=[["yyyy",d3or4],["yy",d2],["MM",d2],["M",d1or2],["dd",d2],["d",d1or2],["HH",d2],["H",d1or2],["mm",d2],["m",d1or2],["ss",d2],["s",d1or2],["SSS",getParseRule(3)],["S",d1or7],["Z",dzZ]],parseRuleMaps={},parseRuleKeys=["\\[([^\\]]+)\\]"];for(var i=0;i<customParseStrs.length;i++){var itemRule=customParseStrs[i];parseRuleMaps[itemRule[0]]=itemRule[1]+"?",parseRuleKeys.push(itemRule[0])}var customParseRes=new RegExp(parseRuleKeys.join("|"),"g"),cacheFormatMaps={};function parseCustomRules(e,r){var a=cacheFormatMaps[r];if(!a){var n=[],l=r.replace(/([$(){}*+.?\\^|])/g,"\\$1").replace(customParseRes,function(h,T){var U=h.charAt(0);return U==="["?T:(n.push(U),parseRuleMaps[h])});a=cacheFormatMaps[r]={_i:n,_r:new RegExp(l)}}var c={},s=e.match(a._r);if(s){for(var g=a._i,o=1,d=s.length;o<d;o++)c[g[o-1]]=s[o];return c}return c}function parseTimeZone(e){if(/^[zZ]/.test(e.Z))return new Date(helperGetUTCDateTime(e));var r=e.Z.match(/([-+])(\d{2}):?(\d{2})/);return r?new Date(helperGetUTCDateTime(e)-(r[1]==="-"?-1:1)*staticParseInt$4(r[2])*36e5+staticParseInt$4(r[3])*6e4):new Date("")}function toStringDate$d(e,r){if(e){var a=isDate$7(e);if(a||!r&&/^[0-9]{11,15}$/.test(e))return new Date(a?helperGetDateTime$b(e):staticParseInt$4(e));if(isString$8(e)){var n=r?parseCustomRules(e,r):parseDefaultRules(e);if(n.y)return n.M&&(n.M=toParseNum(n.M)-1),n.S&&(n.S=toParseMs(toParseNum(n.S.substring(0,3)))),n.Z?parseTimeZone(n):new Date(n.y,n.M||0,n.d||1,n.H||0,n.m||0,n.s||0,n.S||0)}}return new Date("")}var toStringDate_1=toStringDate$d;function helperNewDate$4(){return new Date}var helperNewDate_1=helperNewDate$4,isDate$6=isDate_1,toStringDate$c=toStringDate_1,helperNewDate$3=helperNewDate_1;function isLeapYear$2(e){var r,a=e?toStringDate$c(e):helperNewDate$3();return isDate$6(a)?(r=a.getFullYear(),r%4===0&&(r%100!==0||r%400===0)):!1}var isLeapYear_1=isLeapYear$2,isArray$c=isArray_1,hasOwnProp$5=hasOwnProp_1;function forOf$1(e,r,a){if(e){if(isArray$c(e))for(var n=0,l=e.length;n<l&&r.call(a,e[n],n,e)!==!1;n++);else for(var c in e)if(hasOwnProp$5(e,c)&&r.call(a,e[c],c,e)===!1)break}}var forOf_1=forOf$1,isArray$b=isArray_1,keys$6=hasOwnProp_1;function lastForOf$1(e,r,a){if(e){var n,l;if(isArray$b(e))for(n=e.length-1;n>=0&&r.call(a,e[n],n,e)!==!1;n--);else for(l=keys$6(e),n=l.length-1;n>=0&&r.call(a,e[l[n]],l[n],e)!==!1;n--);}}var lastForOf_1=lastForOf$1,isArray$a=isArray_1,isString$7=isString_1,hasOwnProp$4=hasOwnProp_1;function helperCreateIndexOf$2(e,r){return function(a,n){if(a){if(a[e])return a[e](n);if(isString$7(a)||isArray$a(a))return r(a,n);for(var l in a)if(hasOwnProp$4(a,l)&&n===a[l])return l}return-1}}var helperCreateIndexOf_1=helperCreateIndexOf$2,helperCreateIndexOf$1=helperCreateIndexOf_1,arrayIndexOf$1=arrayIndexOf_1,indexOf$1=helperCreateIndexOf$1("indexOf",arrayIndexOf$1),indexOf_1=indexOf$1,helperCreateIndexOf=helperCreateIndexOf_1,arrayLastIndexOf$1=arrayLastIndexOf_1,lastIndexOf$2=helperCreateIndexOf("lastIndexOf",arrayLastIndexOf$1),lastIndexOf_1=lastIndexOf$2,isArray$9=isArray_1,isString$6=isString_1,each$6=each_1;function getSize$2(e){var r=0;return isString$6(e)||isArray$9(e)?e.length:(each$6(e,function(){r++}),r)}var getSize_1=getSize$2,isNumber$8=isNumber_1;function isNumberFinite$1(e){return isNumber$8(e)&&isFinite(e)}var _isFinite=isNumberFinite$1,isArray$8=isArray_1,isNull$4=isNull_1,isInteger$2=function(e){return!isNull$4(e)&&!isNaN(e)&&!isArray$8(e)&&e%1===0},isInteger_1=isInteger$2,isArray$7=isArray_1,isInteger$1=isInteger_1,isNull$3=isNull_1;function isFloat$1(e){return!isNull$3(e)&&!isNaN(e)&&!isArray$7(e)&&!isInteger$1(e)}var isFloat_1=isFloat$1,helperCreateInTypeof=helperCreateInTypeof_1,isBoolean$2=helperCreateInTypeof("boolean"),isBoolean_1=isBoolean$2,helperCreateInInObjectString$2=helperCreateInInObjectString_1,isRegExp$3=helperCreateInInObjectString$2("RegExp"),isRegExp_1=isRegExp$3,helperCreateInInObjectString$1=helperCreateInInObjectString_1,isError$2=helperCreateInInObjectString$1("Error"),isError_1=isError$2;function isTypeError$1(e){return e?e.constructor===TypeError:!1}var isTypeError_1=isTypeError$1;function isEmpty$2(e){for(var r in e)return!1;return!0}var isEmpty_1=isEmpty$2,staticStrUndefined$9=staticStrUndefined_1,supportSymbol=typeof Symbol!==staticStrUndefined$9;function isSymbol$2(e){return supportSymbol&&Symbol.isSymbol?Symbol.isSymbol(e):typeof e=="symbol"}var isSymbol_1=isSymbol$2,helperCreateInInObjectString=helperCreateInInObjectString_1,isArguments$1=helperCreateInInObjectString("Arguments"),isArguments_1=isArguments$1,isString$5=isString_1,isNumber$7=isNumber_1;function isElement$1(e){return!!(e&&isString$5(e.nodeName)&&isNumber$7(e.nodeType))}var isElement_1=isElement$1,staticStrUndefined$8=staticStrUndefined_1,staticDocument$3=typeof document===staticStrUndefined$8?0:document,staticDocument_1=staticDocument$3,staticDocument$2=staticDocument_1;function isDocument$1(e){return!!(e&&staticDocument$2&&e.nodeType===9)}var isDocument_1=isDocument$1,staticStrUndefined$7=staticStrUndefined_1,staticWindow$2=typeof window===staticStrUndefined$7?0:window,staticWindow_1=staticWindow$2,staticWindow$1=staticWindow_1;function isWindow$1(e){return staticWindow$1&&!!(e&&e===e.window)}var isWindow_1=isWindow$1,staticStrUndefined$6=staticStrUndefined_1,supportFormData=typeof FormData!==staticStrUndefined$6;function isFormData$1(e){return supportFormData&&e instanceof FormData}var isFormData_1=isFormData$1,staticStrUndefined$5=staticStrUndefined_1,supportMap=typeof Map!==staticStrUndefined$5;function isMap$1(e){return supportMap&&e instanceof Map}var isMap_1=isMap$1,staticStrUndefined$4=staticStrUndefined_1,supportWeakMap=typeof WeakMap!==staticStrUndefined$4;function isWeakMap$1(e){return supportWeakMap&&e instanceof WeakMap}var isWeakMap_1=isWeakMap$1,staticStrUndefined$3=staticStrUndefined_1,supportSet=typeof Set!==staticStrUndefined$3;function isSet$1(e){return supportSet&&e instanceof Set}var isSet_1=isSet$1,staticStrUndefined$2=staticStrUndefined_1,supportWeakSet=typeof WeakSet!==staticStrUndefined$2;function isWeakSet$1(e){return supportWeakSet&&e instanceof WeakSet}var isWeakSet_1=isWeakSet$1,isFunction$6=isFunction_1,isString$4=isString_1,isArray$6=isArray_1,hasOwnProp$3=hasOwnProp_1;function helperCreateiterateIndexOf$2(e){return function(r,a,n){if(r&&isFunction$6(a)){if(isArray$6(r)||isString$4(r))return e(r,a,n);for(var l in r)if(hasOwnProp$3(r,l)&&a.call(n,r[l],l,r))return l}return-1}}var helperCreateiterateIndexOf_1=helperCreateiterateIndexOf$2,helperCreateiterateIndexOf$1=helperCreateiterateIndexOf_1,findIndexOf$3=helperCreateiterateIndexOf$1(function(e,r,a){for(var n=0,l=e.length;n<l;n++)if(r.call(a,e[n],n,e))return n;return-1}),findIndexOf_1=findIndexOf$3,isNumber$6=isNumber_1,isArray$5=isArray_1,isString$3=isString_1,isRegExp$2=isRegExp_1,isDate$5=isDate_1,isBoolean$1=isBoolean_1,isUndefined$6=isUndefined_1,keys$5=keys_1,every$1=every_1;function helperEqualCompare$2(e,r,a,n,l,c,s){if(e===r)return!0;if(e&&r&&!isNumber$6(e)&&!isNumber$6(r)&&!isString$3(e)&&!isString$3(r)){if(isRegExp$2(e))return a(""+e,""+r,l,c,s);if(isDate$5(e)||isBoolean$1(e))return a(+e,+r,l,c,s);var g,o,d,h=isArray$5(e),T=isArray$5(r);if(h||T?h&&T:e.constructor===r.constructor)return o=keys$5(e),d=keys$5(r),n&&(g=n(e,r,l)),o.length===d.length?isUndefined$6(g)?every$1(o,function(U,A){return U===d[A]&&helperEqualCompare$2(e[U],r[d[A]],a,n,h||T?A:U,e,r)}):!!g:!1}return a(e,r,l,c,s)}var helperEqualCompare_1=helperEqualCompare$2;function helperDefaultCompare$2(e,r){return e===r}var helperDefaultCompare_1=helperDefaultCompare$2,helperEqualCompare$1=helperEqualCompare_1,helperDefaultCompare$1=helperDefaultCompare_1;function isEqual$2(e,r){return helperEqualCompare$1(e,r,helperDefaultCompare$1)}var isEqual_1=isEqual$2,keys$4=keys_1,findIndexOf$2=findIndexOf_1,isEqual$1=isEqual_1,some$1=some_1,includeArrays$1=includeArrays_1;function isMatch$1(e,r){var a=keys$4(e),n=keys$4(r);if(n.length){if(includeArrays$1(a,n))return some$1(n,function(l){return findIndexOf$2(a,function(c){return c===l&&isEqual$1(e[c],r[l])})>-1})}else return!0;return isEqual$1(e,r)}var isMatch_1=isMatch$1,helperEqualCompare=helperEqualCompare_1,helperDefaultCompare=helperDefaultCompare_1,isFunction$5=isFunction_1,isUndefined$5=isUndefined_1;function isEqualWith$1(e,r,a){return isFunction$5(a)?helperEqualCompare(e,r,function(n,l,c,s,g){var o=a(n,l,c,s,g);return isUndefined$5(o)?helperDefaultCompare(n,l):!!o},a):helperEqualCompare(e,r,helperDefaultCompare)}var isEqualWith_1=isEqualWith$1,isSymbol$1=isSymbol_1,isDate$4=isDate_1,isArray$4=isArray_1,isRegExp$1=isRegExp_1,isError$1=isError_1,isNull$2=isNull_1;function getType$1(e){return isNull$2(e)?"null":isSymbol$1(e)?"symbol":isDate$4(e)?"date":isArray$4(e)?"array":isRegExp$1(e)?"regexp":isError$1(e)?"error":typeof e}var getType_1=getType$1,__uniqueId=0;function uniqueId$1(e){return[e,++__uniqueId].join("")}var uniqueId_1=uniqueId$1,helperCreateiterateIndexOf=helperCreateiterateIndexOf_1,findLastIndexOf$1=helperCreateiterateIndexOf(function(e,r,a){for(var n=e.length-1;n>=0;n--)if(r.call(a,e[n],n,e))return n;return-1}),findLastIndexOf_1=findLastIndexOf$1,isPlainObject$2=isPlainObject_1,isString$2=isString_1;function toStringJSON$1(e){if(isPlainObject$2(e))return e;if(isString$2(e))try{return JSON.parse(e)}catch{}return{}}var toStringJSON_1=toStringJSON$1,eqNull$2=eqNull_1;function toJSONString$1(e){return eqNull$2(e)?"":JSON.stringify(e)}var toJSONString_1=toJSONString$1,helperCreateGetObjects=helperCreateGetObjects_1,entries$1=helperCreateGetObjects("entries",2),entries_1=entries$1,isFunction$4=isFunction_1,isArray$3=isArray_1,each$5=each_1,findIndexOf$1=findIndexOf_1;function helperCreatePickOmit$2(e,r){return function(a,n){var l,c,s={},g=[],o=this,d=arguments,h=d.length;if(!isFunction$4(n)){for(c=1;c<h;c++)l=d[c],g.push.apply(g,isArray$3(l)?l:[l]);n=0}return each$5(a,function(T,U){((n?n.call(o,T,U,a):findIndexOf$1(g,function(A){return A===U})>-1)?e:r)&&(s[U]=T)}),s}}var helperCreatePickOmit_1=helperCreatePickOmit$2,helperCreatePickOmit$1=helperCreatePickOmit_1,pick$1=helperCreatePickOmit$1(1,0),pick_1=pick$1,helperCreatePickOmit=helperCreatePickOmit_1,omit$1=helperCreatePickOmit(0,1),omit_1=omit$1,values$2=values_1;function first$1(e){return values$2(e)[0]}var first_1=first$1,values$1=values_1;function last$1(e){var r=values$1(e);return r[r.length-1]}var last_1=last$1,staticHGKeyRE=staticHGKeyRE_1,helperGetHGSKeys$1=helperGetHGSKeys_1,hasOwnProp$2=hasOwnProp_1;function has$1(e,r){if(e){if(hasOwnProp$2(e,r))return!0;var a,n,l,c,s,g,o=helperGetHGSKeys$1(r),d=0,h=o.length;for(s=e;d<h&&(g=!1,a=o[d],c=a?a.match(staticHGKeyRE):"",c?(n=c[1],l=c[2],n?s[n]&&hasOwnProp$2(s[n],l)&&(g=!0,s=s[n][l]):hasOwnProp$2(s,l)&&(g=!0,s=s[l])):hasOwnProp$2(s,a)&&(g=!0,s=s[a]),g);d++)if(d===h-1)return!0}return!1}var has_1=has$1,staticParseInt$3=staticParseInt_1,helperGetHGSKeys=helperGetHGSKeys_1,hasOwnProp$1=hasOwnProp_1,sKeyRE=/(.+)?\[(\d+)\]$/;function setDeepProps(e,r,a,n,l){if(e[r])a&&(e[r]=l);else{var c,s,g=r?r.match(sKeyRE):null;if(a)s=l;else{var o=n?n.match(sKeyRE):null;o&&!o[1]?s=new Array(staticParseInt$3(o[2])+1):s={}}return g?g[1]?(c=staticParseInt$3(g[2]),e[g[1]]?a?e[g[1]][c]=s:e[g[1]][c]?s=e[g[1]][c]:e[g[1]][c]=s:(e[g[1]]=new Array(c+1),e[g[1]][c]=s)):e[g[2]]=s:e[r]=s,s}return e[r]}function set$1(e,r,a){if(e){if((e[r]||hasOwnProp$1(e,r))&&!isPrototypePolluted(r))e[r]=a;else for(var n=e,l=helperGetHGSKeys(r),c=l.length,s=0;s<c;s++)if(!isPrototypePolluted(l[s])){var g=s===c-1;n=setDeepProps(n,l[s],g,g?null:l[s+1],a)}}return e}function isPrototypePolluted(e){return e==="__proto__"||e==="constructor"||e==="prototype"}var set_1=set$1,isEmpty$1=isEmpty_1,isObject$2=isObject_1,isFunction$3=isFunction_1,property$1=property_1,each$4=each_1;function createiterateEmpty(e){return function(){return isEmpty$1(e)}}function groupBy$2(e,r,a){var n,l={};return e&&(r&&isObject$2(r)?r=createiterateEmpty(r):isFunction$3(r)||(r=property$1(r)),each$4(e,function(c,s){n=r?r.call(a,c,s,e):c,l[n]?l[n].push(c):l[n]=[c]})),l}var groupBy_1=groupBy$2,groupBy$1=groupBy_1,objectEach$1=objectEach_1;function countBy$1(e,r,a){var n=groupBy$1(e,r,a||this);return objectEach$1(n,function(l,c){n[c]=l.length}),n}var countBy_1=countBy$1;function range$1(e,r,a){var n,l,c=[],s=arguments;if(s.length<2&&(r=s[0],e=0),n=e>>0,l=r>>0,n<r)for(a=a>>0||1;n<l;n+=a)c.push(n);return c}var range_1=range$1,keys$3=keys_1,slice$6=slice_1,includes$2=includes_1,arrayEach$4=arrayEach_1,assign$5=assign_1;function destructuring$1(e,r){if(e&&r){var a=assign$5.apply(this,[{}].concat(slice$6(arguments,1))),n=keys$3(a);arrayEach$4(keys$3(e),function(l){includes$2(n,l)&&(e[l]=a[l])})}return e}var destructuring_1=destructuring$1,helperCreateMinMax=helperCreateMinMax_1,min$1=helperCreateMinMax(function(e,r){return e>r}),min_1=min$1;function helperNumberDecimal$4(e){return(e.split(".")[1]||"").length}var helperNumberDecimal_1=helperNumberDecimal$4,staticParseInt$2=staticParseInt_1;function helperStringRepeat$5(e,r){if(e.repeat)return e.repeat(r);var a=isNaN(r)?[]:new Array(staticParseInt$2(r));return a.join(e)+(a.length>0?e:"")}var helperStringRepeat_1=helperStringRepeat$5;function helperNumberOffsetPoint$2(e,r){return e.substring(0,r)+"."+e.substring(r,e.length)}var helperNumberOffsetPoint_1=helperNumberOffsetPoint$2,helperStringRepeat$4=helperStringRepeat_1,helperNumberOffsetPoint$1=helperNumberOffsetPoint_1;function toNumberString$8(e){var r=""+e,a=r.match(/^([-+]?)((\d+)|((\d+)?[.](\d+)?))e([-+]{1})([0-9]+)$/);if(a){var n=e<0,l=n?"-":"",c=a[3]||"",s=a[5]||"",g=a[6]||"",o=a[7],d=a[8],h=d-g.length,T=d-c.length,U=d-s.length;return o==="+"?c?l+c+helperStringRepeat$4("0",d):h>0?l+s+g+helperStringRepeat$4("0",h):l+s+helperNumberOffsetPoint$1(g,d):c?T>0?l+"0."+helperStringRepeat$4("0",Math.abs(T))+c:l+helperNumberOffsetPoint$1(c,T):U>0?l+"0."+helperStringRepeat$4("0",Math.abs(U))+s+g:l+helperNumberOffsetPoint$1(s,U)+g}return r}var toNumberString_1=toNumberString$8,helperNumberDecimal$3=helperNumberDecimal_1,toNumberString$7=toNumberString_1;function helperMultiply$2(e,r){var a=toNumberString$7(e),n=toNumberString$7(r);return parseInt(a.replace(".",""))*parseInt(n.replace(".",""))/Math.pow(10,helperNumberDecimal$3(a)+helperNumberDecimal$3(n))}var helperMultiply_1=helperMultiply$2,helperMultiply$1=helperMultiply_1,toNumber$5=toNumber_1,toNumberString$6=toNumberString_1;function helperCreateMathNumber$3(e){return function(r,a){var n=toNumber$5(r),l=n;if(n){a=a>>0;var c=toNumberString$6(n),s=c.split("."),g=s[0],o=s[1]||"",d=o.substring(0,a+1),h=g+(d?"."+d:"");if(a>=o.length)return toNumber$5(h);if(h=n,a>0){var T=Math.pow(10,a);l=Math[e](helperMultiply$1(h,T))/T}else l=Math[e](h)}return l}}var helperCreateMathNumber_1=helperCreateMathNumber$3,helperCreateMathNumber$2=helperCreateMathNumber_1,round$3=helperCreateMathNumber$2("round"),round_1=round$3,helperCreateMathNumber$1=helperCreateMathNumber_1,ceil$2=helperCreateMathNumber$1("ceil"),ceil_1=ceil$2,helperCreateMathNumber=helperCreateMathNumber_1,floor$2=helperCreateMathNumber("floor"),floor_1=floor$2,eqNull$1=eqNull_1,isNumber$5=isNumber_1,toNumberString$5=toNumberString_1;function toValueString$e(e){return isNumber$5(e)?toNumberString$5(e):""+(eqNull$1(e)?"":e)}var toValueString_1=toValueString$e,round$2=round_1,toValueString$d=toValueString_1,helperStringRepeat$3=helperStringRepeat_1,helperNumberOffsetPoint=helperNumberOffsetPoint_1;function toFixed$3(e,r){r=r>>0;var a=toValueString$d(round$2(e,r)),n=a.split("."),l=n[0],c=n[1]||"",s=r-c.length;return r?s>0?l+"."+c+helperStringRepeat$3("0",s):l+helperNumberOffsetPoint(c,Math.abs(s)):l}var toFixed_1=toFixed$3,setupDefaults$5=setupDefaults_1,round$1=round_1,ceil$1=ceil_1,floor$1=floor_1,isNumber$4=isNumber_1,toValueString$c=toValueString_1,toFixed$2=toFixed_1,toNumberString$4=toNumberString_1,assign$4=assign_1;function commafy$1(e,r){var a=assign$4({},setupDefaults$5.commafyOptions,r),n=a.digits,l=isNumber$4(e),c,s,g,o,d;return l?(c=(a.ceil?ceil$1:a.floor?floor$1:round$1)(e,n),s=toNumberString$4(n?toFixed$2(c,n):c).split("."),o=s[0],d=s[1],g=o&&c<0,g&&(o=o.substring(1,o.length))):(c=toValueString$c(e).replace(/,/g,""),s=c?[c]:[],o=s[0]),s.length?(g?"-":"")+o.replace(new RegExp("(?=(?!(\\b))(.{"+(a.spaceNumber||3)+"})+$)","g"),a.separator||",")+(d?"."+d:""):c}var commafy_1=commafy$1,staticParseInt$1=staticParseInt_1,helperCreateToNumber=helperCreateToNumber_1,toInteger$1=helperCreateToNumber(staticParseInt$1),toInteger_1=toInteger$1,helperMultiply=helperMultiply_1,toNumber$4=toNumber_1;function multiply$3(e,r){var a=toNumber$4(e),n=toNumber$4(r);return helperMultiply(a,n)}var multiply_1=multiply$3,helperNumberDecimal$2=helperNumberDecimal_1,toNumberString$3=toNumberString_1,multiply$2=multiply_1;function helperNumberAdd$2(e,r){var a=toNumberString$3(e),n=toNumberString$3(r),l=Math.pow(10,Math.max(helperNumberDecimal$2(a),helperNumberDecimal$2(n)));return(multiply$2(e,l)+multiply$2(r,l))/l}var helperNumberAdd_1=helperNumberAdd$2,helperNumberAdd$1=helperNumberAdd_1,toNumber$3=toNumber_1;function add$1(e,r){return helperNumberAdd$1(toNumber$3(e),toNumber$3(r))}var add_1=add$1,helperNumberDecimal$1=helperNumberDecimal_1,toNumberString$2=toNumberString_1,toNumber$2=toNumber_1,toFixed$1=toFixed_1;function subtract$1(e,r){var a=toNumber$2(e),n=toNumber$2(r),l=toNumberString$2(a),c=toNumberString$2(n),s=helperNumberDecimal$1(l),g=helperNumberDecimal$1(c),o=Math.pow(10,Math.max(s,g)),d=s>=g?s:g;return parseFloat(toFixed$1((a*o-n*o)/o,d))}var subtract_1=subtract$1,helperNumberDecimal=helperNumberDecimal_1,toNumberString$1=toNumberString_1,multiply$1=multiply_1;function helperNumberDivide$2(e,r){var a=toNumberString$1(e),n=toNumberString$1(r),l=helperNumberDecimal(a),c=helperNumberDecimal(n),s=c-l,g=s<0,o=Math.pow(10,g?Math.abs(s):s);return multiply$1(a.replace(".","")/n.replace(".",""),g?1/o:o)}var helperNumberDivide_1=helperNumberDivide$2,helperNumberDivide$1=helperNumberDivide_1,toNumber$1=toNumber_1;function divide$1(e,r){return helperNumberDivide$1(toNumber$1(e),toNumber$1(r))}var divide_1=divide$1,helperNumberAdd=helperNumberAdd_1,isFunction$2=isFunction_1,each$3=each_1,get$2=get_1;function sum$2(e,r,a){var n=0;return each$3(e,r?isFunction$2(r)?function(){n=helperNumberAdd(n,r.apply(a,arguments))}:function(l){n=helperNumberAdd(n,get$2(l,r))}:function(l){n=helperNumberAdd(n,l)}),n}var sum_1=sum$2,helperNumberDivide=helperNumberDivide_1,getSize$1=getSize_1,sum$1=sum_1;function mean$1(e,r,a){return helperNumberDivide(sum$1(e,r,a),getSize$1(e))}var mean_1=mean$1,staticStrFirst$5="first",staticStrFirst_1=staticStrFirst$5,staticStrLast$4="last",staticStrLast_1=staticStrLast$4;function helperGetDateFullYear$5(e){return e.getFullYear()}var helperGetDateFullYear_1=helperGetDateFullYear$5,staticDayTime$5=864e5,staticDayTime_1=staticDayTime$5;function helperGetDateMonth$4(e){return e.getMonth()}var helperGetDateMonth_1=helperGetDateMonth$4,isDate$3=isDate_1,helperGetDateTime$a=helperGetDateTime_1;function isValidDate$c(e){return isDate$3(e)&&!isNaN(helperGetDateTime$a(e))}var isValidDate_1=isValidDate$c,staticStrFirst$4=staticStrFirst_1,staticStrLast$3=staticStrLast_1,staticDayTime$4=staticDayTime_1,helperGetDateFullYear$4=helperGetDateFullYear_1,helperGetDateTime$9=helperGetDateTime_1,helperGetDateMonth$3=helperGetDateMonth_1,toStringDate$b=toStringDate_1,isValidDate$b=isValidDate_1,isNumber$3=isNumber_1;function getWhatMonth$5(e,r,a){var n=r&&!isNaN(r)?r:0;if(e=toStringDate$b(e),isValidDate$b(e)){if(a===staticStrFirst$4)return new Date(helperGetDateFullYear$4(e),helperGetDateMonth$3(e)+n,1);if(a===staticStrLast$3)return new Date(helperGetDateTime$9(getWhatMonth$5(e,n+1,staticStrFirst$4))-1);if(isNumber$3(a)&&e.setDate(a),n){var l=e.getDate();if(e.setMonth(helperGetDateMonth$3(e)+n),l!==e.getDate())return e.setDate(1),new Date(helperGetDateTime$9(e)-staticDayTime$4)}}return e}var getWhatMonth_1=getWhatMonth$5,staticStrFirst$3=staticStrFirst_1,staticStrLast$2=staticStrLast_1,helperGetDateFullYear$3=helperGetDateFullYear_1,getWhatMonth$4=getWhatMonth_1,toStringDate$a=toStringDate_1,isValidDate$a=isValidDate_1;function getWhatYear$4(e,r,a){var n;if(e=toStringDate$a(e),isValidDate$a(e)&&(r&&(n=r&&!isNaN(r)?r:0,e.setFullYear(helperGetDateFullYear$3(e)+n)),a||!isNaN(a))){if(a===staticStrFirst$3)return new Date(helperGetDateFullYear$3(e),0,1);if(a===staticStrLast$2)return e.setMonth(11),getWhatMonth$4(e,0,staticStrLast$2);e.setMonth(a)}return e}var getWhatYear_1=getWhatYear$4,getWhatMonth$3=getWhatMonth_1,toStringDate$9=toStringDate_1,isValidDate$9=isValidDate_1;function getQuarterNumber(e){var r=e.getMonth();return r<3?1:r<6?2:r<9?3:4}function getWhatQuarter$1(e,r,a){var n,l=r&&!isNaN(r)?r*3:0;return e=toStringDate$9(e),isValidDate$9(e)?(n=(getQuarterNumber(e)-1)*3,e.setMonth(n),getWhatMonth$3(e,l,a)):e}var getWhatQuarter_1=getWhatQuarter$1,staticStrFirst$2=staticStrFirst_1,staticStrLast$1=staticStrLast_1,staticParseInt=staticParseInt_1,helperGetDateFullYear$2=helperGetDateFullYear_1,helperGetDateMonth$2=helperGetDateMonth_1,helperGetDateTime$8=helperGetDateTime_1,toStringDate$8=toStringDate_1,isValidDate$8=isValidDate_1;function getWhatDay$2(e,r,a){if(e=toStringDate$8(e),isValidDate$8(e)&&!isNaN(r)){if(e.setDate(e.getDate()+staticParseInt(r)),a===staticStrFirst$2)return new Date(helperGetDateFullYear$2(e),helperGetDateMonth$2(e),e.getDate());if(a===staticStrLast$1)return new Date(helperGetDateTime$8(getWhatDay$2(e,1,staticStrFirst$2))-1)}return e}var getWhatDay_1=getWhatDay$2;function helperStringUpperCase$2(e){return e.toUpperCase()}var helperStringUpperCase_1=helperStringUpperCase$2,staticDayTime$3=staticDayTime_1,staticWeekTime$2=staticDayTime$3*7,staticWeekTime_1=staticWeekTime$2,setupDefaults$4=setupDefaults_1,staticDayTime$2=staticDayTime_1,staticWeekTime$1=staticWeekTime_1,helperGetDateTime$7=helperGetDateTime_1,toStringDate$7=toStringDate_1,isValidDate$7=isValidDate_1,isNumber$2=isNumber_1;function getWhatWeek$2(e,r,a,n){if(e=toStringDate$7(e),isValidDate$7(e)){var l=isNumber$2(a),c=isNumber$2(n),s=helperGetDateTime$7(e);if(l||c){var g=c?n:setupDefaults$4.firstDayOfWeek,o=e.getDay(),d=l?a:o;if(o!==d){var h=0;g>o?h=-(7-g+o):g<o&&(h=g-o),d>g?s+=((d===0?7:d)-g+h)*staticDayTime$2:d<g?s+=(7-g+d+h)*staticDayTime$2:s+=h*staticDayTime$2}}return r&&!isNaN(r)&&(s+=r*staticWeekTime$1),new Date(s)}return e}var getWhatWeek_1=getWhatWeek$2,setupDefaults$3=setupDefaults_1,staticWeekTime=staticWeekTime_1,isNumber$1=isNumber_1,isValidDate$6=isValidDate_1,getWhatWeek$1=getWhatWeek_1,helperGetDateTime$6=helperGetDateTime_1;function helperCreateGetDateWeek$2(e){return function(r,a){var n=isNumber$1(a)?a:setupDefaults$3.firstDayOfWeek,l=getWhatWeek$1(r,0,n,n);if(isValidDate$6(l)){var c=new Date(l.getFullYear(),l.getMonth(),l.getDate()),s=e(l),g=s.getDay();return g>n&&s.setDate(7-g+n+1),g<n&&s.setDate(n-g+1),Math.floor((helperGetDateTime$6(c)-helperGetDateTime$6(s))/staticWeekTime+1)}return NaN}}var helperCreateGetDateWeek_1=helperCreateGetDateWeek$2,helperCreateGetDateWeek$1=helperCreateGetDateWeek_1,getYearWeek$2=helperCreateGetDateWeek$1(function(e){return new Date(e.getFullYear(),0,1)}),getYearWeek_1=getYearWeek$2,helperGetDateFullYear$1=helperGetDateFullYear_1,helperGetDateMonth$1=helperGetDateMonth_1;function helperGetYMD$1(e){return new Date(helperGetDateFullYear$1(e),helperGetDateMonth$1(e),e.getDate())}var helperGetYMD_1=helperGetYMD$1,helperGetDateTime$5=helperGetDateTime_1,helperGetYMD=helperGetYMD_1;function helperGetYMDTime$1(e){return helperGetDateTime$5(helperGetYMD(e))}var helperGetYMDTime_1=helperGetYMDTime$1,staticDayTime$1=staticDayTime_1,staticStrFirst$1=staticStrFirst_1,helperGetYMDTime=helperGetYMDTime_1,getWhatYear$3=getWhatYear_1,toStringDate$6=toStringDate_1,isValidDate$5=isValidDate_1;function getYearDay$2(e){return e=toStringDate$6(e),isValidDate$5(e)?Math.floor((helperGetYMDTime(e)-helperGetYMDTime(getWhatYear$3(e,0,staticStrFirst$1)))/staticDayTime$1)+1:NaN}var getYearDay_1=getYearDay$2,toValueString$b=toValueString_1,isUndefined$4=isUndefined_1,helperStringRepeat$2=helperStringRepeat_1;function padStart$2(e,r,a){var n=toValueString$b(e);return r=r>>0,a=isUndefined$4(a)?" ":""+a,n.padStart?n.padStart(r,a):r>n.length?(r-=n.length,r>a.length&&(a+=helperStringRepeat$2(a,r/a.length)),a.slice(0,r)+n):n}var padStart_1=padStart$2,setupDefaults$2=setupDefaults_1,helperStringUpperCase$1=helperStringUpperCase_1,helperGetDateFullYear=helperGetDateFullYear_1,helperGetDateMonth=helperGetDateMonth_1,toStringDate$5=toStringDate_1,getYearWeek$1=getYearWeek_1,getYearDay$1=getYearDay_1,assign$3=assign_1,isValidDate$4=isValidDate_1,isFunction$1=isFunction_1,padStart$1=padStart_1;function handleCustomTemplate(e,r,a,n){var l=r[a];return l?isFunction$1(l)?l(n,a,e):l[n]:n}var dateFormatRE=/\[([^\]]+)]|y{2,4}|M{1,2}|d{1,2}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|S{1,3}|Z{1,2}|W{1,2}|D{1,3}|[aAeEq]/g;function toDateString$2(e,r,a){if(e){if(e=toStringDate$5(e),isValidDate$4(e)){var n=r||setupDefaults$2.parseDateFormat||setupDefaults$2.formatString,l=e.getHours(),c=l<12?"am":"pm",s=assign$3({},setupDefaults$2.parseDateRules||setupDefaults$2.formatStringMatchs,a?a.formats:null),g=function(V,D){return(""+helperGetDateFullYear(e)).substr(4-D)},o=function(V,D){return padStart$1(helperGetDateMonth(e)+1,D,"0")},d=function(V,D){return padStart$1(e.getDate(),D,"0")},h=function(V,D){return padStart$1(l,D,"0")},T=function(V,D){return padStart$1(l<=12?l:l-12,D,"0")},U=function(V,D){return padStart$1(e.getMinutes(),D,"0")},A=function(V,D){return padStart$1(e.getSeconds(),D,"0")},M=function(V,D){return padStart$1(e.getMilliseconds(),D,"0")},L=function(V,D){var N=e.getTimezoneOffset()/60*-1;return handleCustomTemplate(e,s,V,(N>=0?"+":"-")+padStart$1(N,2,"0")+(D===1?":":"")+"00")},O=function(V,D){return padStart$1(handleCustomTemplate(e,s,V,getYearWeek$1(e,(a?a.firstDay:null)||setupDefaults$2.firstDayOfWeek)),D,"0")},R=function(V,D){return padStart$1(handleCustomTemplate(e,s,V,getYearDay$1(e)),D,"0")},E={yyyy:g,yy:g,MM:o,M:o,dd:d,d,HH:h,H:h,hh:T,h:T,mm:U,m:U,ss:A,s:A,SSS:M,S:M,ZZ:L,Z:L,WW:O,W:O,DDD:R,D:R,a:function(V){return handleCustomTemplate(e,s,V,c)},A:function(V){return handleCustomTemplate(e,s,V,helperStringUpperCase$1(c))},e:function(V){return handleCustomTemplate(e,s,V,e.getDay())},E:function(V){return handleCustomTemplate(e,s,V,e.getDay())},q:function(V){return handleCustomTemplate(e,s,V,Math.floor((helperGetDateMonth(e)+3)/3))}};return n.replace(dateFormatRE,function(V,D){return D||(E[V]?E[V](V,V.length):V)})}return"Invalid Date"}return""}var toDateString_1=toDateString$2,helperGetDateTime$4=helperGetDateTime_1,helperNewDate$2=helperNewDate_1,now$2=Date.now||function(){return helperGetDateTime$4(helperNewDate$2())},now_1=now$2,helperGetDateTime$3=helperGetDateTime_1,now$1=now_1,toStringDate$4=toStringDate_1,isDate$2=isDate_1,timestamp$1=function(e,r){if(e){var a=toStringDate$4(e,r);return isDate$2(a)?helperGetDateTime$3(a):a}return now$1()},timestamp_1=timestamp$1,toDateString$1=toDateString_1;function isDateSame$1(e,r,a){return e&&r?(e=toDateString$1(e,a),e!=="Invalid Date"&&e===toDateString$1(r,a)):!1}var isDateSame_1=isDateSame$1,helperCreateGetDateWeek=helperCreateGetDateWeek_1,getMonthWeek$1=helperCreateGetDateWeek(function(e){return new Date(e.getFullYear(),e.getMonth(),1)}),getMonthWeek_1=getMonthWeek$1,getWhatYear$2=getWhatYear_1,toStringDate$3=toStringDate_1,isValidDate$3=isValidDate_1,isLeapYear$1=isLeapYear_1;function getDayOfYear$1(e,r){return e=toStringDate$3(e),isValidDate$3(e)?isLeapYear$1(getWhatYear$2(e,r))?366:365:NaN}var getDayOfYear_1=getDayOfYear$1,staticDayTime=staticDayTime_1,staticStrFirst=staticStrFirst_1,staticStrLast=staticStrLast_1,helperGetDateTime$2=helperGetDateTime_1,getWhatMonth$2=getWhatMonth_1,toStringDate$2=toStringDate_1,isValidDate$2=isValidDate_1;function getDayOfMonth$1(e,r){return e=toStringDate$2(e),isValidDate$2(e)?Math.floor((helperGetDateTime$2(getWhatMonth$2(e,r,staticStrLast))-helperGetDateTime$2(getWhatMonth$2(e,r,staticStrFirst)))/staticDayTime)+1:NaN}var getDayOfMonth_1=getDayOfMonth$1,helperGetDateTime$1=helperGetDateTime_1,helperNewDate$1=helperNewDate_1,toStringDate$1=toStringDate_1,isValidDate$1=isValidDate_1,dateDiffRules=[["yyyy",31536e6],["MM",2592e6],["dd",864e5],["HH",36e5],["mm",6e4],["ss",1e3],["S",0]];function getDateDiff$1(e,r){var a,n,l,c,s,g,o={done:!1,time:0};if(e=toStringDate$1(e),r=r?toStringDate$1(r):helperNewDate$1(),isValidDate$1(e)&&isValidDate$1(r)&&(a=helperGetDateTime$1(e),n=helperGetDateTime$1(r),a<n))for(c=o.time=n-a,o.done=!0,g=0,s=dateDiffRules.length;g<s;g++)l=dateDiffRules[g],c>=l[1]?g===s-1?o[l[0]]=c||0:(o[l[0]]=Math.floor(c/l[1]),c-=o[l[0]]*l[1]):o[l[0]]=0;return o}var getDateDiff_1=getDateDiff$1,toValueString$a=toValueString_1,isUndefined$3=isUndefined_1,helperStringRepeat$1=helperStringRepeat_1;function padEnd$1(e,r,a){var n=toValueString$a(e);return r=r>>0,a=isUndefined$3(a)?" ":""+a,n.padEnd?n.padEnd(r,a):r>n.length?(r-=n.length,r>a.length&&(a+=helperStringRepeat$1(a,r/a.length)),n+a.slice(0,r)):n}var padEnd_1=padEnd$1,toValueString$9=toValueString_1,helperStringRepeat=helperStringRepeat_1;function repeat$1(e,r){return helperStringRepeat(toValueString$9(e),r)}var repeat_1=repeat$1,toValueString$8=toValueString_1;function trimRight$2(e){return e&&e.trimRight?e.trimRight():toValueString$8(e).replace(/[\s\uFEFF\xA0]+$/g,"")}var trimRight_1=trimRight$2,toValueString$7=toValueString_1;function trimLeft$2(e){return e&&e.trimLeft?e.trimLeft():toValueString$7(e).replace(/^[\s\uFEFF\xA0]+/g,"")}var trimLeft_1=trimLeft$2,trimRight$1=trimRight_1,trimLeft$1=trimLeft_1;function trim$2(e){return e&&e.trim?e.trim():trimRight$1(trimLeft$1(e))}var trim_1=trim$2,staticEscapeMap$2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},staticEscapeMap_1=staticEscapeMap$2,toValueString$6=toValueString_1,keys$2=keys_1;function helperFormatEscaper$2(e){var r=new RegExp("(?:"+keys$2(e).join("|")+")","g");return function(a){return toValueString$6(a).replace(r,function(n){return e[n]})}}var helperFormatEscaper_1=helperFormatEscaper$2,staticEscapeMap$1=staticEscapeMap_1,helperFormatEscaper$1=helperFormatEscaper_1,escape$1=helperFormatEscaper$1(staticEscapeMap$1),_escape=escape$1,staticEscapeMap=staticEscapeMap_1,helperFormatEscaper=helperFormatEscaper_1,each$2=each_1,unescapeMap={};each$2(staticEscapeMap,function(e,r){unescapeMap[staticEscapeMap[r]]=r});var unescape$1=helperFormatEscaper(unescapeMap),_unescape=unescape$1;function helperStringSubstring$2(e,r,a){return e.substring(r,a)}var helperStringSubstring_1=helperStringSubstring$2;function helperStringLowerCase$2(e){return e.toLowerCase()}var helperStringLowerCase_1=helperStringLowerCase$2,toValueString$5=toValueString_1,helperStringSubstring$1=helperStringSubstring_1,helperStringUpperCase=helperStringUpperCase_1,helperStringLowerCase$1=helperStringLowerCase_1,camelCacheMaps={};function camelCase$1(e){if(e=toValueString$5(e),camelCacheMaps[e])return camelCacheMaps[e];var r=e.length,a=e.replace(/([-]+)/g,function(n,l,c){return c&&c+l.length<r?"-":""});return r=a.length,a=a.replace(/([A-Z]+)/g,function(n,l,c){var s=l.length;return l=helperStringLowerCase$1(l),c?s>2&&c+s<r?helperStringUpperCase(helperStringSubstring$1(l,0,1))+helperStringSubstring$1(l,1,s-1)+helperStringUpperCase(helperStringSubstring$1(l,s-1,s)):helperStringUpperCase(helperStringSubstring$1(l,0,1))+helperStringSubstring$1(l,1,s):s>1&&c+s<r?helperStringSubstring$1(l,0,s-1)+helperStringUpperCase(helperStringSubstring$1(l,s-1,s)):l}).replace(/(-[a-zA-Z])/g,function(n,l){return helperStringUpperCase(helperStringSubstring$1(l,1,l.length))}),camelCacheMaps[e]=a,a}var camelCase_1=camelCase$1,toValueString$4=toValueString_1,helperStringSubstring=helperStringSubstring_1,helperStringLowerCase=helperStringLowerCase_1,kebabCacheMaps={};function kebabCase$1(e){if(e=toValueString$4(e),kebabCacheMaps[e])return kebabCacheMaps[e];if(/^[A-Z]+$/.test(e))return helperStringLowerCase(e);var r=e.replace(/^([a-z])([A-Z]+)([a-z]+)$/,function(a,n,l,c){var s=l.length;return s>1?n+"-"+helperStringLowerCase(helperStringSubstring(l,0,s-1))+"-"+helperStringLowerCase(helperStringSubstring(l,s-1,s))+c:helperStringLowerCase(n+"-"+l+c)}).replace(/^([A-Z]+)([a-z]+)?$/,function(a,n,l){var c=n.length;return helperStringLowerCase(helperStringSubstring(n,0,c-1)+"-"+helperStringSubstring(n,c-1,c)+(l||""))}).replace(/([a-z]?)([A-Z]+)([a-z]?)/g,function(a,n,l,c,s){var g=l.length;return g>1&&(n&&(n+="-"),c)?(n||"")+helperStringLowerCase(helperStringSubstring(l,0,g-1))+"-"+helperStringLowerCase(helperStringSubstring(l,g-1,g))+c:(n||"")+(s?"-":"")+helperStringLowerCase(l)+(c||"")});return r=r.replace(/([-]+)/g,function(a,n,l){return l&&l+n.length<r.length?"-":""}),kebabCacheMaps[e]=r,r}var kebabCase_1=kebabCase$1,toValueString$3=toValueString_1;function startsWith$1(e,r,a){var n=toValueString$3(e);return(arguments.length===1?n:n.substring(a)).indexOf(r)===0}var startsWith_1=startsWith$1,toValueString$2=toValueString_1;function endsWith$1(e,r,a){var n=toValueString$2(e),l=arguments.length;return l>1&&(l>2?n.substring(0,a).indexOf(r)===a-1:n.indexOf(r)===n.length-1)}var endsWith_1=endsWith$1,setupDefaults$1=setupDefaults_1,toValueString$1=toValueString_1,trim$1=trim_1,get$1=get_1;function template$2(e,r,a){return toValueString$1(e).replace((a||setupDefaults$1).tmplRE||/\{{2}([.\w[\]\s]+)\}{2}/g,function(n,l){return get$1(r,trim$1(l))})}var template_1=template$2,template$1=template_1;function toFormatString$1(e,r){return template$1(e,r,{tmplRE:/\{([.\w[\]\s]+)\}/g})}var toFormatString_1=toFormatString$1;function noop$1(){}var noop_1=noop$1,slice$5=slice_1;function bind$1(e,r){var a=slice$5(arguments,2);return function(){return e.apply(r,slice$5(arguments).concat(a))}}var bind_1=bind$1,slice$4=slice_1;function once$1(e,r){var a=!1,n=null,l=slice$4(arguments,2);return function(){return a||(n=e.apply(r,slice$4(arguments).concat(l)),a=!0),n}}var once_1=once$1,slice$3=slice_1;function after$1(e,r,a){var n=0,l=[];return function(){var c=arguments;n++,n<=e&&l.push(c[0]),n>=e&&r.apply(a,[l].concat(slice$3(c)))}}var after_1=after$1,slice$2=slice_1;function before$1(e,r,a){var n=0,l=[];return a=a||this,function(){var c=arguments;n++,n<e&&(l.push(c[0]),r.apply(a,[l].concat(slice$2(c))))}}var before_1=before$1;function throttle$1(e,r,a){var n,l,c=a||{},s=!1,g=0,o="leading"in c?c.leading:!0,d="trailing"in c?c.trailing:!1,h=function(){s=!0,e.apply(l,n),g=setTimeout(T,r)},T=function(){g=0,!s&&d===!0&&h()},U=function(){var M=g!==0;return clearTimeout(g),n=null,l=null,s=!1,g=0,M},A=function(){n=arguments,l=this,s=!1,g===0&&(o===!0?h():d===!0&&(g=setTimeout(T,r)))};return A.cancel=U,A}var throttle_1=throttle$1;function debounce$1(e,r,a){var n,l,c=a||{},s=!1,g=0,o=typeof a=="boolean",d="leading"in c?c.leading:o,h="trailing"in c?c.trailing:!o,T=function(){s=!0,g=0,e.apply(l,n)},U=function(){d===!0&&(g=0),!s&&h===!0&&T()},A=function(){var L=g!==0;return clearTimeout(g),n=null,l=null,g=0,L},M=function(){s=!1,n=arguments,l=this,g===0?d===!0&&T():clearTimeout(g),g=setTimeout(U,r)};return M.cancel=A,M}var debounce_1=debounce$1,slice$1=slice_1;function delay$1(e,r){var a=slice$1(arguments,2),n=this;return setTimeout(function(){e.apply(n,a)},r)}var delay_1=delay$1,staticDecodeURIComponent$2=decodeURIComponent,staticDecodeURIComponent_1=staticDecodeURIComponent$2,staticDecodeURIComponent$1=staticDecodeURIComponent_1,arrayEach$3=arrayEach_1,isString$1=isString_1;function unserialize$2(e){var r,a={};return e&&isString$1(e)&&arrayEach$3(e.split("&"),function(n){r=n.split("="),a[staticDecodeURIComponent$1(r[0])]=staticDecodeURIComponent$1(r[1]||"")}),a}var unserialize_1=unserialize$2,staticEncodeURIComponent$2=encodeURIComponent,staticEncodeURIComponent_1=staticEncodeURIComponent$2,staticEncodeURIComponent$1=staticEncodeURIComponent_1,each$1=each_1,isArray$2=isArray_1,isNull$1=isNull_1,isUndefined$2=isUndefined_1,isPlainObject$1=isPlainObject_1;function stringifyParams(e,r,a){var n,l=[];return each$1(e,function(c,s){n=isArray$2(c),isPlainObject$1(c)||n?l=l.concat(stringifyParams(c,r+"["+s+"]",n)):l.push(staticEncodeURIComponent$1(r+"["+(a?"":s)+"]")+"="+staticEncodeURIComponent$1(isNull$1(c)?"":c))}),l}function serialize$1(e){var r,a=[];return each$1(e,function(n,l){isUndefined$2(n)||(r=isArray$2(n),isPlainObject$1(n)||r?a=a.concat(stringifyParams(n,l,r)):a.push(staticEncodeURIComponent$1(l)+"="+staticEncodeURIComponent$1(isNull$1(n)?"":n)))}),a.join("&").replace(/%20/g,"+")}var serialize_1=serialize$1,staticStrUndefined$1=staticStrUndefined_1,staticLocation$4=typeof location===staticStrUndefined$1?0:location,staticLocation_1=staticLocation$4,staticLocation$3=staticLocation_1;function helperGetLocatOrigin$2(){return staticLocation$3?staticLocation$3.origin||staticLocation$3.protocol+"//"+staticLocation$3.host:""}var helperGetLocatOrigin_1=helperGetLocatOrigin$2,staticLocation$2=staticLocation_1,unserialize$1=unserialize_1,helperGetLocatOrigin$1=helperGetLocatOrigin_1;function parseURLQuery(e){return unserialize$1(e.split("?")[1]||"")}function parseUrl$2(e){var r,a,n,l,c=""+e;return c.indexOf("//")===0?c=(staticLocation$2?staticLocation$2.protocol:"")+c:c.indexOf("/")===0&&(c=helperGetLocatOrigin$1()+c),n=c.replace(/#.*/,"").match(/(\?.*)/),l={href:c,hash:"",host:"",hostname:"",protocol:"",port:"",search:n&&n[1]&&n[1].length>1?n[1]:""},l.path=c.replace(/^([a-z0-9.+-]*:)\/\//,function(s,g){return l.protocol=g,""}).replace(/^([a-z0-9.+-]*)(:\d+)?\/?/,function(s,g,o){return a=o||"",l.port=a.replace(":",""),l.hostname=g,l.host=g+a,"/"}).replace(/(#.*)/,function(s,g){return l.hash=g.length>1?g:"",""}),r=l.hash.match(/#((.*)\?|(.*))/),l.pathname=l.path.replace(/(\?|#.*).*/,""),l.origin=l.protocol+"//"+l.host,l.hashKey=r&&(r[2]||r[1])||"",l.hashQuery=parseURLQuery(l.hash),l.searchQuery=parseURLQuery(l.search),l}var parseUrl_1=parseUrl$2,staticLocation$1=staticLocation_1,helperGetLocatOrigin=helperGetLocatOrigin_1,lastIndexOf$1=lastIndexOf_1;function getBaseURL$1(){if(staticLocation$1){var e=staticLocation$1.pathname,r=lastIndexOf$1(e,"/")+1;return helperGetLocatOrigin()+(r===e.length?e:e.substring(0,r))}return""}var getBaseURL_1=getBaseURL$1,staticLocation=staticLocation_1,parseUrl$1=parseUrl_1;function locat$1(){return staticLocation?parseUrl$1(staticLocation.href):{}}var locat_1=locat$1,setupDefaults=setupDefaults_1,staticDocument$1=staticDocument_1,staticDecodeURIComponent=staticDecodeURIComponent_1,staticEncodeURIComponent=staticEncodeURIComponent_1,isArray$1=isArray_1,isObject$1=isObject_1,isDate$1=isDate_1,isUndefined$1=isUndefined_1,includes$1=includes_1,keys$1=keys_1,assign$2=assign_1,arrayEach$2=arrayEach_1,helperNewDate=helperNewDate_1,helperGetDateTime=helperGetDateTime_1,getWhatYear$1=getWhatYear_1,getWhatMonth$1=getWhatMonth_1,getWhatDay$1=getWhatDay_1;function toCookieUnitTime(e,r){var a=parseFloat(r),n=helperNewDate(),l=helperGetDateTime(n);switch(e){case"y":return helperGetDateTime(getWhatYear$1(n,a));case"M":return helperGetDateTime(getWhatMonth$1(n,a));case"d":return helperGetDateTime(getWhatDay$1(n,a));case"h":case"H":return l+a*60*60*1e3;case"m":return l+a*60*1e3;case"s":return l+a*1e3}return l}function toCookieUTCString(e){return(isDate$1(e)?e:new Date(e)).toUTCString()}function cookie$1(e,r,a){if(staticDocument$1){var n,l,c,s,g,o,d=[],h=arguments;return isArray$1(e)?d=e:h.length>1?d=[assign$2({name:e,value:r},a)]:isObject$1(e)&&(d=[e]),d.length>0?(arrayEach$2(d,function(T){n=assign$2({},setupDefaults.cookies,T),c=[],n.name&&(l=n.expires,c.push(staticEncodeURIComponent(n.name)+"="+staticEncodeURIComponent(isObject$1(n.value)?JSON.stringify(n.value):n.value)),l&&(isNaN(l)?l=l.replace(/^([0-9]+)(y|M|d|H|h|m|s)$/,function(U,A,M){return toCookieUTCString(toCookieUnitTime(M,A))}):/^[0-9]{11,13}$/.test(l)||isDate$1(l)?l=toCookieUTCString(l):l=toCookieUTCString(toCookieUnitTime("d",l)),n.expires=l),arrayEach$2(["expires","path","domain","secure"],function(U){isUndefined$1(n[U])||c.push(n[U]&&U==="secure"?U:U+"="+n[U])})),staticDocument$1.cookie=c.join("; ")}),!0):(s={},g=staticDocument$1.cookie,g&&arrayEach$2(g.split("; "),function(T){o=T.indexOf("="),s[staticDecodeURIComponent(T.substring(0,o))]=staticDecodeURIComponent(T.substring(o+1)||"")}),h.length===1?s[e]:s)}return!1}function hasCookieItem(e){return includes$1(cookieKeys(),e)}function getCookieItem(e){return cookie$1(e)}function setCookieItem(e,r,a){return cookie$1(e,r,a),cookie$1}function removeCookieItem(e,r){cookie$1(e,"",assign$2({expires:-1},setupDefaults.cookies,r))}function cookieKeys(){return keys$1(cookie$1())}function cookieJson(){return cookie$1()}assign$2(cookie$1,{has:hasCookieItem,set:setCookieItem,setItem:setCookieItem,get:getCookieItem,getItem:getCookieItem,remove:removeCookieItem,removeItem:removeCookieItem,keys:cookieKeys,getJSON:cookieJson});var cookie_1=cookie$1,staticStrUndefined=staticStrUndefined_1,staticDocument=staticDocument_1,staticWindow=staticWindow_1,assign$1=assign_1,arrayEach$1=arrayEach_1;function isBrowseStorage(e){try{var r="__xe_t";return e.setItem(r,1),e.removeItem(r),!0}catch{return!1}}function isBrowseType(e){return navigator.userAgent.indexOf(e)>-1}function browse$2(){var e,r,a,n=!1,l=!1,c=!1,s={isNode:!1,isMobile:n,isPC:!1,isDoc:!!staticDocument};if(!staticWindow&&typeof process!==staticStrUndefined)s.isNode=!0;else{a=isBrowseType("Edge"),r=isBrowseType("Chrome"),n=/(Android|webOS|iPhone|iPad|iPod|SymbianOS|BlackBerry|Windows Phone)/.test(navigator.userAgent),s.isDoc&&(e=staticDocument.body||staticDocument.documentElement,arrayEach$1(["webkit","khtml","moz","ms","o"],function(g){s["-"+g]=!!e[g+"MatchesSelector"]}));try{l=isBrowseStorage(staticWindow.localStorage)}catch{}try{c=isBrowseStorage(staticWindow.sessionStorage)}catch{}assign$1(s,{edge:a,firefox:isBrowseType("Firefox"),msie:!a&&s["-ms"],safari:!r&&!a&&isBrowseType("Safari"),isMobile:n,isPC:!n,isLocalStorage:l,isSessionStorage:c})}return s}var browse_1=browse$2,XEUtils=ctor,assign=assign_1,objectEach=objectEach_1,lastObjectEach=lastObjectEach_1,objectMap=objectMap_1,merge=merge_1,map=map_1,some=some_1,every=every_1,includeArrays=includeArrays_1,arrayEach=arrayEach_1,lastArrayEach=lastArrayEach_1,uniq=uniq_1,union=union_1,toArray=toArray_1,sortBy=sortBy_1,orderBy=orderBy_1,shuffle=shuffle_1,sample=sample_1,slice=slice_1,filter=filter_1,findKey=findKey_1,includes=includes_1,find=find_1,findLast=findLast_1,reduce=reduce_1,copyWithin=copyWithin_1,chunk=chunk_1,zip=zip_1,unzip=unzip_1,zipObject=zipObject_1,flatten=flatten_1,pluck=pluck_1,invoke=invoke_1,toArrayTree=toArrayTree_1,toTreeArray=toTreeArray_1,findTree=findTree_1,eachTree=eachTree_1,mapTree=mapTree_1,filterTree=filterTree_1,searchTree=searchTree_1,arrayIndexOf=arrayIndexOf_1,arrayLastIndexOf=arrayLastIndexOf_1,hasOwnProp=hasOwnProp_1,isArray=isArray_1,isNull=isNull_1,isNumberNaN=_isNaN,isUndefined=isUndefined_1,isFunction=isFunction_1,isObject=isObject_1,isString=isString_1,isPlainObject=isPlainObject_1,isLeapYear=isLeapYear_1,isDate=isDate_1,eqNull=eqNull_1,each=each_1,forOf=forOf_1,lastForOf=lastForOf_1,indexOf=indexOf_1,lastIndexOf=lastIndexOf_1,keys=keys_1,values=values_1,clone=clone_1,getSize=getSize_1,lastEach=lastEach_1,remove=remove_1,clear=clear_1,isNumberFinite=_isFinite,isFloat=isFloat_1,isInteger=isInteger_1,isBoolean=isBoolean_1,isNumber=isNumber_1,isRegExp=isRegExp_1,isError=isError_1,isTypeError=isTypeError_1,isEmpty=isEmpty_1,isSymbol=isSymbol_1,isArguments=isArguments_1,isElement=isElement_1,isDocument=isDocument_1,isWindow=isWindow_1,isFormData=isFormData_1,isMap=isMap_1,isWeakMap=isWeakMap_1,isSet=isSet_1,isWeakSet=isWeakSet_1,isMatch=isMatch_1,isEqual=isEqual_1,isEqualWith=isEqualWith_1,getType=getType_1,uniqueId=uniqueId_1,findIndexOf=findIndexOf_1,findLastIndexOf=findLastIndexOf_1,toStringJSON=toStringJSON_1,toJSONString=toJSONString_1,entries=entries_1,pick=pick_1,omit=omit_1,first=first_1,last=last_1,has=has_1,get=get_1,set=set_1,groupBy=groupBy_1,countBy=countBy_1,range=range_1,destructuring=destructuring_1,random=random_1,max=max_1,min=min_1,commafy=commafy_1,round=round_1,ceil=ceil_1,floor=floor_1,toFixed=toFixed_1,toInteger=toInteger_1,toNumber=toNumber_1,toNumberString=toNumberString_1,add=add_1,subtract=subtract_1,multiply=multiply_1,divide=divide_1,sum=sum_1,mean=mean_1,getWhatYear=getWhatYear_1,getWhatQuarter=getWhatQuarter_1,getWhatMonth=getWhatMonth_1,getWhatDay=getWhatDay_1,toStringDate=toStringDate_1,toDateString=toDateString_1,now=now_1,timestamp=timestamp_1,isValidDate=isValidDate_1,isDateSame=isDateSame_1,getWhatWeek=getWhatWeek_1,getYearDay=getYearDay_1,getYearWeek=getYearWeek_1,getMonthWeek=getMonthWeek_1,getDayOfYear=getDayOfYear_1,getDayOfMonth=getDayOfMonth_1,getDateDiff=getDateDiff_1,padEnd=padEnd_1,padStart=padStart_1,repeat=repeat_1,trim=trim_1,trimRight=trimRight_1,trimLeft=trimLeft_1,escape=_escape,unescape=_unescape,camelCase=camelCase_1,kebabCase=kebabCase_1,startsWith=startsWith_1,endsWith=endsWith_1,template=template_1,toFormatString=toFormatString_1,toValueString=toValueString_1,noop=noop_1,property=property_1,bind=bind_1,once=once_1,after=after_1,before=before_1,throttle=throttle_1,debounce=debounce_1,delay=delay_1,unserialize=unserialize_1,serialize=serialize_1,parseUrl=parseUrl_1,getBaseURL=getBaseURL_1,locat=locat_1,cookie=cookie_1,browse$1=browse_1;assign(XEUtils,{assign,objectEach,lastObjectEach,objectMap,merge,uniq,union,sortBy,orderBy,shuffle,sample,some,every,slice,filter,find,findLast,findKey,includes,arrayIndexOf,arrayLastIndexOf,map,reduce,copyWithin,chunk,zip,unzip,zipObject,flatten,toArray,includeArrays,pluck,invoke,arrayEach,lastArrayEach,toArrayTree,toTreeArray,findTree,eachTree,mapTree,filterTree,searchTree,hasOwnProp,eqNull,isNaN:isNumberNaN,isFinite:isNumberFinite,isUndefined,isArray,isFloat,isInteger,isFunction,isBoolean,isString,isNumber,isRegExp,isObject,isPlainObject,isDate,isError,isTypeError,isEmpty,isNull,isSymbol,isArguments,isElement,isDocument,isWindow,isFormData,isMap,isWeakMap,isSet,isWeakSet,isLeapYear,isMatch,isEqual,isEqualWith,getType,uniqueId,getSize,indexOf,lastIndexOf,findIndexOf,findLastIndexOf,toStringJSON,toJSONString,keys,values,entries,pick,omit,first,last,each,forOf,lastForOf,lastEach,has,get,set,groupBy,countBy,clone,clear,remove,range,destructuring,random,min,max,commafy,round,ceil,floor,toFixed,toNumber,toNumberString,toInteger,add,subtract,multiply,divide,sum,mean,now,timestamp,isValidDate,isDateSame,toStringDate,toDateString,getWhatYear,getWhatQuarter,getWhatMonth,getWhatWeek,getWhatDay,getYearDay,getYearWeek,getMonthWeek,getDayOfYear,getDayOfMonth,getDateDiff,trim,trimLeft,trimRight,escape,unescape,camelCase,kebabCase,repeat,padStart,padEnd,startsWith,endsWith,template,toFormatString,toString:toValueString,toValueString,noop,property,bind,once,after,before,throttle,debounce,delay,unserialize,serialize,parseUrl,getBaseURL,locat,browse:browse$1,cookie});var xeUtils=XEUtils;const XEUtils$1=getDefaultExportFromCjs(xeUtils);var iconPrefix="vxe-icon-",GlobalConfig={size:null,zIndex:999,version:0,emptyCell:"　",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,minHeight:144,resizeConfig:{refreshDelay:250},radioConfig:{strict:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},validConfig:{showMessage:!0,autoClear:!0,message:"inline",msgMode:"single"},columnConfig:{maxFixedSize:4},sortConfig:{showIcon:!0},filterConfig:{showIcon:!0},treeConfig:{rowField:"id",parentField:"parentId",childrenField:"children",hasChildField:"hasChild",mapChildrenField:"_X_ROW_CHILD",indent:20,showIcon:!0},expandConfig:{showIcon:!0},editConfig:{showIcon:!0,showAsterisk:!0},importConfig:{modes:["insert","covering"]},exportConfig:{modes:["current","selected"]},printConfig:{modes:["current","selected"]},mouseConfig:{extension:!0},keyboardConfig:{isEsc:!0},areaConfig:{selectCellByHeader:!0},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},scrollX:{gt:60},scrollY:{gt:100}},export:{types:{}},icon:{LOADING:iconPrefix+"spinner roll vxe-loading--default-icon",TABLE_SORT_ASC:iconPrefix+"caret-up",TABLE_SORT_DESC:iconPrefix+"caret-down",TABLE_FILTER_NONE:iconPrefix+"funnel",TABLE_FILTER_MATCH:iconPrefix+"funnel",TABLE_EDIT:iconPrefix+"edit",TABLE_HELP:iconPrefix+"question-circle-fill",TABLE_TREE_LOADED:iconPrefix+"spinner roll",TABLE_TREE_OPEN:iconPrefix+"caret-right rotate90",TABLE_TREE_CLOSE:iconPrefix+"caret-right",TABLE_EXPAND_LOADED:iconPrefix+"spinner roll",TABLE_EXPAND_OPEN:iconPrefix+"arrow-right rotate90",TABLE_EXPAND_CLOSE:iconPrefix+"arrow-right",TABLE_CHECKBOX_CHECKED:iconPrefix+"checkbox-checked",TABLE_CHECKBOX_UNCHECKED:iconPrefix+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:iconPrefix+"checkbox-indeterminate",TABLE_RADIO_CHECKED:iconPrefix+"radio-checked",TABLE_RADIO_UNCHECKED:iconPrefix+"radio-unchecked",BUTTON_DROPDOWN:iconPrefix+"arrow-down",BUTTON_LOADING:iconPrefix+"spinner roll",SELECT_LOADED:iconPrefix+"spinner roll",SELECT_OPEN:iconPrefix+"caret-down rotate180",SELECT_CLOSE:iconPrefix+"caret-down",PAGER_JUMP_PREV:iconPrefix+"arrow-double-left",PAGER_JUMP_NEXT:iconPrefix+"arrow-double-right",PAGER_PREV_PAGE:iconPrefix+"arrow-left",PAGER_NEXT_PAGE:iconPrefix+"arrow-right",PAGER_JUMP_MORE:iconPrefix+"ellipsis-h",INPUT_CLEAR:iconPrefix+"error-circle-fill",INPUT_PWD:iconPrefix+"eye-fill",INPUT_SHOW_PWD:iconPrefix+"eye-fill-close",INPUT_PREV_NUM:iconPrefix+"caret-up",INPUT_NEXT_NUM:iconPrefix+"caret-down",INPUT_DATE:iconPrefix+"calendar",INPUT_SEARCH:iconPrefix+"search",MODAL_ZOOM_IN:iconPrefix+"square",MODAL_ZOOM_OUT:iconPrefix+"maximize",MODAL_CLOSE:iconPrefix+"close",MODAL_INFO:iconPrefix+"info-circle-fill",MODAL_SUCCESS:iconPrefix+"success-circle-fill",MODAL_WARNING:iconPrefix+"warnion-circle-fill",MODAL_ERROR:iconPrefix+"error-circle-fill",MODAL_QUESTION:iconPrefix+"question-circle-fill",MODAL_LOADING:iconPrefix+"spinner roll",TOOLBAR_TOOLS_REFRESH:iconPrefix+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:iconPrefix+"repeat roll",TOOLBAR_TOOLS_IMPORT:iconPrefix+"upload",TOOLBAR_TOOLS_EXPORT:iconPrefix+"download",TOOLBAR_TOOLS_PRINT:iconPrefix+"print",TOOLBAR_TOOLS_FULLSCREEN:iconPrefix+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:iconPrefix+"minimize",TOOLBAR_TOOLS_CUSTOM:iconPrefix+"custom-column",TOOLBAR_TOOLS_FIXED_LEFT:iconPrefix+"fixed-left",TOOLBAR_TOOLS_FIXED_LEFT_ACTIVED:iconPrefix+"fixed-left-fill",TOOLBAR_TOOLS_FIXED_RIGHT:iconPrefix+"fixed-right",TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVED:iconPrefix+"fixed-right-fill",FORM_PREFIX:iconPrefix+"question-circle-fill",FORM_SUFFIX:iconPrefix+"question-circle-fill",FORM_FOLDING:iconPrefix+"arrow-up rotate180",FORM_UNFOLDING:iconPrefix+"arrow-up"},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,message:!0,props:{list:null,result:"result",total:"page.total",message:"message"}}},tooltip:{trigger:"hover",theme:"dark",enterDelay:500,leaveDelay:300},pager:{},form:{validConfig:{showMessage:!0,autoPos:!0},tooltipConfig:{enterable:!0},titleAsterisk:!0},input:{startDate:new Date(1900,0,1),endDate:new Date(2100,0,1),startDay:1,selectDay:1,digits:2,controls:!0},textarea:{},select:{multiCharOverflow:8},toolbar:{custom:{allowFixed:!0,showFooter:!0}},button:{},radio:{strict:!0},radioButton:{strict:!0},radioGroup:{strict:!0},checkbox:{},switch:{},modal:{top:15,showHeader:!0,minWidth:340,minHeight:140,lockView:!0,mask:!0,duration:3e3,marginSize:0,dblclickZoom:!0,showTitleOverflow:!0,animat:!0,showClose:!0,draggable:!0,storageKey:"VXE_MODAL_POSITION"},list:{scrollY:{enabled:!0,gt:100}},i18n:function(e){return e}};function getLog(e,r){return"[vxe-table v".concat("4.5.12","] ").concat(GlobalConfig.i18n(e,r))}function outLog(e){return function(r,a){var n=getLog(r,a);return console[e](n),n}}var warnLog=outLog("warn"),errLog=outLog("error"),storeMap={},interceptor={mixin:function(e){return XEUtils$1.each(e,function(r,a){return interceptor.add(a,r)}),interceptor},get:function(e){return storeMap[e]||[]},add:function(e,r){if(r){var a=storeMap[e];a||(a=storeMap[e]=[]),a.push(r)}return interceptor},delete:function(e,r){var a=storeMap[e];a&&(r?XEUtils$1.remove(a,function(n){return n===r}):delete storeMap[e])}},VXEFormatsStore=function(){function e(){this.store={}}return e.prototype.mixin=function(r){var a=this;return XEUtils$1.each(r,function(n,l){a.add(l,n)}),this},e.prototype.has=function(r){return!!this.get(r)},e.prototype.get=function(r){return this.store[r]},e.prototype.add=function(r,a){var n=this.store[r];return XEUtils$1.isFunction(a)&&(a={cellFormatMethod:a}),this.store[r]=n?XEUtils$1.merge(n,a):a,this},e.prototype.delete=function(r){delete this.store[r]},e.prototype.forEach=function(r){XEUtils$1.objectEach(this.store,r)},e}(),formats=new VXEFormatsStore,storeEl=null,storeId="z-index-manage",storeMainKey="m",storeSubKey="s",storeData={m:1e3,s:1e3};function getDom(){return storeEl||typeof document<"u"&&(storeEl=document.getElementById(storeId),storeEl||(storeEl=document.createElement("div"),storeEl.id=storeId,storeEl.style.display="none",document.body.appendChild(storeEl),setCurrent(storeData.m),setSubCurrent(storeData.s))),storeEl}function createSetHandle(e){return function(r){if(r){r=Number(r),storeData[e]=r;var a=getDom();a&&(a.dataset?a.dataset[e]=r+"":a.setAttribute("data-"+e,r+""))}return storeData[e]}}var setCurrent=createSetHandle(storeMainKey);function createGetHandle(e,r){return function(n){var l,c=getDom();if(c){var s=c.dataset?c.dataset[e]:c.getAttribute("data-"+e);s&&(l=Number(s))}return l||(l=storeData[e]),n?Number(n)<l?r():n:l}}var getCurrent=createGetHandle(storeMainKey,getNext);function getNext(){return setCurrent(getCurrent()+1)}var setSubCurrent=createSetHandle(storeSubKey),_getSubCurrent=createGetHandle(storeSubKey,getSubNext);function getSubCurrent(){return getCurrent()+_getSubCurrent()}function getSubNext(){return setSubCurrent(_getSubCurrent()+1),getSubCurrent()}var DomZIndex={setCurrent,getCurrent,getNext,setSubCurrent,getSubCurrent,getSubNext};function isEnableConf(e){return e&&e.enabled!==!1}function isEmptyValue(e){return e==null||e===""}function parseFile(e){var r=e.name,a=XEUtils$1.lastIndexOf(r,"."),n=r.substring(a+1,r.length).toLowerCase(),l=r.substring(0,a);return{filename:l,type:n}}function nextZIndex(){return DomZIndex.getNext()}function getLastZIndex(){return DomZIndex.getCurrent()}function hasChildrenList(e){return e&&e.children&&e.children.length>0}function getFuncText(e){return e?XEUtils$1.toValueString(GlobalConfig.translate?GlobalConfig.translate(""+e):e):""}function formatText(e,r){return""+(isEmptyValue(e)?r?GlobalConfig.emptyCell:"":e)}function eqEmptyValue(e){return e===""||XEUtils$1.eqNull(e)}var ColumnInfo=function(){function e(r,a,n){var l=n===void 0?{}:n,c=l.renderHeader,s=l.renderCell,g=l.renderFooter,o=l.renderData,d=r.xegrid,h=a.formatter,T=XEUtils$1.isBoolean(a.visible)?a.visible:!0;if(Object.assign(this,{type:a.type,property:a.field,field:a.field,title:a.title,width:a.width,minWidth:a.minWidth,maxWidth:a.maxWidth,resizable:a.resizable,fixed:a.fixed,align:a.align,headerAlign:a.headerAlign,footerAlign:a.footerAlign,showOverflow:a.showOverflow,showHeaderOverflow:a.showHeaderOverflow,showFooterOverflow:a.showFooterOverflow,className:a.className,headerClassName:a.headerClassName,footerClassName:a.footerClassName,formatter:h,sortable:a.sortable,sortBy:a.sortBy,sortType:a.sortType,filters:toFilters(a.filters),filterMultiple:XEUtils$1.isBoolean(a.filterMultiple)?a.filterMultiple:!0,filterMethod:a.filterMethod,filterResetMethod:a.filterResetMethod,filterRecoverMethod:a.filterRecoverMethod,filterRender:a.filterRender,treeNode:a.treeNode,cellType:a.cellType,cellRender:a.cellRender,editRender:a.editRender,contentRender:a.contentRender,headerExportMethod:a.headerExportMethod,exportMethod:a.exportMethod,footerExportMethod:a.footerExportMethod,titleHelp:a.titleHelp,titlePrefix:a.titlePrefix,params:a.params,id:a.colId||XEUtils$1.uniqueId("col_"),parentId:null,visible:T,halfVisible:!1,defaultVisible:T,defaultFixed:a.fixed,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,customOrder:0,renderWidth:0,renderHeight:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:c||a.renderHeader,renderCell:s||a.renderCell,renderFooter:g||a.renderFooter,renderData:o,slots:a.slots}),d){var U=d.getComputeMaps().computeProxyOpts,A=U.value;A.beforeColumn&&A.beforeColumn({$grid:d,column:this})}}return e.prototype.getTitle=function(){return getFuncText(this.title||(this.type==="seq"?GlobalConfig.i18n("vxe.table.seqTitle"):""))},e.prototype.getKey=function(){return this.field||(this.type?"type=".concat(this.type):null)},e.prototype.update=function(r,a){r!=="filters"&&(r==="field"&&(this.property=a),this[r]=a)},e}(),reClsMap={},browse=XEUtils$1.browse();function getPropClass(e,r){return e?XEUtils$1.isFunction(e)?e(r):e:""}function getClsRE(e){return reClsMap[e]||(reClsMap[e]=new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g")),reClsMap[e]}function getNodeOffset(e,r,a){if(e){var n=e.parentNode;if(a.top+=e.offsetTop,a.left+=e.offsetLeft,n&&n!==document.documentElement&&n!==document.body&&(a.top-=n.scrollTop,a.left-=n.scrollLeft),!(r&&(e===r||e.offsetParent===r))&&e.offsetParent)return getNodeOffset(e.offsetParent,r,a)}return a}function isPx(e){return e&&/^\d+(px)?$/.test(e)}function isScale(e){return e&&/^\d+%$/.test(e)}function hasClass(e,r){return e&&e.className&&e.className.match&&e.className.match(getClsRE(r))}function removeClass(e,r){e&&hasClass(e,r)&&(e.className=e.className.replace(getClsRE(r),""))}function addClass(e,r){e&&!hasClass(e,r)&&(removeClass(e,r),e.className="".concat(e.className," ").concat(r))}function getDomNode(){var e=document.documentElement,r=document.body;return{scrollTop:e.scrollTop||r.scrollTop,scrollLeft:e.scrollLeft||r.scrollLeft,visibleHeight:e.clientHeight||r.clientHeight,visibleWidth:e.clientWidth||r.clientWidth}}function getOffsetHeight(e){return e?e.offsetHeight:0}function getPaddingTopBottomSize(e){if(e){var r=getComputedStyle(e),a=XEUtils$1.toNumber(r.paddingTop),n=XEUtils$1.toNumber(r.paddingBottom);return a+n}return 0}function setScrollTop(e,r){e&&(e.scrollTop=r)}function setScrollLeft(e,r){e&&(e.scrollLeft=r)}function updateCellTitle(e,r){var a=r.type==="html"?e.innerText:e.textContent;e.getAttribute("title")!==a&&e.setAttribute("title",a)}function getEventTargetNode(e,r,a,n){for(var l,c=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;c&&c.nodeType&&c!==document;){if(a&&hasClass(c,a)&&(!n||n(c)))l=c;else if(c===r)return{flag:a?!!l:!0,container:r,targetElem:l};c=c.parentNode}return{flag:!1}}function getOffsetPos(e,r){return getNodeOffset(e,r,{left:0,top:0})}function getAbsolutePos(e){var r=e.getBoundingClientRect(),a=r.top,n=r.left,l=getDomNode(),c=l.scrollTop,s=l.scrollLeft,g=l.visibleHeight,o=l.visibleWidth;return{boundingTop:a,top:c+a,boundingLeft:n,left:s+n,visibleHeight:g,visibleWidth:o}}var scrollIntoViewIfNeeded="scrollIntoViewIfNeeded",scrollIntoView="scrollIntoView";function scrollToView(e){e&&(e[scrollIntoViewIfNeeded]?e[scrollIntoViewIfNeeded]():e[scrollIntoView]&&e[scrollIntoView]())}function isNodeElement(e){return e&&e.nodeType===1}function restoreScrollLocation(e,r,a){var n=e.internalData;return e.clearScroll().then(function(){if(r||a)return n.lastScrollLeft=0,n.lastScrollTop=0,e.scrollTo(r,a)})}function removeScrollListener(e){e&&e._onscroll&&(e.onscroll=null)}function restoreScrollListener(e){e&&e._onscroll&&(e.onscroll=e._onscroll)}function getRowUniqueId(){return XEUtils$1.uniqueId("row_")}function getRowkey(e){var r=e.props,a=e.getComputeMaps().computeRowOpts,n=r.rowId,l=a.value;return n||l.keyField||"_X_ROW_KEY"}function getRowid(e,r){var a=XEUtils$1.get(r,getRowkey(e));return XEUtils$1.eqNull(a)?"":encodeURIComponent(a)}var handleFieldOrColumn=function(e,r){return r?XEUtils$1.isString(r)?e.getColumnByField(r):r:null};function getPaddingLeftRightSize(e){if(e){var r=getComputedStyle(e),a=XEUtils$1.toNumber(r.paddingLeft),n=XEUtils$1.toNumber(r.paddingRight);return a+n}return 0}function getElemenMarginWidth(e){if(e){var r=getComputedStyle(e),a=XEUtils$1.toNumber(r.marginLeft),n=XEUtils$1.toNumber(r.marginRight);return e.offsetWidth+a+n}return 0}function queryCellElement(e,r){return e.querySelector(".vxe-cell"+r)}function toFilters(e){return e&&XEUtils$1.isArray(e)?e.map(function(r){var a=r.label,n=r.value,l=r.data,c=r.resetValue,s=r.checked;return{label:a,value:n,data:l,resetValue:c,checked:!!s,_checked:!!s}}):e}function toTreePathSeq(e){return e.map(function(r,a){return a%2===0?Number(r)+1:"."}).join("")}function getCellValue(e,r){return XEUtils$1.get(e,r.field)}function setCellValue(e,r,a){return XEUtils$1.set(e,r.field,a)}function getColReMinWidth(e){var r=e.$table,a=e.column,n=e.cell,l=r.props,c=r.getComputeMaps().computeResizableOpts,s=c.value,g=s.minWidth;if(g){var o=XEUtils$1.isFunction(g)?g(e):g;if(o!=="auto")return Math.max(1,XEUtils$1.toNumber(o))}var d=l.showHeaderOverflow,h=a.showHeaderOverflow,T=a.minWidth,U=XEUtils$1.isUndefined(h)||XEUtils$1.isNull(h)?d:h,A=U==="ellipsis",M=U==="title",L=U===!0||U==="tooltip",O=M||L||A,R=XEUtils$1.floor((XEUtils$1.toNumber(getComputedStyle(n).fontSize)||14)*1.6),E=getPaddingLeftRightSize(n)+getPaddingLeftRightSize(queryCellElement(n,"")),V=R+E;if(O){var D=getPaddingLeftRightSize(queryCellElement(n,"--title>.vxe-cell--checkbox")),N=getElemenMarginWidth(queryCellElement(n,">.vxe-cell--required-icon")),X=getElemenMarginWidth(queryCellElement(n,">.vxe-cell--edit-icon")),H=getElemenMarginWidth(queryCellElement(n,">.vxe-cell-help-icon")),x=getElemenMarginWidth(queryCellElement(n,">.vxe-cell--sort")),w=getElemenMarginWidth(queryCellElement(n,">.vxe-cell--filter"));V+=D+N+X+H+w+x}if(T){var P=r.getRefMaps().refTableBody,B=P.value,ae=B?B.$el:null;if(ae){if(isScale(T)){var J=ae.clientWidth-1,F=J/100;return Math.max(V,Math.floor(XEUtils$1.toInteger(T)*F))}else if(isPx(T))return Math.max(V,XEUtils$1.toInteger(T))}}return V}function isColumnInfo(e){return e&&(e.constructor===ColumnInfo||e instanceof ColumnInfo)}function createColumn(e,r,a){return isColumnInfo(r)?r:Vue.reactive(new ColumnInfo(e,r,a))}function watchColumn(e,r,a){Object.keys(r).forEach(function(n){Vue.watch(function(){return r[n]},function(l){a.update(n,l),e&&(n==="filters"?(e.setFilter(a,l),e.handleUpdateDataQueue()):["visible","fixed","width","minWidth","maxWidth"].includes(n)&&e.handleRefreshColumnQueue())})})}function assemColumn(e,r,a,n){var l=e.reactData,c=l.staticColumns,s=r.parentNode,g=n?n.column:null,o=g?g.children:c;s&&o&&(o.splice(XEUtils$1.arrayIndexOf(s.children,r),0,a),l.staticColumns=c.slice(0))}function destroyColumn(e,r){var a=e.reactData,n=a.staticColumns,l=XEUtils$1.findTree(n,function(c){return c.id===r.id},{children:"children"});l&&l.items.splice(l.index,1),a.staticColumns=n.slice(0)}function getRootColumn(e,r){var a=e.internalData,n=a.fullColumnIdData;if(!r)return null;for(var l=r.parentId;n[l];){var c=n[l].column;if(l=c.parentId,!l)return c}return r}function mergeBodyMethod(e,r,a){for(var n=0;n<e.length;n++){var l=e[n],c=l.row,s=l.col,g=l.rowspan,o=l.colspan;if(s>-1&&c>-1&&g&&o){if(c===r&&s===a)return{rowspan:g,colspan:o};if(r>=c&&r<c+g&&a>=s&&a<s+o)return{rowspan:0,colspan:0}}}}function clearTableDefaultStatus(e){var r=e.props,a=e.internalData;return a.initStatus=!1,e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearFilter&&e.clearFilter(),e.clearSelected&&(r.keyboardConfig||r.mouseConfig)&&e.clearSelected(),e.clearCellAreas&&r.mouseConfig&&(e.clearCellAreas(),e.clearCopyCellArea()),e.clearScroll()}function clearTableAllStatus(e){return e.clearFilter&&e.clearFilter(),clearTableDefaultStatus(e)}function rowToVisible(e,r){var a=e.reactData,n=e.internalData,l=e.getRefMaps().refTableBody,c=a.scrollYLoad,s=n.afterFullData,g=n.scrollYStore,o=l.value,d=o?o.$el:null;if(d){var h=d.querySelector('[rowid="'.concat(getRowid(e,r),'"]'));if(h){var T=d.clientHeight,U=d.scrollTop,A=h.offsetParent,M=h.offsetTop+(A?A.offsetTop:0),L=h.clientHeight;if(M<U||M>U+T)return e.scrollTo(null,M);if(M+L>=T+U)return e.scrollTo(null,U+L)}else if(c)return e.scrollTo(null,(s.indexOf(r)-1)*g.rowHeight)}return Promise.resolve()}function colToVisible(e,r){var a=e.reactData,n=e.internalData,l=e.getRefMaps().refTableBody,c=a.scrollXLoad,s=n.visibleColumn,g=l.value,o=g?g.$el:null;if(o){var d=o.querySelector(".".concat(r.id));if(d){var h=o.clientWidth,T=o.scrollLeft,U=d.offsetParent,A=d.offsetLeft+(U?U.offsetLeft:0),M=d.clientWidth;if(A<T||A>T+h)return e.scrollTo(A);if(A+M>=h+T)return e.scrollTo(T+M)}else if(c){for(var L=0,O=0;O<s.length&&s[O]!==r;O++)L+=s[O].renderWidth;return e.scrollTo(L)}}return Promise.resolve()}function getOnName(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function getSlotVNs(e){return XEUtils$1.isArray(e)?e:[e]}var __assign$j=globalThis&&globalThis.__assign||function(){return __assign$j=Object.assign||function(e){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},__assign$j.apply(this,arguments)},__spreadArray$6=globalThis&&globalThis.__spreadArray||function(e,r,a){if(a||arguments.length===2)for(var n=0,l=r.length,c;n<l;n++)(c||!(n in r))&&(c||(c=Array.prototype.slice.call(r,0,n)),c[n]=r[n]);return e.concat(c||Array.prototype.slice.call(r))},componentDefaultModelProp="modelValue",defaultCompProps={transfer:!0};function getModelEvent(e){switch(e.name){case"input":case"textarea":return"input"}return"update:modelValue"}function getChangeEvent(e){switch(e.name){case"input":case"textarea":case"$input":case"$textarea":return"input"}return"change"}function parseDate(e,r){return e&&r.valueFormat?XEUtils$1.toStringDate(e,r.valueFormat):e}function getFormatDate(e,r,a){var n=r.dateConfig,l=n===void 0?{}:n;return XEUtils$1.toDateString(parseDate(e,r),l.labelFormat||a)}function getLabelFormatDate(e,r){return getFormatDate(e,r,GlobalConfig.i18n("vxe.input.date.labelFormat.".concat(r.type)))}function getComponentName(e){return"vxe-".concat(e.replace("$",""))}function getDefaultComponent(e){var r=e.name;return Vue.resolveComponent(getComponentName(r))}function handleConfirmFilter(e,r,a){var n=e.$panel;n.changeOption({},r,a)}function getNativeAttrs(e){var r=e.name,a=e.attrs;return r==="input"&&(a=Object.assign({type:"text"},a)),a}function getInputImmediateModel(e){var r=e.name,a=e.immediate,n=e.props;if(!a){if(r==="$input"){var l=(n||{}).type;return!(!l||l==="text"||l==="number"||l==="integer"||l==="float")}return!(r==="input"||r==="textarea"||r==="$textarea")}return a}function getCellEditProps(e,r,a,n){var l;return XEUtils$1.assign({immediate:getInputImmediateModel(e)},defaultCompProps,n,e.props,(l={},l[componentDefaultModelProp]=a,l))}function getCellEditFilterProps(e,r,a,n){var l;return XEUtils$1.assign({},defaultCompProps,n,e.props,(l={},l[componentDefaultModelProp]=a,l))}function getComponentFormItemProps(e,r,a,n){var l;return XEUtils$1.assign({},defaultCompProps,n,e.props,(l={},l[componentDefaultModelProp]=a,l))}function isImmediateCell(e,r){return r.$type==="cell"||getInputImmediateModel(e)}function getCellLabelVNs(e,r,a){var n=e.placeholder;return[Vue.h("span",{class:"vxe-cell--label"},n&&isEmptyValue(a)?[Vue.h("span",{class:"vxe-cell--placeholder"},formatText(getFuncText(n),1))]:formatText(a,1))]}function getElementOns(e,r,a,n){var l=e.events,c=getModelEvent(e),s=getChangeEvent(e),g=s===c,o={};return l&&XEUtils$1.objectEach(l,function(d,h){o[getOnName(h)]=function(){for(var T=[],U=0;U<arguments.length;U++)T[U]=arguments[U];d.apply(void 0,__spreadArray$6([r],T,!1))}}),a&&(o[getOnName(c)]=function(d){a(d),g&&n&&n(d),l&&l[c]&&l[c](r,d)}),!g&&n&&(o[getOnName(s)]=function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];n.apply(void 0,d),l&&l[s]&&l[s].apply(l,__spreadArray$6([r],d,!1))}),o}function getComponentOns(e,r,a,n){var l=e.events,c=getModelEvent(e),s=getChangeEvent(e),g={};return XEUtils$1.objectEach(l,function(o,d){g[getOnName(d)]=function(){for(var h=[],T=0;T<arguments.length;T++)h[T]=arguments[T];o.apply(void 0,__spreadArray$6([r],h,!1))}}),a&&(g[getOnName(c)]=function(o){a(o),l&&l[c]&&l[c](r,o)}),n&&(g[getOnName(s)]=function(){for(var o=[],d=0;d<arguments.length;d++)o[d]=arguments[d];n.apply(void 0,o),l&&l[s]&&l[s].apply(l,__spreadArray$6([r],o,!1))}),g}function getEditOns(e,r){var a=r.$table,n=r.row,l=r.column,c=e.name,s=l.model,g=isImmediateCell(e,r);return getComponentOns(e,r,function(o){g?setCellValue(n,l,o):(s.update=!0,s.value=o)},function(o){if(!g&&(c==="$input"||c==="$textarea")){var d=o.value;s.update=!0,s.value=d,a.updateStatus(r,d)}else a.updateStatus(r)})}function getFilterOns(e,r,a){return getComponentOns(e,r,function(n){a.data=n},function(){handleConfirmFilter(r,!XEUtils$1.eqNull(a.data),a)})}function getItemOns(e,r){var a=r.$form,n=r.data,l=r.property;return getComponentOns(e,r,function(c){XEUtils$1.set(n,l,c)},function(){a.updateStatus(r)})}function getNativeEditOns(e,r){var a=r.$table,n=r.row,l=r.column,c=l.model;return getElementOns(e,r,function(s){var g=s.target.value;isImmediateCell(e,r)?setCellValue(n,l,g):(c.update=!0,c.value=g)},function(s){var g=s.target.value;a.updateStatus(r,g)})}function getNativeFilterOns(e,r,a){return getElementOns(e,r,function(n){a.data=n.target.value},function(){handleConfirmFilter(r,!XEUtils$1.eqNull(a.data),a)})}function getNativeItemOns(e,r){var a=r.$form,n=r.data,l=r.property;return getElementOns(e,r,function(c){var s=c.target.value;XEUtils$1.set(n,l,s)},function(){a.updateStatus(r)})}function nativeEditRender(e,r){var a=r.row,n=r.column,l=e.name,c=isImmediateCell(e,r)?getCellValue(a,n):n.model.value;return[Vue.h(l,__assign$j(__assign$j(__assign$j({class:"vxe-default-".concat(l)},getNativeAttrs(e)),{value:c}),getNativeEditOns(e,r)))]}function defaultEditRender(e,r){var a=r.row,n=r.column,l=getCellValue(a,n);return[Vue.h(getDefaultComponent(e),__assign$j(__assign$j({},getCellEditProps(e,r,l)),getEditOns(e,r)))]}function defaultButtonEditRender(e,r){return[Vue.h(Vue.resolveComponent("vxe-button"),__assign$j(__assign$j({},getCellEditProps(e,r,null)),getComponentOns(e,r)))]}function defaultButtonsEditRender(e,r){return e.children.map(function(a){return defaultButtonEditRender(a,r)[0]})}function renderNativeOptgroups(e,r,a){var n=e.optionGroups,l=e.optionGroupProps,c=l===void 0?{}:l,s=c.options||"options",g=c.label||"label";return n.map(function(o,d){return Vue.h("optgroup",{key:d,label:o[g]},a(o[s],e,r))})}function renderNativeOptions(e,r,a){var n=r.optionProps,l=n===void 0?{}:n,c=a.row,s=a.column,g=l.label||"label",o=l.value||"value",d=l.disabled||"disabled",h=isImmediateCell(r,a)?getCellValue(c,s):s.model.value;return e.map(function(T,U){return Vue.h("option",{key:U,value:T[o],disabled:T[d],selected:T[o]==h},T[g])})}function nativeFilterRender(e,r){var a=r.column,n=e.name,l=getNativeAttrs(e);return a.filters.map(function(c,s){return Vue.h(n,__assign$j(__assign$j(__assign$j({key:s,class:"vxe-default-".concat(n)},l),{value:c.data}),getNativeFilterOns(e,r,c)))})}function defaultFilterRender(e,r){var a=r.column;return a.filters.map(function(n,l){var c=n.data;return Vue.h(getDefaultComponent(e),__assign$j(__assign$j({key:l},getCellEditFilterProps(e,e,c)),getFilterOns(e,r,n)))})}function handleFilterMethod(e){var r=e.option,a=e.row,n=e.column,l=r.data,c=XEUtils$1.get(a,n.property);return c==l}function nativeSelectEditRender(e,r){return[Vue.h("select",__assign$j(__assign$j({class:"vxe-default-select"},getNativeAttrs(e)),getNativeEditOns(e,r)),e.optionGroups?renderNativeOptgroups(e,r,renderNativeOptions):renderNativeOptions(e.options,e,r))]}function defaultSelectEditRender(e,r){var a=r.row,n=r.column,l=e.options,c=e.optionProps,s=e.optionGroups,g=e.optionGroupProps,o=getCellValue(a,n);return[Vue.h(getDefaultComponent(e),__assign$j(__assign$j({},getCellEditProps(e,r,o,{options:l,optionProps:c,optionGroups:s,optionGroupProps:g})),getEditOns(e,r)))]}function getSelectCellValue(e,r){var a=r.row,n=r.column,l=e.props,c=l===void 0?{}:l,s=e.options,g=e.optionGroups,o=e.optionProps,d=o===void 0?{}:o,h=e.optionGroupProps,T=h===void 0?{}:h,U=XEUtils$1.get(a,n.property),A,M=d.label||"label",L=d.value||"value";return isEmptyValue(U)?"":XEUtils$1.map(c.multiple?U:[U],g?function(O){for(var R=T.options||"options",E=0;E<g.length&&(A=XEUtils$1.find(g[E][R],function(V){return V[L]==O}),!A);E++);return A?A[M]:O}:function(O){return A=XEUtils$1.find(s,function(R){return R[L]==O}),A?A[M]:O}).join(", ")}function nativeItemRender(e,r){var a=r.data,n=r.property,l=e.name,c=getNativeAttrs(e),s=XEUtils$1.get(a,n);return[Vue.h(l,__assign$j(__assign$j(__assign$j({class:"vxe-default-".concat(l)},c),{value:c&&l==="input"&&(c.type==="submit"||c.type==="reset")?null:s}),getNativeItemOns(e,r)))]}function defaultItemRender(e,r){var a=r.data,n=r.property,l=XEUtils$1.get(a,n);return[Vue.h(getDefaultComponent(e),__assign$j(__assign$j({},getComponentFormItemProps(e,r,l)),getItemOns(e,r)))]}function defaultButtonItemRender(e,r){return[Vue.h(Vue.resolveComponent("vxe-button"),__assign$j(__assign$j({},getComponentFormItemProps(e,r,null)),getComponentOns(e,r)))]}function defaultButtonsItemRender(e,r){return e.children.map(function(a){return defaultButtonItemRender(a,r)[0]})}function renderNativeFormOptions(e,r,a){var n=a.data,l=a.property,c=r.optionProps,s=c===void 0?{}:c,g=s.label||"label",o=s.value||"value",d=s.disabled||"disabled",h=XEUtils$1.get(n,l);return e.map(function(T,U){return Vue.h("option",{key:U,value:T[o],disabled:T[d],selected:T[o]==h},T[g])})}function handleExportSelectMethod(e){var r=e.row,a=e.column,n=e.options;return n.original?getCellValue(r,a):getSelectCellValue(a.editRender||a.cellRender,e)}function defaultFormItemRadioAndCheckboxRender(e,r){var a=e.name,n=e.options,l=e.optionProps,c=l===void 0?{}:l,s=r.data,g=r.property,o=c.label||"label",d=c.value||"value",h=c.disabled||"disabled",T=XEUtils$1.get(s,g),U=getComponentName(a);return n?[Vue.h(Vue.resolveComponent("".concat(U,"-group")),__assign$j(__assign$j({},getComponentFormItemProps(e,r,T)),getItemOns(e,r)),{default:function(){return n.map(function(A,M){return Vue.h(Vue.resolveComponent(U),{key:M,label:A[d],content:A[o],disabled:A[h]})})}})]:[Vue.h(Vue.resolveComponent(U),__assign$j(__assign$j({},getComponentFormItemProps(e,r,T)),getItemOns(e,r)))]}var renderMap={input:{autofocus:"input",renderEdit:nativeEditRender,renderDefault:nativeEditRender,renderFilter:nativeFilterRender,defaultFilterMethod:handleFilterMethod,renderItemContent:nativeItemRender},textarea:{autofocus:"textarea",renderEdit:nativeEditRender,renderItemContent:nativeItemRender},select:{renderEdit:nativeSelectEditRender,renderDefault:nativeSelectEditRender,renderCell:function(e,r){return getCellLabelVNs(e,r,getSelectCellValue(e,r))},renderFilter:function(e,r){var a=r.column;return a.filters.map(function(n,l){return Vue.h("select",__assign$j(__assign$j({key:l,class:"vxe-default-select"},getNativeAttrs(e)),getNativeFilterOns(e,r,n)),e.optionGroups?renderNativeOptgroups(e,r,renderNativeOptions):renderNativeOptions(e.options,e,r))})},defaultFilterMethod:handleFilterMethod,renderItemContent:function(e,r){return[Vue.h("select",__assign$j(__assign$j({class:"vxe-default-select"},getNativeAttrs(e)),getNativeItemOns(e,r)),e.optionGroups?renderNativeOptgroups(e,r,renderNativeFormOptions):renderNativeFormOptions(e.options,e,r))]},cellExportMethod:handleExportSelectMethod},$input:{autofocus:".vxe-input--inner",renderEdit:defaultEditRender,renderCell:function(e,r){var a=e.props,n=a===void 0?{}:a,l=r.row,c=r.column,s=n.digits||GlobalConfig.input.digits,g=XEUtils$1.get(l,c.property);if(g)switch(n.type){case"date":case"week":case"month":case"year":g=getLabelFormatDate(g,n);break;case"float":g=XEUtils$1.toFixed(XEUtils$1.floor(g,s),s);break}return getCellLabelVNs(e,r,g)},renderDefault:defaultEditRender,renderFilter:defaultFilterRender,defaultFilterMethod:handleFilterMethod,renderItemContent:defaultItemRender},$textarea:{autofocus:".vxe-textarea--inner",renderItemContent:defaultItemRender},$button:{renderDefault:defaultButtonEditRender,renderItemContent:defaultButtonItemRender},$buttons:{renderDefault:defaultButtonsEditRender,renderItemContent:defaultButtonsItemRender},$select:{autofocus:".vxe-input--inner",renderEdit:defaultSelectEditRender,renderDefault:defaultSelectEditRender,renderCell:function(e,r){return getCellLabelVNs(e,r,getSelectCellValue(e,r))},renderFilter:function(e,r){var a=r.column,n=e.options,l=e.optionProps,c=e.optionGroups,s=e.optionGroupProps;return a.filters.map(function(g,o){var d=g.data;return Vue.h(getDefaultComponent(e),__assign$j(__assign$j({key:o},getCellEditFilterProps(e,r,d,{options:n,optionProps:l,optionGroups:c,optionGroupProps:s})),getFilterOns(e,r,g)))})},defaultFilterMethod:handleFilterMethod,renderItemContent:function(e,r){var a=r.data,n=r.property,l=e.options,c=e.optionProps,s=e.optionGroups,g=e.optionGroupProps,o=XEUtils$1.get(a,n);return[Vue.h(getDefaultComponent(e),__assign$j(__assign$j({},getComponentFormItemProps(e,r,o,{options:l,optionProps:c,optionGroups:s,optionGroupProps:g})),getItemOns(e,r)))]},cellExportMethod:handleExportSelectMethod},$radio:{autofocus:".vxe-radio--input",renderItemContent:defaultFormItemRadioAndCheckboxRender},$checkbox:{autofocus:".vxe-checkbox--input",renderItemContent:defaultFormItemRadioAndCheckboxRender},$switch:{autofocus:".vxe-switch--button",renderEdit:defaultEditRender,renderDefault:defaultEditRender,renderItemContent:defaultItemRender}},renderer={mixin:function(e){return XEUtils$1.each(e,function(r,a){return renderer.add(a,r)}),renderer},get:function(e){return renderMap[e]||null},add:function(e,r){if(e&&r){var a=renderMap[e];a?Object.assign(a,r):renderMap[e]=r}return renderer},delete:function(e){return delete renderMap[e],renderer}},VXECommandsStore=function(){function e(){this.store={}}return e.prototype.mixin=function(r){var a=this;return XEUtils$1.each(r,function(n,l){a.add(l,n)}),this},e.prototype.has=function(r){return!!this.get(r)},e.prototype.get=function(r){return this.store[r]},e.prototype.add=function(r,a){var n=this.store[r];return XEUtils$1.isFunction(a)&&(a={commandMethod:a}),this.store[r]=n?XEUtils$1.merge(n,a):a,this},e.prototype.delete=function(r){delete this.store[r]},e.prototype.forEach=function(r){XEUtils$1.objectEach(this.store,r)},e}(),commands=new VXECommandsStore,VXEMenusStore=function(){function e(){this.store={}}return e.prototype.mixin=function(r){var a=this;return XEUtils$1.each(r,function(n,l){a.add(l,n)}),this},e.prototype.has=function(r){return!!this.get(r)},e.prototype.get=function(r){return this.store[r]},e.prototype.add=function(r,a){var n=this.store[r];return XEUtils$1.isFunction(a)&&(a={menuMethod:a}),this.store[r]=n?XEUtils$1.merge(n,a):a,this},e.prototype.delete=function(r){delete this.store[r]},e.prototype.forEach=function(r){XEUtils$1.objectEach(this.store,r)},e}(),menus=new VXEMenusStore,Store=function(){function e(){this.store={}}return e.prototype.mixin=function(r){var a=this;return XEUtils$1.each(r,function(n,l){a.add(l,n)}),this},e.prototype.has=function(r){return!!this.get(r)},e.prototype.get=function(r){return this.store[r]},e.prototype.add=function(r,a){var n=this.store[r];return this.store[r]=n?XEUtils$1.merge(n,a):a,this},e.prototype.delete=function(r){delete this.store[r]},e.prototype.forEach=function(r){XEUtils$1.objectEach(this.store,r)},e}(),validators=new Store,hooks=new Store,config=function(e){return e&&e.zIndex&&DomZIndex.setCurrent(e.zIndex),XEUtils$1.merge(GlobalConfig,e)};function getExportOrImpotType(e,r){var a=[];return XEUtils$1.objectEach(e,function(n,l){(n===0||n===r)&&a.push(l)}),a}var installedPlugins=[];function use(e,r){return e&&e.install&&installedPlugins.indexOf(e)===-1&&(e.install(VXETable,r),installedPlugins.push(e)),VXETable}function t(e,r){return GlobalConfig.i18n(e,r)}function _t(e,r){return e?XEUtils$1.toValueString(GlobalConfig.translate?GlobalConfig.translate(e,r):e):""}var VXETableConfig=function(){function e(){}return Object.defineProperty(e.prototype,"zIndex",{get:function(){return getLastZIndex()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextZIndex",{get:function(){return nextZIndex()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exportTypes",{get:function(){return getExportOrImpotType(GlobalConfig.export.types,1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"importTypes",{get:function(){return getExportOrImpotType(GlobalConfig.export.types,2)},enumerable:!1,configurable:!0}),e}(),globalConfs=new VXETableConfig,v="v4",setup=config,globalStore={},VXETable={v,version:"4.5.12",setup,globalStore,interceptor,renderer,commands,formats,validators,menus,hooks,use,t,_t,config,globalConfs};const PanelComponent$1=Vue.defineComponent({name:"VxeTableFilter",props:{filterStore:Object},setup:function(e){var r=Vue.inject("$xetable",{}),a=r.reactData,n=r.internalData,l=Vue.computed(function(){var O=e.filterStore;return O&&O.options.some(function(R){return R.checked})}),c=function(O,R){var E=e.filterStore;E.options.forEach(function(V){V._checked=R,V.checked=R}),E.isAllSelected=R,E.isIndeterminate=!1},s=function(O){var R=e.filterStore;R.options.forEach(function(E){E.checked=E._checked}),r.confirmFilterEvent(O)},g=function(O,R,E){var V=e.filterStore;V.options.forEach(function(D){D._checked=!1}),E._checked=R,r.checkFilterOptions(),s(O)},o=function(O){var R=e.filterStore;r.handleClearFilter(R.column),r.confirmFilterEvent(O)},d=function(O,R,E){E._checked=R,r.checkFilterOptions()},h=function(O,R,E){var V=e.filterStore;V.multiple?d(O,R,E):g(O,R,E)},T=function(O,R){var E=e.filterStore;E.multiple?c(O,R):o(O)},U={changeRadioOption:g,changeMultipleOption:d,changeAllOption:T,changeOption:h,confirmFilter:s,resetFilter:o},A=function(O,R){var E=e.filterStore,V=E.column,D=E.multiple,N=E.maxHeight,X=V.slots,H=X?X.filter:null,x=Object.assign({},n._currFilterParams,{$panel:U,$table:r});if(H)return[Vue.h("div",{class:"vxe-table--filter-template"},r.callSlot(H,x))];if(R&&R.renderFilter)return[Vue.h("div",{class:"vxe-table--filter-template"},getSlotVNs(R.renderFilter(O,x)))];var w=D?E.isAllSelected:!E.options.some(function(B){return B._checked}),P=D&&E.isIndeterminate;return[Vue.h("ul",{class:"vxe-table--filter-header"},[Vue.h("li",{class:["vxe-table--filter-option",{"is--checked":w,"is--indeterminate":P}],title:GlobalConfig.i18n(D?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:function(B){T(B,!E.isAllSelected)}},(D?[Vue.h("span",{class:["vxe-checkbox--icon",P?GlobalConfig.icon.TABLE_CHECKBOX_INDETERMINATE:w?GlobalConfig.icon.TABLE_CHECKBOX_CHECKED:GlobalConfig.icon.TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([Vue.h("span",{class:"vxe-checkbox--label"},GlobalConfig.i18n("vxe.table.allFilter"))]))]),Vue.h("ul",{class:"vxe-table--filter-body",style:N?{maxHeight:"".concat(N,"px")}:{}},E.options.map(function(B){var ae=B._checked;return Vue.h("li",{class:["vxe-table--filter-option",{"is--checked":B._checked}],title:B.label,onClick:function(J){h(J,!B._checked,B)}},(D?[Vue.h("span",{class:["vxe-checkbox--icon",ae?GlobalConfig.icon.TABLE_CHECKBOX_CHECKED:GlobalConfig.icon.TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([Vue.h("span",{class:"vxe-checkbox--label"},formatText(B.label,1))]))}))]},M=function(){var O=e.filterStore,R=O.column,E=O.multiple,V=l.value,D=R.filterRender,N=D?VXETable.renderer.get(D.name):null,X=!V&&!O.isAllSelected&&!O.isIndeterminate;return E&&(!N||N.showFilterFooter!==!1)?[Vue.h("div",{class:"vxe-table--filter-footer"},[Vue.h("button",{class:{"is--disabled":X},disabled:X,onClick:s},GlobalConfig.i18n("vxe.table.confirmFilter")),Vue.h("button",{onClick:o},GlobalConfig.i18n("vxe.table.resetFilter"))])]:[]},L=function(){var O=e.filterStore,R=a.initStore,E=O.column,V=E?E.filterRender:null,D=V?VXETable.renderer.get(V.name):null,N=D?D.filterClassName:"",X=Object.assign({},n._currFilterParams,{$panel:U,$table:r});return Vue.h("div",{class:["vxe-table--filter-wrapper","filter--prevent-default",getPropClass(N,X),{"is--animat":r.props.animat,"is--multiple":O.multiple,"is--active":O.visible}],style:O.style},R.filter&&O.visible?A(V,D).concat(M()):[])};return L}});var __assign$i=globalThis&&globalThis.__assign||function(){return __assign$i=Object.assign||function(e){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},__assign$i.apply(this,arguments)},dynamicContainerElem,dynamicStore=Vue.reactive({modals:[]}),VxeDynamics=Vue.defineComponent({setup:function(){return function(){var e=dynamicStore.modals;return Vue.h("div",{class:"vxe-dynamics--modal"},e.map(function(r){return Vue.h(Vue.resolveComponent("vxe-modal"),r)}))}}}),dynamicApp=Vue.createApp(VxeDynamics);function checkDynamic(){dynamicContainerElem||(dynamicContainerElem=document.createElement("div"),dynamicContainerElem.className="vxe-dynamics",document.body.appendChild(dynamicContainerElem),dynamicApp.mount(dynamicContainerElem))}dynamicApp.component(PanelComponent$1.name,PanelComponent$1);const PanelComponent=Vue.defineComponent({name:"VxeTableContextMenu",setup:function(e,r){var a=XEUtils$1.uniqueId(),n=Vue.inject("$xetable",{}),l=n.reactData,c=Vue.ref(),s={refElem:c},g={xID:a,props:e,context:r,getRefMaps:function(){return s}},o=function(){var d=l.ctxMenuStore,h=n.getComputeMaps().computeMenuOpts,T=h.value;return Vue.h(Vue.Teleport,{to:"body",disabled:!1},[Vue.h("div",{ref:c,class:["vxe-table--context-menu-wrapper",T.className,{"is--visible":d.visible}],style:d.style},d.list.map(function(U,A){return U.every(function(M){return M.visible===!1})?Vue.createCommentVNode():Vue.h("ul",{class:"vxe-context-menu--option-wrapper",key:A},U.map(function(M,L){var O=M.children&&M.children.some(function(R){return R.visible!==!1});return M.visible===!1?null:Vue.h("li",{class:[M.className,{"link--disabled":M.disabled,"link--active":M===d.selected}],key:"".concat(A,"_").concat(L)},[Vue.h("a",{class:"vxe-context-menu--link",onClick:function(R){n.ctxMenuLinkEvent(R,M)},onMouseover:function(R){n.ctxMenuMouseoverEvent(R,M)},onMouseout:function(R){n.ctxMenuMouseoutEvent(R,M)}},[Vue.h("i",{class:["vxe-context-menu--link-prefix",M.prefixIcon]}),Vue.h("span",{class:"vxe-context-menu--link-content"},getFuncText(M.name)),Vue.h("i",{class:["vxe-context-menu--link-suffix",O?M.suffixIcon||"suffix--haschild":M.suffixIcon]})]),O?Vue.h("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":M===d.selected&&d.showChild}]},M.children.map(function(R,E){return R.visible===!1?null:Vue.h("li",{class:[R.className,{"link--disabled":R.disabled,"link--active":R===d.selectChild}],key:"".concat(A,"_").concat(L,"_").concat(E)},[Vue.h("a",{class:"vxe-context-menu--link",onClick:function(V){n.ctxMenuLinkEvent(V,R)},onMouseover:function(V){n.ctxMenuMouseoverEvent(V,M,R)},onMouseout:function(V){n.ctxMenuMouseoutEvent(V,M)}},[Vue.h("i",{class:["vxe-context-menu--link-prefix",R.prefixIcon]}),Vue.h("span",{class:"vxe-context-menu--link-content"},getFuncText(R.name))])])})):null])}))}))])};return g.renderVN=o,g},render:function(){return this.renderVN()}});var EVENT_KEYS={F2:"F2",ESCAPE:"Escape",ENTER:"Enter",TAB:"Tab",DELETE:"Delete",BACKSPACE:"Backspace",SPACEBAR:" ",CONTEXT_MENU:"ContextMenu",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown"},convertEventKeys={" ":"Spacebar",Apps:EVENT_KEYS.CONTEXT_MENU,Del:EVENT_KEYS.DELETE,Up:EVENT_KEYS.ARROW_UP,Down:EVENT_KEYS.ARROW_DOWN,Left:EVENT_KEYS.ARROW_LEFT,Right:EVENT_KEYS.ARROW_RIGHT},wheelName=browse.firefox?"DOMMouseScroll":"mousewheel",eventStore$1=[],hasEventKey=function(e,r){var a=e.key;return r=r.toLowerCase(),a?r===a.toLowerCase()||!!(convertEventKeys[a]&&convertEventKeys[a].toLowerCase()===r):!1};function triggerEvent(e){var r=e.type===wheelName;eventStore$1.forEach(function(a){var n=a.type,l=a.cb;e.cancelBubble||(n===e.type||r&&n==="mousewheel")&&l(e)})}var GlobalEvent={on:function(e,r,a){eventStore$1.push({comp:e,type:r,cb:a})},off:function(e,r){XEUtils$1.remove(eventStore$1,function(a){return a.comp===e&&a.type===r})},trigger:triggerEvent,eqKeypad:function(e,r){var a=e.key;return r.toLowerCase()===a.toLowerCase()}};browse.isDoc&&(browse.msie||(document.addEventListener("copy",triggerEvent,!1),document.addEventListener("cut",triggerEvent,!1),document.addEventListener("paste",triggerEvent,!1)),document.addEventListener("keydown",triggerEvent,!1),document.addEventListener("contextmenu",triggerEvent,!1),window.addEventListener("mousedown",triggerEvent,!1),window.addEventListener("blur",triggerEvent,!1),window.addEventListener("resize",triggerEvent,!1),window.addEventListener(wheelName,XEUtils$1.throttle(triggerEvent,100,{leading:!0,trailing:!1}),{passive:!0,capture:!1}));var __assign$h=globalThis&&globalThis.__assign||function(){return __assign$h=Object.assign||function(e){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},__assign$h.apply(this,arguments)},tableMenuMethodKeys=["closeMenu"],tableMenuHook={setupTable:function(e){var r=e.xID,a=e.props,n=e.reactData,l=e.internalData,c=e.getRefMaps(),s=c.refElem,g=c.refTableFilter,o=c.refTableMenu,d=e.getComputeMaps(),h=d.computeMouseOpts,T=d.computeIsMenu,U=d.computeMenuOpts,A={},M={},L=function(O,R,E){var V=n.ctxMenuStore,D=T.value,N=U.value,X=N[R],H=N.visibleMethod;if(X){var x=X.options,w=X.disabled;w?O.preventDefault():D&&x&&x.length&&(E.options=x,e.preventEvent(O,"event.showMenu",E,function(){if(!H||H(E)){O.preventDefault(),e.updateZindex();var P=getDomNode(),B=P.scrollTop,ae=P.scrollLeft,J=P.visibleHeight,F=P.visibleWidth,W=O.clientY+B,oe=O.clientX+ae,he=function(){l._currMenuParams=E,Object.assign(V,{visible:!0,list:x,selected:null,selectChild:null,showChild:!1,style:{zIndex:l.tZindex,top:"".concat(W,"px"),left:"".concat(oe,"px")}}),Vue.nextTick(function(){var Se=o.value,ge=Se.getRefMaps().refElem.value,Be=ge.clientHeight,pe=ge.clientWidth,De=getAbsolutePos(ge),_e=De.boundingTop,$e=De.boundingLeft,te=_e+Be-J,ve=$e+pe-F;te>-10&&(V.style.top="".concat(Math.max(B+2,W-Be-2),"px")),ve>-10&&(V.style.left="".concat(Math.max(ae+2,oe-pe-2),"px"))})},me=E.keyboard,Re=E.row,Oe=E.column;me&&Re&&Oe?e.scrollToRow(Re,Oe).then(function(){var Se=e.getCell(Re,Oe);if(Se){var ge=getAbsolutePos(Se),Be=ge.boundingTop,pe=ge.boundingLeft;W=Be+B+Math.floor(Se.offsetHeight/2),oe=pe+ae+Math.floor(Se.offsetWidth/2)}he()}):he()}else A.closeMenu()}))}e.closeFilter()};return A={closeMenu:function(){return Object.assign(n.ctxMenuStore,{visible:!1,selected:null,selectChild:null,showChild:!1}),Vue.nextTick()}},M={moveCtxMenu:function(O,R,E,V,D,N){var X,H=XEUtils$1.findIndexOf(N,function(P){return R[E]===P});if(V)D&&hasChildrenList(R.selected)?R.showChild=!0:(R.showChild=!1,R.selectChild=null);else if(hasEventKey(O,EVENT_KEYS.ARROW_UP)){for(var x=H-1;x>=0;x--)if(N[x].visible!==!1){X=N[x];break}R[E]=X||N[N.length-1]}else if(hasEventKey(O,EVENT_KEYS.ARROW_DOWN)){for(var w=H+1;w<N.length;w++)if(N[w].visible!==!1){X=N[w];break}R[E]=X||N[0]}else R[E]&&(hasEventKey(O,EVENT_KEYS.ENTER)||hasEventKey(O,EVENT_KEYS.SPACEBAR))&&M.ctxMenuLinkEvent(O,R[E])},handleGlobalContextmenuEvent:function(O){var R=a.mouseConfig,E=a.menuConfig,V=n.editStore,D=n.ctxMenuStore,N=l.visibleColumn,X=g.value,H=o.value,x=h.value,w=U.value,P=s.value,B=V.selected,ae=["header","body","footer"];if(isEnableConf(E)){if(D.visible&&H&&getEventTargetNode(O,H.getRefMaps().refElem.value).flag){O.preventDefault();return}if(l._keyCtx){var J="body",F={type:J,$table:e,keyboard:!0,columns:N.slice(0),$event:O};if(R&&x.area){var W=e.getActiveCellArea();if(W&&W.row&&W.column){F.row=W.row,F.column=W.column,L(O,J,F);return}}else if(R&&x.selected&&B.row&&B.column){F.row=B.row,F.column=B.column,L(O,J,F);return}}for(var oe=0;oe<ae.length;oe++){var he=ae[oe],me=getEventTargetNode(O,P,"vxe-".concat(he,"--column"),function($e){return $e.parentNode.parentNode.parentNode.getAttribute("xid")===r}),F={type:he,$table:e,columns:N.slice(0),$event:O};if(me.flag){var Re=me.targetElem,Oe=e.getColumnNode(Re),Se=Oe?Oe.item:null,ge="".concat(he,"-");if(Se&&Object.assign(F,{column:Se,columnIndex:e.getColumnIndex(Se),cell:Re}),he==="body"){var Be=e.getRowNode(Re.parentNode),pe=Be?Be.item:null;ge="",pe&&(F.row=pe,F.rowIndex=e.getRowIndex(pe))}var De="".concat(ge,"cell-menu");L(O,he,F),e.dispatchEvent(De,F,O);return}else if(getEventTargetNode(O,P,"vxe-table--".concat(he,"-wrapper"),function($e){return $e.getAttribute("xid")===r}).flag){w.trigger==="cell"?O.preventDefault():L(O,he,F);return}}}X&&!getEventTargetNode(O,X.$el).flag&&e.closeFilter(),A.closeMenu()},ctxMenuMouseoverEvent:function(O,R,E){var V=O.currentTarget,D=n.ctxMenuStore;O.preventDefault(),O.stopPropagation(),D.selected=R,D.selectChild=E,E||(D.showChild=hasChildrenList(R),D.showChild&&Vue.nextTick(function(){var N=V.nextElementSibling;if(N){var X=getAbsolutePos(V),H=X.boundingTop,x=X.boundingLeft,w=X.visibleHeight,P=X.visibleWidth,B=H+V.offsetHeight,ae=x+V.offsetWidth,J="",F="";ae+N.offsetWidth>P-10&&(J="auto",F="".concat(V.offsetWidth,"px"));var W="",oe="";B+N.offsetHeight>w-10&&(W="auto",oe="0"),N.style.left=J,N.style.right=F,N.style.top=W,N.style.bottom=oe}}))},ctxMenuMouseoutEvent:function(O,R){var E=n.ctxMenuStore;R.children||(E.selected=null),E.selectChild=null},ctxMenuLinkEvent:function(O,R){if(!R.disabled&&(R.code||!R.children||!R.children.length)){var E=VXETable.menus.get(R.code),V=Object.assign({},l._currMenuParams,{menu:R,$table:e,$grid:e.xegrid,$event:O});E&&E.menuMethod&&E.menuMethod(V,O),e.dispatchEvent("menu-click",V,O),A.closeMenu()}}},__assign$h(__assign$h({},A),M)},setupGrid:function(e){return e.extendTableMethods(tableMenuMethodKeys)}},VxeModuleMenu={Panel:PanelComponent,install:function(e){VXETable.hooks.add("$tableMenu",tableMenuHook),e.component(PanelComponent.name,PanelComponent)}},Menu=VxeModuleMenu;dynamicApp.component(PanelComponent.name,PanelComponent);var __assign$g=globalThis&&globalThis.__assign||function(){return __assign$g=Object.assign||function(e){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},__assign$g.apply(this,arguments)},__spreadArray$5=globalThis&&globalThis.__spreadArray||function(e,r,a){if(a||arguments.length===2)for(var n=0,l=r.length,c;n<l;n++)(c||!(n in r))&&(c||(c=Array.prototype.slice.call(r,0,n)),c[n]=r[n]);return e.concat(c||Array.prototype.slice.call(r))},tableEditMethodKeys=["insert","insertAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getEditRecord","getActiveRecord","getSelectedCell","clearEdit","clearActived","clearSelected","isEditByRow","isActiveByRow","setEditRow","setActiveRow","setEditCell","setActiveCell","setSelectCell"],editHook={setupTable:function(e){var r=e.props,a=e.reactData,n=e.internalData,l=e.getRefMaps().refElem,c=e.getComputeMaps(),s=c.computeMouseOpts,g=c.computeEditOpts,o=c.computeCheckboxOpts,d=c.computeTreeOpts,h={},T={},U=function(E,V){var D=V.model,N=V.editRender;N&&(D.value=getCellValue(E,V),D.update=!1)},A=function(E,V){var D=V.model,N=V.editRender;N&&D.update&&(setCellValue(E,V,D.value),D.update=!1,D.value=null)},M=function(){var E=l.value;if(E){var V=E.querySelector(".col--selected");V&&removeClass(V,"col--selected")}};function L(){var E=a.editStore,V=a.tableColumn,D=g.value,N=E.actived,X=N.row,H=N.column;(X||H)&&(D.mode==="row"?V.forEach(function(x){return A(X,x)}):A(X,H))}function O(E,V){var D=n.tableFullTreeData,N=n.afterFullData,X=n.fullDataRowIdData,H=n.fullAllDataRowIdData,x=d.value,w=x.rowField,P=x.parentField,B=x.mapChildrenField,ae=x.children||x.childrenField,J=V?"push":"unshift";E.forEach(function(F){var W=F[P],oe=getRowid(e,F),he=W?XEUtils$1.findTree(D,function(pe){return W===pe[w]},{children:B}):null;if(he){var me=he.item,Re=H[getRowid(e,me)],Oe=Re?Re.level:0,Se=me[ae],ge=me[B];XEUtils$1.isArray(Se)||(Se=me[ae]=[]),XEUtils$1.isArray(ge)||(ge=me[ae]=[]),Se[J](F),ge[J](F);var Be={row:F,rowid:oe,seq:-1,index:-1,_index:-1,$index:-1,items:Se,parent,level:Oe+1};X[oe]=Be,H[oe]=Be}else{N[J](F),D[J](F);var Be={row:F,rowid:oe,seq:-1,index:-1,_index:-1,$index:-1,items:D,parent:null,level:0};X[oe]=Be,H[oe]=Be}})}var R=function(E,V,D){var N=r.treeConfig,X=a.mergeList,H=a.editStore,x=n.tableFullTreeData,w=n.afterFullData,P=n.tableFullData,B=n.fullDataRowIdData,ae=n.fullAllDataRowIdData,J=d.value,F=J.transform,W=J.rowField,oe=J.mapChildrenField,he=J.children||J.childrenField;XEUtils$1.isArray(E)||(E=[E]);var me=Vue.reactive(e.defineField(E.map(function(ve){var Ve;return Object.assign(N&&F?(Ve={},Ve[oe]=[],Ve[he]=[],Ve):{},ve)})));if(!V)N&&F?O(me,!1):(w.unshift.apply(w,me),P.unshift.apply(P,me),X.forEach(function(ve){var Ve=ve.row;Ve>0&&(ve.row=Ve+me.length)}));else if(V===-1)N&&F?O(me,!0):(w.push.apply(w,me),P.push.apply(P,me),X.forEach(function(ve){var Ve=ve.row,Xe=ve.rowspan;Ve+Xe>w.length&&(ve.rowspan=Xe+me.length)}));else if(N&&F){var Re=XEUtils$1.findTree(x,function(ve){return V[W]===ve[W]},{children:oe});if(Re){var Oe=Re.parent,Se=Oe?Oe[oe]:x,ge=ae[getRowid(e,Oe)],Be=ge?ge.level:0;if(me.forEach(function(ve,Ve){var Xe=getRowid(e,ve);Oe&&(ve[J.parentField]=Oe[W]);var ye=Re.index+Ve;D&&(ye=ye+1),Se.splice(ye,0,ve);var ne={row:ve,rowid:Xe,seq:-1,index:-1,_index:-1,$index:-1,items:Se,parent:Oe,level:Be+1};B[Xe]=ne,ae[Xe]=ne}),Oe){var pe=XEUtils$1.findTree(x,function(ve){return V[W]===ve[W]},{children:he});if(pe){var De=pe.items,_e=pe.index;D&&(_e=_e+1),De.splice.apply(De,__spreadArray$5([_e,0],me,!1))}}}else O(me,!0)}else{if(N)throw new Error(getLog("vxe.error.noTree",["insert"]));var $e=-1;if(XEUtils$1.isNumber(V)?V<w.length&&($e=V):$e=e.findRowIndexOf(w,V),D&&($e=Math.max(w.length,$e+1)),$e===-1)throw new Error(errLog("vxe.error.unableInsert"));w.splice.apply(w,__spreadArray$5([$e,0],me,!1)),P.splice.apply(P,__spreadArray$5([e.findRowIndexOf(P,V),0],me,!1)),X.forEach(function(ve){var Ve=ve.row,Xe=ve.rowspan;Ve>$e?ve.row=Ve+me.length:Ve+Xe>$e&&(ve.rowspan=Xe+me.length)})}var te=H.insertMaps;return me.forEach(function(ve){var Ve=getRowid(e,ve);te[Ve]=ve}),e.cacheRowMap(),e.updateScrollYStatus(),e.handleTableData(N&&F),N&&F||e.updateAfterDataIndex(),e.updateFooter(),e.checkSelectionStatus(),a.scrollYLoad&&e.updateScrollYSpace(),Vue.nextTick().then(function(){return e.updateCellAreas(),e.recalculate()}).then(function(){return{row:me.length?me[me.length-1]:null,rows:me}})};return h={insert:function(E){return R(E,null)},insertAt:function(E,V){return R(E,V)},insertNextAt:function(E,V){return R(E,V,!0)},remove:function(E){var V=r.treeConfig,D=a.mergeList,N=a.editStore,X=a.selectCheckboxMaps,H=n.tableFullTreeData,x=n.afterFullData,w=n.tableFullData,P=o.value,B=d.value,ae=B.transform,J=B.mapChildrenField,F=B.children||B.childrenField,W=N.actived,oe=N.removeMaps,he=N.insertMaps,me=P.checkField,Re=[];if(E?XEUtils$1.isArray(E)||(E=[E]):E=w,E.forEach(function(Se){if(!e.isInsertByRow(Se)){var ge=getRowid(e,Se);oe[ge]=Se}}),!me){var Oe=__assign$g({},X);E.forEach(function(Se){var ge=getRowid(e,Se);Oe[ge]&&delete Oe[ge]}),a.selectCheckboxMaps=Oe}return w===E?(E=Re=w.slice(0),n.tableFullData=[],n.afterFullData=[],e.clearMergeCells()):V&&ae?E.forEach(function(Se){var ge=getRowid(e,Se),Be=XEUtils$1.findTree(H,function($e){return ge===getRowid(e,$e)},{children:J});if(Be){var pe=Be.items.splice(Be.index,1);Re.push(pe[0])}var De=XEUtils$1.findTree(H,function($e){return ge===getRowid(e,$e)},{children:F});De&&De.items.splice(De.index,1);var _e=e.findRowIndexOf(x,Se);_e>-1&&x.splice(_e,1)}):E.forEach(function(Se){var ge=e.findRowIndexOf(w,Se);if(ge>-1){var Be=w.splice(ge,1);Re.push(Be[0])}var pe=e.findRowIndexOf(x,Se);pe>-1&&(D.forEach(function(De){var _e=De.row,$e=De.rowspan;_e>pe?De.row=_e-1:_e+$e>pe&&(De.rowspan=$e-1)}),x.splice(pe,1))}),W.row&&e.findRowIndexOf(E,W.row)>-1&&h.clearEdit(),E.forEach(function(Se){var ge=getRowid(e,Se);he[ge]&&delete he[ge]}),e.updateFooter(),e.cacheRowMap(),e.handleTableData(V&&ae),V&&ae||e.updateAfterDataIndex(),e.checkSelectionStatus(),a.scrollYLoad&&e.updateScrollYSpace(),Vue.nextTick().then(function(){return e.updateCellAreas(),e.recalculate()}).then(function(){return{row:Re.length?Re[Re.length-1]:null,rows:Re}})},removeCheckboxRow:function(){return h.remove(e.getCheckboxRecords()).then(function(E){return e.clearCheckboxRow(),E})},removeRadioRow:function(){var E=e.getRadioRecord();return h.remove(E||[]).then(function(V){return e.clearRadioRow(),V})},removeCurrentRow:function(){var E=e.getCurrentRecord();return h.remove(E||[]).then(function(V){return e.clearCurrentRow(),V})},getRecordset:function(){return{insertRecords:h.getInsertRecords(),removeRecords:h.getRemoveRecords(),updateRecords:h.getUpdateRecords()}},getInsertRecords:function(){var E=a.editStore,V=n.fullAllDataRowIdData,D=E.insertMaps,N=[];return XEUtils$1.each(D,function(X,H){V[H]&&N.push(X)}),N},getRemoveRecords:function(){var E=a.editStore,V=E.removeMaps,D=[];return XEUtils$1.each(V,function(N){D.push(N)}),D},getUpdateRecords:function(){var E=r.keepSource,V=r.treeConfig,D=n.tableFullData,N=d.value;return E?(L(),V?XEUtils$1.filterTree(D,function(X){return e.isUpdateByRow(X)},N):D.filter(function(X){return e.isUpdateByRow(X)})):[]},getActiveRecord:function(){return this.getEditRecord()},getEditRecord:function(){var E=a.editStore,V=n.afterFullData,D=l.value,N=E.actived,X=N.args,H=N.row;return X&&e.findRowIndexOf(V,H)>-1&&D.querySelectorAll(".vxe-body--column.col--actived").length?Object.assign({},X):null},getSelectedCell:function(){var E=a.editStore,V=E.selected,D=V.args,N=V.column;return D&&N?Object.assign({},D):null},clearActived:function(E){return this.clearEdit(E)},clearEdit:function(E){var V=a.editStore,D=V.actived,N=D.row,X=D.column;return(N||X)&&(L(),D.args=null,D.row=null,D.column=null,e.updateFooter(),e.dispatchEvent("edit-closed",{row:N,rowIndex:e.getRowIndex(N),$rowIndex:e.getVMRowIndex(N),column:X,columnIndex:e.getColumnIndex(X),$columnIndex:e.getVMColumnIndex(X)},E||null)),GlobalConfig.cellVaildMode==="obsolete"&&e.clearValidate?e.clearValidate():Vue.nextTick()},clearSelected:function(){var E=a.editStore,V=E.selected;return V.row=null,V.column=null,M(),Vue.nextTick()},isActiveByRow:function(E){return this.isEditByRow(E)},isEditByRow:function(E){var V=a.editStore;return V.actived.row===E},setActiveRow:function(E){return h.setEditRow(E)},setEditRow:function(E){var V=n.visibleColumn;return e.setEditCell(E,XEUtils$1.find(V,function(D){return isEnableConf(D.editRender)}))},setActiveCell:function(E,V){return h.setEditCell(E,V)},setEditCell:function(E,V){var D=r.editConfig,N=XEUtils$1.isString(V)?e.getColumnByField(V):V;return E&&N&&isEnableConf(D)&&isEnableConf(N.editRender)?e.scrollToRow(E,N).then(function(){var X=e.getCell(E,N);return X&&(T.handleActived({row:E,rowIndex:e.getRowIndex(E),column:N,columnIndex:e.getColumnIndex(N),cell:X,$table:e}),n._lastCallTime=Date.now()),Vue.nextTick()}):Vue.nextTick()},setSelectCell:function(E,V){var D=a.tableData,N=g.value,X=XEUtils$1.isString(V)?e.getColumnByField(V):V;if(E&&X&&N.trigger!=="manual"){var H=e.findRowIndexOf(D,E);if(H>-1&&X){var x=e.getCell(E,X),w={row:E,rowIndex:H,column:X,columnIndex:e.getColumnIndex(X),cell:x};e.handleSelected(w,{})}}return Vue.nextTick()}},T={handleActived:function(E,V){var D=r.editConfig,N=r.mouseConfig,X=a.editStore,H=a.tableColumn,x=g.value,w=x.mode,P=X.actived,B=E.row,ae=E.column,J=ae.editRender,F=E.cell||e.getCell(B,ae),W=x.beforeEditMethod||x.activeMethod;if(E.cell=F,isEnableConf(D)&&isEnableConf(J)&&F){if(P.row!==B||w==="cell"&&P.column!==ae){var oe="edit-disabled";(!W||W(__assign$g(__assign$g({},E),{$table:e})))&&(N&&(h.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),e.closeTooltip(),P.column&&h.clearEdit(V),oe="edit-actived",ae.renderHeight=F.offsetHeight,P.args=E,P.row=B,P.column=ae,w==="row"?H.forEach(function(Re){return U(B,Re)}):U(B,ae),Vue.nextTick(function(){T.handleFocus(E,V)})),e.dispatchEvent(oe,{row:B,rowIndex:e.getRowIndex(B),$rowIndex:e.getVMRowIndex(B),column:ae,columnIndex:e.getColumnIndex(ae),$columnIndex:e.getVMColumnIndex(ae)},V)}else{var he=P.column;if(N&&(h.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),he!==ae){var me=he.model;me.update&&setCellValue(B,he,me.value),e.clearValidate&&e.clearValidate(B,ae)}ae.renderHeight=F.offsetHeight,P.args=E,P.column=ae,setTimeout(function(){T.handleFocus(E,V)})}e.focus()}return Vue.nextTick()},handleFocus:function(E){var V=E.row,D=E.column,N=E.cell,X=D.editRender;if(isEnableConf(X)){var H=renderer.get(X.name),x=X.autofocus,w=X.autoselect,P=void 0;if(!x&&H&&(x=H.autofocus),!w&&H&&(w=H.autoselect),XEUtils$1.isFunction(x)?P=x.call(this,E):x&&(P=N.querySelector(x),P&&P.focus()),P){if(w)P.select();else if(browse.msie){var B=P.createTextRange();B.collapse(!1),B.select()}}else e.scrollToRow(V,D)}},handleSelected:function(E,V){var D=r.mouseConfig,N=a.editStore,X=s.value,H=g.value,x=N.actived,w=N.selected,P=E.row,B=E.column,ae=D&&X.selected,J=function(){return ae&&(w.row!==P||w.column!==B)&&(x.row!==P||H.mode==="cell"&&x.column!==B)&&(h.clearEdit(V),h.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea()),w.args=E,w.row=P,w.column=B,ae&&T.addCellSelectedClass(),e.focus(),V&&e.dispatchEvent("cell-selected",E,V)),Vue.nextTick()};return J()},addCellSelectedClass:function(){var E=a.editStore,V=E.selected,D=V.row,N=V.column;if(M(),D&&N){var X=e.getCell(D,N);X&&addClass(X,"col--selected")}}},__assign$g(__assign$g({},h),T)},setupGrid:function(e){return e.extendTableMethods(tableEditMethodKeys)}},VxeModuleEdit={install:function(){VXETable.hooks.add("$tableEdit",editHook)}},Edit=VxeModuleEdit;function useSize(e){var r=Vue.inject("xesize",null),a=Vue.computed(function(){return e.size||(r?r.value:null)});return Vue.provide("xesize",a),a}const VxeButtonComponent=Vue.defineComponent({name:"VxeButton",props:{type:String,className:[String,Function],popupClassName:[String,Function],size:{type:String,default:function(){return GlobalConfig.button.size||GlobalConfig.size}},name:[String,Number],content:String,placement:String,status:String,icon:String,round:Boolean,circle:Boolean,disabled:Boolean,loading:Boolean,destroyOnClose:Boolean,transfer:{type:Boolean,default:function(){return GlobalConfig.button.transfer}}},emits:["click","dropdown-click"],setup:function(e,r){var a=r.slots,n=r.emit,l=XEUtils$1.uniqueId(),c=useSize(e),s=Vue.reactive({inited:!1,showPanel:!1,animatVisible:!1,panelIndex:0,panelStyle:{},panelPlacement:""}),g={showTime:null},o=Vue.ref(),d=Vue.ref(),h=Vue.ref(),T={refElem:o},U={xID:l,props:e,context:r,reactData:s,internalData:g,getRefMaps:function(){return T}},A={},M=Vue.computed(function(){var B=e.type;return B?["submit","reset","button"].indexOf(B)>-1:!1}),L=Vue.computed(function(){var B=e.type;return B&&B==="text"?B:"button"}),O=function(){s.panelIndex<getLastZIndex()&&(s.panelIndex=nextZIndex())},R=function(){return Vue.nextTick().then(function(){var B=e.transfer,ae=e.placement,J=s.panelIndex,F=d.value,W=h.value;if(W&&F){var oe=F.offsetHeight,he=F.offsetWidth,me=W.offsetHeight,Re=W.offsetWidth,Oe=5,Se={zIndex:J},ge=getAbsolutePos(F),Be=ge.top,pe=ge.left,De=ge.boundingTop,_e=ge.visibleHeight,$e=ge.visibleWidth,te="bottom";if(B){var ve=pe+he-Re,Ve=Be+oe;ae==="top"?(te="top",Ve=Be-me):ae||(De+oe+me+Oe>_e&&(te="top",Ve=Be-me),Ve<Oe&&(te="bottom",Ve=Be+oe)),ve+Re+Oe>$e&&(ve-=ve+Re+Oe-$e),ve<Oe&&(ve=Oe),Object.assign(Se,{left:"".concat(ve,"px"),right:"auto",top:"".concat(Ve,"px"),minWidth:"".concat(he,"px")})}else ae==="top"?(te="top",Se.bottom="".concat(oe,"px")):ae||De+oe+me>_e&&De-oe-me>Oe&&(te="top",Se.bottom="".concat(oe,"px"));return s.panelStyle=Se,s.panelPlacement=te,Vue.nextTick()}})},E=function(B){A.dispatchEvent("click",{$event:B},B)},V=function(B){var ae=B.button===0;ae&&B.stopPropagation()},D=function(B){var ae=B.currentTarget,J=h.value,F=getEventTargetNode(B,ae,"vxe-button"),W=F.flag,oe=F.targetElem;W&&(J&&(J.dataset.active="N"),s.showPanel=!1,setTimeout(function(){(!J||J.dataset.active!=="Y")&&(s.animatVisible=!1)},350),A.dispatchEvent("dropdown-click",{name:oe.getAttribute("name"),$event:B},B))},N=function(){var B=h.value;B&&(B.dataset.active="Y",s.animatVisible=!0,setTimeout(function(){B.dataset.active==="Y"&&(s.showPanel=!0,O(),R(),setTimeout(function(){s.showPanel&&R()},50))},20))},X=function(){var B=h.value;B&&(B.dataset.active="Y",s.inited||(s.inited=!0),g.showTime=setTimeout(function(){B.dataset.active==="Y"?N():s.animatVisible=!1},250))},H=function(){var B=h.value;clearTimeout(g.showTime),B?(B.dataset.active="N",setTimeout(function(){B.dataset.active!=="Y"&&(s.showPanel=!1,setTimeout(function(){B.dataset.active!=="Y"&&(s.animatVisible=!1)},350))},100)):(s.animatVisible=!1,s.showPanel=!1)},x=function(){H()},w=function(){var B=e.content,ae=e.icon,J=e.loading,F=[];return J?F.push(Vue.h("i",{class:["vxe-button--loading-icon",GlobalConfig.icon.BUTTON_LOADING]})):a.icon?F.push(Vue.h("span",{class:"vxe-button--custom-icon"},a.icon({}))):ae&&F.push(Vue.h("i",{class:["vxe-button--icon",ae]})),a.default?F.push(Vue.h("span",{class:"vxe-button--content"},a.default({}))):B&&F.push(Vue.h("span",{class:"vxe-button--content"},getFuncText(B))),F};A={dispatchEvent:function(B,ae,J){n(B,Object.assign({$button:U,$event:J},ae))},focus:function(){var B=d.value;return B.focus(),Vue.nextTick()},blur:function(){var B=d.value;return B.blur(),Vue.nextTick()}},Object.assign(U,A),Vue.onMounted(function(){GlobalEvent.on(U,"mousewheel",function(B){var ae=h.value;s.showPanel&&!getEventTargetNode(B,ae).flag&&H()})}),Vue.onUnmounted(function(){GlobalEvent.off(U,"mousewheel")});var P=function(){var B,ae,J,F,W=e.className,oe=e.popupClassName,he=e.transfer,me=e.type,Re=e.round,Oe=e.circle,Se=e.destroyOnClose,ge=e.status,Be=e.name,pe=e.disabled,De=e.loading,_e=s.inited,$e=s.showPanel,te=M.value,ve=L.value,Ve=c.value;return a.dropdowns?Vue.h("div",{ref:o,class:["vxe-button--dropdown",W?XEUtils$1.isFunction(W)?W({$button:U}):W:"",(B={},B["size--".concat(Ve)]=Ve,B["is--active"]=$e,B)]},[Vue.h("button",{ref:d,class:["vxe-button","type--".concat(ve),(ae={},ae["size--".concat(Ve)]=Ve,ae["theme--".concat(ge)]=ge,ae["is--round"]=Re,ae["is--circle"]=Oe,ae["is--disabled"]=pe||De,ae["is--loading"]=De,ae)],name:Be,type:te?me:"button",disabled:pe||De,onMouseenter:X,onMouseleave:x,onClick:E},w().concat([Vue.h("i",{class:"vxe-button--dropdown-arrow ".concat(GlobalConfig.icon.BUTTON_DROPDOWN)})])),Vue.h(Vue.Teleport,{to:"body",disabled:he?!_e:!0},[Vue.h("div",{ref:h,class:["vxe-button--dropdown-panel",oe?XEUtils$1.isFunction(oe)?oe({$button:U}):oe:"",(J={},J["size--".concat(Ve)]=Ve,J["animat--leave"]=s.animatVisible,J["animat--enter"]=$e,J)],placement:s.panelPlacement,style:s.panelStyle},_e?[Vue.h("div",{class:"vxe-button--dropdown-wrapper",onMousedown:V,onClick:D,onMouseenter:N,onMouseleave:x},Se&&!$e?[]:a.dropdowns({}))]:[])])]):Vue.h("button",{ref:d,class:["vxe-button","type--".concat(ve),(F={},F["size--".concat(Ve)]=Ve,F["theme--".concat(ge)]=ge,F["is--round"]=Re,F["is--circle"]=Oe,F["is--disabled"]=pe||De,F["is--loading"]=De,F)],name:Be,type:te?me:"button",disabled:pe||De,onClick:E},w())};return U.renderVN=P,U},render:function(){return this.renderVN()}}),VxeLoadingComponent=Vue.defineComponent({name:"VxeLoading",props:{modelValue:Boolean,icon:String,text:String},setup:function(e,r){var a=r.slots,n=Vue.computed(function(){return e.icon||GlobalConfig.icon.LOADING}),l=Vue.computed(function(){var c=GlobalConfig.loadingText;return e.text||(c===null?c:GlobalConfig.i18n("vxe.loading.text"))});return function(){var c=n.value,s=l.value;return Vue.h("div",{class:["vxe-loading",{"is--visible":e.modelValue}]},a.default?[Vue.h("div",{class:"vxe-loading--warpper"},a.default({}))]:[Vue.h("div",{class:"vxe-loading--chunk"},[c?Vue.h("i",{class:c}):Vue.h("div",{class:"vxe-loading--spinner"}),s?Vue.h("div",{class:"vxe-loading--text"},"".concat(s)):null])])}}});var VxeLoading=Object.assign(VxeLoadingComponent,{install:function(e){e.component(VxeLoadingComponent.name,VxeLoadingComponent)}}),__assign$f=globalThis&&globalThis.__assign||function(){return __assign$f=Object.assign||function(e){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},__assign$f.apply(this,arguments)},allActivedModals=[],msgQueue=[];const VxeModalComponent=Vue.defineComponent({name:"VxeModal",props:{modelValue:Boolean,id:String,type:{type:String,default:"modal"},loading:{type:Boolean,default:null},status:String,iconStatus:String,className:String,top:{type:[Number,String],default:function(){return GlobalConfig.modal.top}},position:[String,Object],title:String,duration:{type:[Number,String],default:function(){return GlobalConfig.modal.duration}},message:[Number,String],content:[Number,String],cancelButtonText:{type:String,default:function(){return GlobalConfig.modal.cancelButtonText}},confirmButtonText:{type:String,default:function(){return GlobalConfig.modal.confirmButtonText}},lockView:{type:Boolean,default:function(){return GlobalConfig.modal.lockView}},lockScroll:Boolean,mask:{type:Boolean,default:function(){return GlobalConfig.modal.mask}},maskClosable:{type:Boolean,default:function(){return GlobalConfig.modal.maskClosable}},escClosable:{type:Boolean,default:function(){return GlobalConfig.modal.escClosable}},resize:Boolean,showHeader:{type:Boolean,default:function(){return GlobalConfig.modal.showHeader}},showFooter:{type:Boolean,default:function(){return GlobalConfig.modal.showFooter}},showZoom:Boolean,showClose:{type:Boolean,default:function(){return GlobalConfig.modal.showClose}},dblclickZoom:{type:Boolean,default:function(){return GlobalConfig.modal.dblclickZoom}},width:[Number,String],height:[Number,String],minWidth:{type:[Number,String],default:function(){return GlobalConfig.modal.minWidth}},minHeight:{type:[Number,String],default:function(){return GlobalConfig.modal.minHeight}},zIndex:Number,marginSize:{type:[Number,String],default:function(){return GlobalConfig.modal.marginSize}},fullscreen:Boolean,draggable:{type:Boolean,default:function(){return GlobalConfig.modal.draggable}},remember:{type:Boolean,default:function(){return GlobalConfig.modal.remember}},destroyOnClose:{type:Boolean,default:function(){return GlobalConfig.modal.destroyOnClose}},showTitleOverflow:{type:Boolean,default:function(){return GlobalConfig.modal.showTitleOverflow}},transfer:{type:Boolean,default:function(){return GlobalConfig.modal.transfer}},storage:{type:Boolean,default:function(){return GlobalConfig.modal.storage}},storageKey:{type:String,default:function(){return GlobalConfig.modal.storageKey}},animat:{type:Boolean,default:function(){return GlobalConfig.modal.animat}},size:{type:String,default:function(){return GlobalConfig.modal.size||GlobalConfig.size}},beforeHideMethod:{type:Function,default:function(){return GlobalConfig.modal.beforeHideMethod}},slots:Object},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel","zoom"],setup:function(e,r){var a=r.slots,n=r.emit,l=XEUtils$1.uniqueId(),c=useSize(e),s=Vue.reactive({inited:!1,visible:!1,contentVisible:!1,modalTop:0,modalZindex:0,zoomLocat:null,firstOpen:!0}),g=Vue.ref(),o=Vue.ref(),d=Vue.ref(),h=Vue.ref(),T={refElem:g},U={xID:l,props:e,context:r,reactData:s,getRefMaps:function(){return T}},A={},M=Vue.computed(function(){return e.type==="message"}),L=function(){var ne=o.value;return ne},O=function(){var ne=e.width,ie=e.height,Ie=L();return Ie.style.width="".concat(ne?isNaN(ne)?ne:"".concat(ne,"px"):""),Ie.style.height="".concat(ie?isNaN(ie)?ie:"".concat(ie,"px"):""),Vue.nextTick()},R=function(){var ne=e.zIndex,ie=s.modalZindex;ne?s.modalZindex=ne:ie<getLastZIndex()&&(s.modalZindex=nextZIndex())},E=function(){return Vue.nextTick().then(function(){var ne=e.position,ie=XEUtils$1.toNumber(e.marginSize),Ie=L(),Ge=document.documentElement.clientWidth||document.body.clientWidth,We=document.documentElement.clientHeight||document.body.clientHeight,j=ne==="center",K=XEUtils$1.isString(ne)?{top:ne,left:ne}:Object.assign({},ne),ue=K.top,ce=K.left,we=j||ue==="center",Le=j||ce==="center",Pe="",q="";ce&&!Le?q=isNaN(ce)?ce:"".concat(ce,"px"):q="".concat(Math.max(ie,Ge/2-Ie.offsetWidth/2),"px"),ue&&!we?Pe=isNaN(ue)?ue:"".concat(ue,"px"):Pe="".concat(Math.max(ie,We/2-Ie.offsetHeight/2),"px"),Ie.style.top=Pe,Ie.style.left=q})},V=function(){Vue.nextTick(function(){var ne=0;msgQueue.forEach(function(ie){var Ie=ie.getBox();ne+=XEUtils$1.toNumber(ie.props.top),ie.reactData.modalTop=ne,ne+=Ie.clientHeight})})},D=function(){msgQueue.indexOf(U)>-1&&XEUtils$1.remove(msgQueue,function(ne){return ne===U}),V()},N=function(ne){var ie=e.remember,Ie=e.beforeHideMethod,Ge=s.visible,We=M.value,j={type:ne};return Ge&&Promise.resolve(Ie?Ie(j):null).then(function(K){XEUtils$1.isError(K)||(We&&D(),s.contentVisible=!1,ie||(s.zoomLocat=null),XEUtils$1.remove(allActivedModals,function(ue){return ue===U}),A.dispatchEvent("before-hide",j),setTimeout(function(){s.visible=!1,n("update:modelValue",!1),A.dispatchEvent("hide",j)},200))}).catch(function(K){return K}),Vue.nextTick()},X=function(ne){var ie="close";A.dispatchEvent(ie,{type:ie},ne),N(ie)},H=function(ne){var ie="confirm";A.dispatchEvent(ie,{type:ie},ne),N(ie)},x=function(ne){var ie="cancel";A.dispatchEvent(ie,{type:ie},ne),N(ie)},w=function(ne){var ie=GlobalConfig.version,Ie=XEUtils$1.toStringJSON(localStorage.getItem(ne)||"");return Ie&&Ie._v===ie?Ie:{_v:ie}},P=function(){var ne=e.id,ie=e.remember,Ie=e.storage,Ge=e.storageKey;return!!(ne&&ie&&Ie&&w(Ge)[ne])},B=function(){var ne=e.id,ie=e.remember,Ie=e.storage,Ge=e.storageKey;if(ne&&ie&&Ie){var We=w(Ge)[ne];if(We){var j=L(),K=We.split(","),ue=K[0],ce=K[1],we=K[2],Le=K[3],Pe=K[4],q=K[5],Q=K[6],de=K[7];ue&&(j.style.left="".concat(ue,"px")),ce&&(j.style.top="".concat(ce,"px")),we&&(j.style.width="".concat(we,"px")),Le&&(j.style.height="".concat(Le,"px")),Pe&&q&&(s.zoomLocat={left:Pe,top:q,width:Q,height:de})}}},ae=function(){msgQueue.indexOf(U)===-1&&msgQueue.push(U),V()},J=function(){var ne=e.id,ie=e.remember,Ie=e.storage,Ge=e.storageKey,We=s.zoomLocat;if(ne&&ie&&Ie){var j=L(),K=w(Ge);K[ne]=[j.style.left,j.style.top,j.style.width,j.style.height].concat(We?[We.left,We.top,We.width,We.height]:[]).map(function(ue){return ue?XEUtils$1.toNumber(ue):""}).join(","),localStorage.setItem(Ge,XEUtils$1.toJSONString(K))}},F=function(){return Vue.nextTick().then(function(){if(!s.zoomLocat){var ne=Math.max(0,XEUtils$1.toNumber(e.marginSize)),ie=L(),Ie=getDomNode(),Ge=Ie.visibleHeight,We=Ie.visibleWidth;s.zoomLocat={top:ie.offsetTop,left:ie.offsetLeft,width:ie.offsetWidth+(ie.style.width?0:1),height:ie.offsetHeight+(ie.style.height?0:1)},Object.assign(ie.style,{top:"".concat(ne,"px"),left:"".concat(ne,"px"),width:"".concat(We-ne*2,"px"),height:"".concat(Ge-ne*2,"px")}),J()}})},W=function(){var ne=e.duration,ie=e.remember,Ie=e.showFooter,Ge=s.inited,We=s.visible,j=M.value;return Ge||(s.inited=!0),We||(ie||O(),s.visible=!0,s.contentVisible=!1,R(),allActivedModals.push(U),setTimeout(function(){s.contentVisible=!0,Vue.nextTick(function(){if(Ie){var K=d.value,ue=h.value,ce=K||ue;ce&&ce.focus()}var we="",Le={type:we};n("update:modelValue",!0),A.dispatchEvent("show",Le)})},10),j?(ae(),ne!==-1&&setTimeout(function(){return N("close")},XEUtils$1.toNumber(ne))):Vue.nextTick(function(){var K=e.fullscreen,ue=s.firstOpen;(!ie||ue)&&E().then(function(){setTimeout(function(){return E()},20)}),ue?(s.firstOpen=!1,P()?B():K&&Vue.nextTick(function(){return F()})):K&&Vue.nextTick(function(){return F()})})),Vue.nextTick()},oe=function(ne){var ie=g.value;if(e.maskClosable&&ne.target===ie){var Ie="mask";N(Ie)}},he=function(ne){var ie=hasEventKey(ne,EVENT_KEYS.ESCAPE);if(ie){var Ie=XEUtils$1.max(allActivedModals,function(Ge){return Ge.reactData.modalZindex});Ie&&setTimeout(function(){Ie===U&&Ie.props.escClosable&&N("exit")},10)}},me=function(){return!!s.zoomLocat},Re=function(){return Vue.nextTick().then(function(){var ne=s.zoomLocat;if(ne){var ie=L();s.zoomLocat=null,Object.assign(ie.style,{top:"".concat(ne.top,"px"),left:"".concat(ne.left,"px"),width:"".concat(ne.width,"px"),height:"".concat(ne.height,"px")}),J()}})},Oe=function(){return s.zoomLocat?Re().then(function(){return me()}):F().then(function(){return me()})},Se=function(ne){var ie=s.zoomLocat,Ie={type:ie?"revert":"max"};return Oe().then(function(){A.dispatchEvent("zoom",Ie,ne)})},ge=function(){var ne=M.value;if(!ne){var ie=L();if(ie)return{top:ie.offsetTop,left:ie.offsetLeft}}return null},Be=function(ne,ie){var Ie=M.value;if(!Ie){var Ge=L();XEUtils$1.isNumber(ne)&&(Ge.style.top="".concat(ne,"px")),XEUtils$1.isNumber(ie)&&(Ge.style.left="".concat(ie,"px"))}return Vue.nextTick()},pe=function(){var ne=s.modalZindex;allActivedModals.some(function(ie){return ie.reactData.visible&&ie.reactData.modalZindex>ne})&&R()},De=function(ne){var ie=e.remember,Ie=e.storage,Ge=s.zoomLocat,We=XEUtils$1.toNumber(e.marginSize),j=L();if(!Ge&&ne.button===0&&!getEventTargetNode(ne,j,"trigger--btn").flag){ne.preventDefault();var K=document.onmousemove,ue=document.onmouseup,ce=ne.clientX-j.offsetLeft,we=ne.clientY-j.offsetTop,Le=getDomNode(),Pe=Le.visibleHeight,q=Le.visibleWidth;document.onmousemove=function(Q){Q.preventDefault();var de=j.offsetWidth,be=j.offsetHeight,_=We,Y=q-de-We-1,ee=We,xe=Pe-be-We-1,Ce=Q.clientX-ce,Me=Q.clientY-we;Ce>Y&&(Ce=Y),Ce<_&&(Ce=_),Me>xe&&(Me=xe),Me<ee&&(Me=ee),j.style.left="".concat(Ce,"px"),j.style.top="".concat(Me,"px"),j.className=j.className.replace(/\s?is--drag/,"")+" is--drag"},document.onmouseup=function(){document.onmousemove=K,document.onmouseup=ue,ie&&Ie&&Vue.nextTick(function(){J()}),setTimeout(function(){j.className=j.className.replace(/\s?is--drag/,"")},50)}}},_e=function(ne){ne.preventDefault();var ie=e.remember,Ie=e.storage,Ge=getDomNode(),We=Ge.visibleHeight,j=Ge.visibleWidth,K=XEUtils$1.toNumber(e.marginSize),ue=ne.target,ce=ue.getAttribute("type"),we=XEUtils$1.toNumber(e.minWidth),Le=XEUtils$1.toNumber(e.minHeight),Pe=j,q=We,Q=L(),de=document.onmousemove,be=document.onmouseup,_=Q.clientWidth,Y=Q.clientHeight,ee=ne.clientX,xe=ne.clientY,Ce=Q.offsetTop,Me=Q.offsetLeft,ze={type:"resize"};document.onmousemove=function(qe){qe.preventDefault();var Ae,je,Ye,S;switch(ce){case"wl":Ae=ee-qe.clientX,Ye=Ae+_,Me-Ae>K&&Ye>we&&(Q.style.width="".concat(Ye<Pe?Ye:Pe,"px"),Q.style.left="".concat(Me-Ae,"px"));break;case"swst":Ae=ee-qe.clientX,je=xe-qe.clientY,Ye=Ae+_,S=je+Y,Me-Ae>K&&Ye>we&&(Q.style.width="".concat(Ye<Pe?Ye:Pe,"px"),Q.style.left="".concat(Me-Ae,"px")),Ce-je>K&&S>Le&&(Q.style.height="".concat(S<q?S:q,"px"),Q.style.top="".concat(Ce-je,"px"));break;case"swlb":Ae=ee-qe.clientX,je=qe.clientY-xe,Ye=Ae+_,S=je+Y,Me-Ae>K&&Ye>we&&(Q.style.width="".concat(Ye<Pe?Ye:Pe,"px"),Q.style.left="".concat(Me-Ae,"px")),Ce+S+K<We&&S>Le&&(Q.style.height="".concat(S<q?S:q,"px"));break;case"st":je=xe-qe.clientY,S=Y+je,Ce-je>K&&S>Le&&(Q.style.height="".concat(S<q?S:q,"px"),Q.style.top="".concat(Ce-je,"px"));break;case"wr":Ae=qe.clientX-ee,Ye=Ae+_,Me+Ye+K<j&&Ye>we&&(Q.style.width="".concat(Ye<Pe?Ye:Pe,"px"));break;case"sest":Ae=qe.clientX-ee,je=xe-qe.clientY,Ye=Ae+_,S=je+Y,Me+Ye+K<j&&Ye>we&&(Q.style.width="".concat(Ye<Pe?Ye:Pe,"px")),Ce-je>K&&S>Le&&(Q.style.height="".concat(S<q?S:q,"px"),Q.style.top="".concat(Ce-je,"px"));break;case"selb":Ae=qe.clientX-ee,je=qe.clientY-xe,Ye=Ae+_,S=je+Y,Me+Ye+K<j&&Ye>we&&(Q.style.width="".concat(Ye<Pe?Ye:Pe,"px")),Ce+S+K<We&&S>Le&&(Q.style.height="".concat(S<q?S:q,"px"));break;case"sb":je=qe.clientY-xe,S=je+Y,Ce+S+K<We&&S>Le&&(Q.style.height="".concat(S<q?S:q,"px"));break}Q.className=Q.className.replace(/\s?is--drag/,"")+" is--drag",ie&&Ie&&J(),A.dispatchEvent("zoom",ze,qe)},document.onmouseup=function(){s.zoomLocat=null,document.onmousemove=de,document.onmouseup=be,setTimeout(function(){Q.className=Q.className.replace(/\s?is--drag/,"")},50)}},$e=function(){var ne=e.slots,ie=ne===void 0?{}:ne,Ie=e.showClose,Ge=e.showZoom,We=e.title,j=s.zoomLocat,K=a.title||ie.title,ue=a.corner||ie.corner,ce=[Vue.h("div",{class:"vxe-modal--header-title"},K?getSlotVNs(K({$modal:U})):We?getFuncText(We):GlobalConfig.i18n("vxe.alert.title"))],we=[];return ue&&we.push(Vue.h("span",{class:"vxe-modal--corner-warpper"},getSlotVNs(ue({$modal:U})))),Ge&&we.push(Vue.h("i",{class:["vxe-modal--zoom-btn","trigger--btn",j?GlobalConfig.icon.MODAL_ZOOM_OUT:GlobalConfig.icon.MODAL_ZOOM_IN],title:GlobalConfig.i18n("vxe.modal.zoom".concat(j?"Out":"In")),onClick:Se})),Ie&&we.push(Vue.h("i",{class:["vxe-modal--close-btn","trigger--btn",GlobalConfig.icon.MODAL_CLOSE],title:GlobalConfig.i18n("vxe.modal.close"),onClick:X})),ce.push(Vue.h("div",{class:"vxe-modal--header-right"},we)),ce},te=function(){var ne=e.slots,ie=ne===void 0?{}:ne,Ie=e.showZoom,Ge=e.draggable,We=M.value,j=a.header||ie.header,K=[];if(e.showHeader){var ue={};Ge&&(ue.onMousedown=De),Ie&&e.dblclickZoom&&e.type==="modal"&&(ue.onDblclick=Se),K.push(Vue.h("div",__assign$f({class:["vxe-modal--header",{"is--draggable":Ge,"is--ellipsis":!We&&e.showTitleOverflow}]},ue),j?!s.inited||e.destroyOnClose&&!s.visible?[]:getSlotVNs(j({$modal:U})):$e()))}return K},ve=function(){var ne=e.slots,ie=ne===void 0?{}:ne,Ie=e.status,Ge=e.message,We=e.content||Ge,j=M.value,K=a.default||ie.default,ue=[];return Ie&&ue.push(Vue.h("div",{class:"vxe-modal--status-wrapper"},[Vue.h("i",{class:["vxe-modal--status-icon",e.iconStatus||GlobalConfig.icon["MODAL_".concat(Ie).toLocaleUpperCase()]]})])),ue.push(Vue.h("div",{class:"vxe-modal--content"},K?!s.inited||e.destroyOnClose&&!s.visible?[]:getSlotVNs(K({$modal:U})):getFuncText(We))),j||ue.push(Vue.h(VxeLoading,{class:"vxe-modal--loading",modelValue:e.loading})),[Vue.h("div",{class:"vxe-modal--body"},ue)]},Ve=function(){var ne=e.type,ie=[];return ne==="confirm"&&ie.push(Vue.h(VxeButtonComponent,{ref:h,content:e.cancelButtonText||GlobalConfig.i18n("vxe.button.cancel"),onClick:x})),ie.push(Vue.h(VxeButtonComponent,{ref:d,status:"primary",content:e.confirmButtonText||GlobalConfig.i18n("vxe.button.confirm"),onClick:H})),ie},Xe=function(){var ne=e.slots,ie=ne===void 0?{}:ne,Ie=M.value,Ge=a.footer||ie.footer,We=[];return e.showFooter&&We.push(Vue.h("div",{class:"vxe-modal--footer"},Ge?!s.inited||e.destroyOnClose&&!s.visible?[]:getSlotVNs(Ge({$modal:U})):Ve())),!Ie&&e.resize&&We.push(Vue.h("span",{class:"vxe-modal--resize"},["wl","wr","swst","sest","st","swlb","selb","sb"].map(function(j){return Vue.h("span",{class:"".concat(j,"-resize"),type:j,onMousedown:_e})}))),We};A={dispatchEvent:function(ne,ie,Ie){n(ne,Object.assign({$modal:U,$event:Ie},ie))},open:W,close:function(){return N("close")},getBox:L,getPosition:ge,setPosition:Be,isMaximized:me,zoom:Oe,maximize:F,revert:Re},Object.assign(U,A),Vue.watch(function(){return e.width},O),Vue.watch(function(){return e.height},O),Vue.watch(function(){return e.modelValue},function(ne){ne?W():N("model")}),Vue.onMounted(function(){Vue.nextTick(function(){e.storage&&!e.id&&errLog("vxe.error.reqProp",["modal.id"]),e.modelValue&&W(),O()}),e.escClosable&&GlobalEvent.on(U,"keydown",he)}),Vue.onUnmounted(function(){GlobalEvent.off(U,"keydown"),D()});var ye=function(){var ne,ie=e.className,Ie=e.type,Ge=e.animat,We=e.loading,j=e.status,K=e.lockScroll,ue=e.lockView,ce=e.mask,we=e.resize,Le=s.inited,Pe=s.zoomLocat,q=s.modalTop,Q=s.contentVisible,de=s.visible,be=c.value;return Vue.h(Vue.Teleport,{to:"body",disabled:e.transfer?!Le:!0},[Vue.h("div",{ref:g,class:["vxe-modal--wrapper","type--".concat(Ie),ie||"",(ne={},ne["size--".concat(be)]=be,ne["status--".concat(j)]=j,ne["is--animat"]=Ge,ne["lock--scroll"]=K,ne["lock--view"]=ue,ne["is--resize"]=we,ne["is--mask"]=ce,ne["is--maximize"]=Pe,ne["is--visible"]=Q,ne["is--active"]=de,ne["is--loading"]=We,ne)],style:{zIndex:s.modalZindex,top:q?"".concat(q,"px"):null},onClick:oe},[Vue.h("div",{ref:o,class:"vxe-modal--box",onMousedown:pe},te().concat(ve(),Xe()))])])};return U.renderVN=ye,U},render:function(){return this.renderVN()}});function toStringTimeDate(e){if(e){var r=new Date,a=0,n=0,l=0;if(XEUtils$1.isDate(e))a=e.getHours(),n=e.getMinutes(),l=e.getSeconds();else{e=XEUtils$1.toValueString(e);var c=e.match(/^(\d{1,2})(:(\d{1,2}))?(:(\d{1,2}))?/);c&&(a=XEUtils$1.toNumber(c[1]),n=XEUtils$1.toNumber(c[3]),l=XEUtils$1.toNumber(c[5]))}return r.setHours(a),r.setMinutes(n),r.setSeconds(l),r}return new Date("")}function getDateQuarter(e){var r=e.getMonth();return r<3?1:r<6?2:r<9?3:4}function handleNumber(e){return XEUtils$1.isString(e)?e.replace(/,/g,""):e}function toFloatValueFixed(e,r){return/^-/.test(""+e)?XEUtils$1.toFixed(XEUtils$1.ceil(e,r),r):XEUtils$1.toFixed(XEUtils$1.floor(e,r),r)}var __spreadArray$4=globalThis&&globalThis.__spreadArray||function(e,r,a){if(a||arguments.length===2)for(var n=0,l=r.length,c;n<l;n++)(c||!(n in r))&&(c||(c=Array.prototype.slice.call(r,0,n)),c[n]=r[n]);return e.concat(c||Array.prototype.slice.call(r))},yearSize=12,monthSize=20,quarterSize=8;const VxeInputConstructor=Vue.defineComponent({name:"VxeInput",props:{modelValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"text"},clearable:{type:Boolean,default:function(){return GlobalConfig.input.clearable}},readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:function(){return XEUtils$1.eqNull(GlobalConfig.input.placeholder)?GlobalConfig.i18n("vxe.base.pleaseInput"):GlobalConfig.input.placeholder}},maxlength:[String,Number],autocomplete:{type:String,default:"off"},align:String,form:String,className:String,size:{type:String,default:function(){return GlobalConfig.input.size||GlobalConfig.size}},multiple:Boolean,showWordCount:Boolean,countMethod:Function,min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:[String,Number],exponential:{type:Boolean,default:function(){return GlobalConfig.input.exponential}},controls:{type:Boolean,default:function(){return GlobalConfig.input.controls}},digits:{type:[String,Number],default:function(){return GlobalConfig.input.digits}},startDate:{type:[String,Number,Date],default:function(){return GlobalConfig.input.startDate}},endDate:{type:[String,Number,Date],default:function(){return GlobalConfig.input.endDate}},minDate:[String,Number,Date],maxDate:[String,Number,Date],startWeek:Number,startDay:{type:[String,Number],default:function(){return GlobalConfig.input.startDay}},labelFormat:{type:String,default:function(){return GlobalConfig.input.labelFormat}},valueFormat:{type:String,default:function(){return GlobalConfig.input.valueFormat}},editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:function(){return GlobalConfig.input.festivalMethod}},disabledMethod:{type:Function,default:function(){return GlobalConfig.input.disabledMethod}},selectDay:{type:[String,Number],default:function(){return GlobalConfig.input.selectDay}},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:function(){return GlobalConfig.input.transfer}}},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","search-click","toggle-visible","prev-number","next-number","prefix-click","suffix-click","date-prev","date-today","date-next"],setup:function(e,r){var a=r.slots,n=r.emit,l=Vue.inject("$xeform",null),c=Vue.inject("$xeformiteminfo",null),s=XEUtils$1.uniqueId(),g=useSize(e),o=Vue.reactive({inited:!1,panelIndex:0,showPwd:!1,visiblePanel:!1,animatVisible:!1,panelStyle:null,panelPlacement:"",isActivated:!1,inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),d=Vue.ref(),h=Vue.ref(),T=Vue.ref(),U=Vue.ref(),A={refElem:d,refInput:h},M={xID:s,props:e,context:r,reactData:o,getRefMaps:function(){return A}},L={},O=function(C,z){var re=e.type;return re==="time"?toStringTimeDate(C):XEUtils$1.toStringDate(C,z)},R=Vue.computed(function(){var C=e.type;return C==="time"||C==="datetime"}),E=Vue.computed(function(){return["number","integer","float"].indexOf(e.type)>-1}),V=Vue.computed(function(){return XEUtils$1.getSize(o.inputValue)}),D=Vue.computed(function(){var C=V.value;return e.maxlength&&C>XEUtils$1.toNumber(e.maxlength)}),N=Vue.computed(function(){var C=R.value;return C||["date","week","month","quarter","year"].indexOf(e.type)>-1}),X=Vue.computed(function(){return e.type==="password"}),H=Vue.computed(function(){return e.type==="search"}),x=Vue.computed(function(){return XEUtils$1.toInteger(e.digits)||1}),w=Vue.computed(function(){var C=e.type,z=x.value,re=e.step;return C==="integer"?XEUtils$1.toInteger(re)||1:C==="float"?XEUtils$1.toNumber(re)||1/Math.pow(10,z):XEUtils$1.toNumber(re)||1}),P=Vue.computed(function(){var C=e.type,z=E.value,re=N.value,Ee=X.value;return e.clearable&&(Ee||z||re||C==="text"||C==="search")}),B=Vue.computed(function(){return e.startDate?XEUtils$1.toStringDate(e.startDate):null}),ae=Vue.computed(function(){return e.endDate?XEUtils$1.toStringDate(e.endDate):null}),J=Vue.computed(function(){return["date","week","month","quarter","year"].includes(e.type)}),F=Vue.computed(function(){var C=e.modelValue,z=e.multiple,re=N.value,Ee=he.value;return z&&C&&re?XEUtils$1.toValueString(C).split(",").map(function(u){var f=O(u,Ee);return XEUtils$1.isValidDate(f)?f:null}):[]}),W=Vue.computed(function(){var C=F.value,z=he.value;return C.map(function(re){return XEUtils$1.toDateString(re,z)})}),oe=Vue.computed(function(){var C=F.value,z=Be.value;return C.map(function(re){return XEUtils$1.toDateString(re,z)}).join(", ")}),he=Vue.computed(function(){var C=e.type;return C==="time"?"HH:mm:ss":e.valueFormat||(C==="datetime"?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd")}),me=Vue.computed(function(){var C=e.modelValue,z=N.value,re=he.value,Ee=null;if(C&&z){var u=O(C,re);XEUtils$1.isValidDate(u)&&(Ee=u)}return Ee}),Re=Vue.computed(function(){var C=B.value,z=o.selectMonth;return z&&C?z<=C:!1}),Oe=Vue.computed(function(){var C=ae.value,z=o.selectMonth;return z&&C?z>=C:!1}),Se=Vue.computed(function(){var C=o.datetimePanelValue;return C?XEUtils$1.toDateString(C,"HH:mm:ss"):""}),ge=Vue.computed(function(){var C=me.value,z=R.value;return C&&z?(C.getHours()*3600+C.getMinutes()*60+C.getSeconds())*1e3:0}),Be=Vue.computed(function(){var C=N.value;return C?e.labelFormat||GlobalConfig.i18n("vxe.input.date.labelFormat.".concat(e.type)):null}),pe=Vue.computed(function(){var C=o.selectMonth,z=o.currentDate,re=[];if(C&&z)for(var Ee=z.getFullYear(),u=C.getFullYear(),f=new Date(u-u%yearSize,0,1),p=-4;p<yearSize+4;p++){var m=XEUtils$1.getWhatYear(f,p,"first"),b=m.getFullYear();re.push({date:m,isCurrent:!0,isPrev:p<0,isNow:Ee===b,isNext:p>=yearSize,year:b})}return re}),De=Vue.computed(function(){var C=N.value;if(C){var z=o.datePanelType,re=o.selectMonth,Ee=pe.value,u="",f=void 0;return re&&(u=re.getFullYear(),f=re.getMonth()+1),z==="quarter"?GlobalConfig.i18n("vxe.input.date.quarterLabel",[u]):z==="month"?GlobalConfig.i18n("vxe.input.date.monthLabel",[u]):z==="year"?Ee.length?"".concat(Ee[0].year," - ").concat(Ee[Ee.length-1].year):"":GlobalConfig.i18n("vxe.input.date.dayLabel",[u,f?GlobalConfig.i18n("vxe.input.date.m".concat(f)):"-"])}return""}),_e=Vue.computed(function(){var C=e.startDay,z=e.startWeek;return XEUtils$1.toNumber(XEUtils$1.isNumber(C)||XEUtils$1.isString(C)?C:z)}),$e=Vue.computed(function(){var C=[],z=N.value;if(z){var re=_e.value;C.push(re);for(var Ee=0;Ee<6;Ee++)re>=6?re=0:re++,C.push(re)}return C}),te=Vue.computed(function(){var C=N.value;if(C){var z=$e.value;return z.map(function(re){return{value:re,label:GlobalConfig.i18n("vxe.input.date.weeks.w".concat(re))}})}return[]}),ve=Vue.computed(function(){var C=N.value;if(C){var z=te.value;return[{label:GlobalConfig.i18n("vxe.input.date.weeks.w")}].concat(z)}return[]}),Ve=Vue.computed(function(){var C=pe.value;return XEUtils$1.chunk(C,4)}),Xe=Vue.computed(function(){var C=o.selectMonth,z=o.currentDate,re=[];if(C&&z)for(var Ee=z.getFullYear(),u=getDateQuarter(z),f=XEUtils$1.getWhatYear(C,0,"first"),p=f.getFullYear(),m=-2;m<quarterSize-2;m++){var b=XEUtils$1.getWhatQuarter(f,m),y=b.getFullYear(),$=getDateQuarter(b),k=y<p;re.push({date:b,isPrev:k,isCurrent:y===p,isNow:y===Ee&&$===u,isNext:!k&&y>p,quarter:$})}return re}),ye=Vue.computed(function(){var C=Xe.value;return XEUtils$1.chunk(C,2)}),ne=Vue.computed(function(){var C=o.selectMonth,z=o.currentDate,re=[];if(C&&z)for(var Ee=z.getFullYear(),u=z.getMonth(),f=XEUtils$1.getWhatYear(C,0,"first").getFullYear(),p=-4;p<monthSize-4;p++){var m=XEUtils$1.getWhatYear(C,0,p),b=m.getFullYear(),y=m.getMonth(),$=b<f;re.push({date:m,isPrev:$,isCurrent:b===f,isNow:b===Ee&&y===u,isNext:!$&&b>f,month:y})}return re}),ie=Vue.computed(function(){var C=ne.value;return XEUtils$1.chunk(C,4)}),Ie=Vue.computed(function(){var C=o.selectMonth,z=o.currentDate,re=[];if(C&&z)for(var Ee=ge.value,u=$e.value,f=z.getFullYear(),p=z.getMonth(),m=z.getDate(),b=C.getFullYear(),y=C.getMonth(),$=C.getDay(),k=-u.indexOf($),I=new Date(XEUtils$1.getWhatDay(C,k).getTime()+Ee),G=0;G<42;G++){var Z=XEUtils$1.getWhatDay(I,G),le=Z.getFullYear(),Te=Z.getMonth(),ke=Z.getDate(),fe=Z<C;re.push({date:Z,isPrev:fe,isCurrent:le===b&&Te===y,isNow:le===f&&Te===p&&ke===m,isNext:!fe&&y!==Te,label:ke})}return re}),Ge=Vue.computed(function(){var C=Ie.value;return XEUtils$1.chunk(C,7)}),We=Vue.computed(function(){var C=Ge.value,z=_e.value;return C.map(function(re){var Ee=re[0],u={date:Ee.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:XEUtils$1.getYearWeek(Ee.date,z)};return[u].concat(re)})}),j=Vue.computed(function(){var C=[],z=R.value;if(z)for(var re=0;re<24;re++)C.push({value:re,label:(""+re).padStart(2,"0")});return C}),K=Vue.computed(function(){var C=[],z=R.value;if(z)for(var re=0;re<60;re++)C.push({value:re,label:(""+re).padStart(2,"0")});return C}),ue=Vue.computed(function(){var C=K.value;return C}),ce=Vue.computed(function(){var C=e.type,z=e.readonly,re=e.editable,Ee=e.multiple;return z||Ee||!re||C==="week"||C==="quarter"}),we=Vue.computed(function(){var C=e.type,z=o.showPwd,re=E.value,Ee=N.value,u=X.value;return Ee||re||u&&z||C==="number"?"text":C}),Le=Vue.computed(function(){var C=e.placeholder;return C?getFuncText(C):""}),Pe=Vue.computed(function(){var C=e.maxlength,z=E.value;return z&&!XEUtils$1.toNumber(C)?16:C}),q=Vue.computed(function(){var C=e.type,z=e.immediate;return z||!(C==="text"||C==="number"||C==="integer"||C==="float")}),Q=Vue.computed(function(){var C=e.type,z=o.inputValue,re=E.value;return re?C==="integer"?XEUtils$1.toInteger(handleNumber(z)):XEUtils$1.toNumber(handleNumber(z)):0}),de=Vue.computed(function(){var C=e.min,z=o.inputValue,re=E.value,Ee=Q.value;return(z||z===0)&&re&&C!==null?Ee<=XEUtils$1.toNumber(C):!1}),be=Vue.computed(function(){var C=e.max,z=o.inputValue,re=E.value,Ee=Q.value;return(z||z===0)&&re&&C!==null?Ee>=XEUtils$1.toNumber(C):!1}),_=function(C){var z=e.type,re=e.exponential,Ee=Pe.value,u=x.value,f=z==="float"?toFloatValueFixed(C,u):XEUtils$1.toValueString(C);return re&&(C===f||XEUtils$1.toValueString(C).toLowerCase()===XEUtils$1.toNumber(f).toExponential())?C:f.slice(0,Ee)},Y=function(C){var z=o.inputValue;L.dispatchEvent(C.type,{value:z},C)},ee=function(C,z){o.inputValue=C,n("update:modelValue",C),L.dispatchEvent("input",{value:C},z),XEUtils$1.toValueString(e.modelValue)!==C&&(L.dispatchEvent("change",{value:C},z),l&&c&&l.triggerItemEvent(z,c.itemConfig.field,C))},xe=function(C,z){var re=N.value,Ee=q.value;o.inputValue=C,re||(Ee?ee(C,z):L.dispatchEvent("input",{value:C},z))},Ce=function(C){var z=C.target,re=z.value;xe(re,C)},Me=function(C){var z=q.value;z||Y(C)},ze=function(C){o.isActivated=!0;var z=N.value;z&&Gt(C),Y(C)},qe=function(C){var z=e.disabled;if(!z){var re=o.inputValue;L.dispatchEvent("prefix-click",{value:re},C)}},Ae,je=function(){return new Promise(function(C){o.visiblePanel=!1,Ae=window.setTimeout(function(){o.animatVisible=!1,C()},350)})},Ye=function(C,z){var re=e.type,Ee=E.value,u=N.value;u&&je(),(Ee||["text","search","password"].indexOf(re)>-1)&&focus(),L.dispatchEvent("clear",{value:z},C)},S=function(C){var z=e.disabled;if(!z)if(hasClass(C.currentTarget,"is--clear"))ee("",C),Ye(C,"");else{var re=o.inputValue;L.dispatchEvent("suffix-click",{value:re},C)}},nt=function(C){var z=e.type,re=e.valueFormat,Ee=Be.value,u=_e.value,f=null,p="";if(C&&(f=O(C,re)),XEUtils$1.isValidDate(f)){if(p=XEUtils$1.toDateString(f,Ee,{firstDay:u}),Ee&&z==="week"){var m=XEUtils$1.getWhatWeek(f,0,u,u);if(m.getFullYear()<f.getFullYear()){var b=Ee.indexOf("yyyy");if(b>-1){var y=Number(p.substring(b,b+4));y&&!isNaN(y)&&(p=p.replace("".concat(y),"".concat(y-1)))}}}}else f=null;o.datePanelValue=f,o.datePanelLabel=p},dt=function(){var C=N.value,z=o.inputValue;C&&(nt(z),o.inputValue=e.multiple?oe.value:o.datePanelLabel)},st=function(){var C=e.type,z=o.inputValue,re=N.value,Ee=x.value;if(re)dt();else if(C==="float"&&z){var u=toFloatValueFixed(z,Ee);z!==u&&ee(u,{type:"init"})}},et=function(C){return e.max===null||XEUtils$1.toNumber(C)<=XEUtils$1.toNumber(e.max)},tt=function(C){return e.min===null||XEUtils$1.toNumber(C)>=XEUtils$1.toNumber(e.min)},ft=function(){o.inputValue=e.multiple?oe.value:o.datePanelLabel},Ke=function(C){var z=XEUtils$1.getWhatMonth(C,0,"first");XEUtils$1.isEqual(z,o.selectMonth)||(o.selectMonth=z)},ot=function(C){var z=e.modelValue,re=e.multiple,Ee=o.datetimePanelValue,u=R.value,f=he.value,p=_e.value;if(e.type==="week"){var m=XEUtils$1.toNumber(e.selectDay);C=XEUtils$1.getWhatWeek(C,0,m,p)}else u&&(C.setHours(Ee.getHours()),C.setMinutes(Ee.getMinutes()),C.setSeconds(Ee.getSeconds()));var b=XEUtils$1.toDateString(C,f,{firstDay:p});if(Ke(C),re){var y=W.value;if(u){var $=__spreadArray$4([],F.value,!0),k=[],I=XEUtils$1.findIndexOf($,function(G){return XEUtils$1.isDateSame(C,G,"yyyyMMdd")});I===-1?$.push(C):$.splice(I,1),$.forEach(function(G){G&&(G.setHours(Ee.getHours()),G.setMinutes(Ee.getMinutes()),G.setSeconds(Ee.getSeconds()),k.push(G))}),ee(k.map(function(G){return XEUtils$1.toDateString(G,f)}).join(","),{type:"update"})}else y.some(function(G){return XEUtils$1.isEqual(G,b)})?ee(y.filter(function(G){return!XEUtils$1.isEqual(G,b)}).join(","),{type:"update"}):ee(y.concat([b]).join(","),{type:"update"})}else XEUtils$1.isEqual(z,b)||ee(b,{type:"update"})},ut=function(){var C=e.type,z=e.min,re=e.max,Ee=e.exponential,u=o.inputValue,f=o.datetimePanelValue,p=E.value,m=N.value,b=Be.value,y=ce.value;if(!y){if(p){if(u){var $=C==="integer"?XEUtils$1.toInteger(handleNumber(u)):XEUtils$1.toNumber(handleNumber(u));if(tt($)?et($)||($=re):$=z,Ee){var k=XEUtils$1.toValueString(u).toLowerCase();k===XEUtils$1.toNumber($).toExponential()&&($=k)}ee(_($),{type:"check"})}}else if(m)if(u){var I=O(u,b);if(XEUtils$1.isValidDate(I))if(C==="time")I=XEUtils$1.toDateString(I,b),u!==I&&ee(I,{type:"check"}),o.inputValue=I;else{var G=!1,Z=_e.value;if(C==="datetime"){var le=me.value;(u!==XEUtils$1.toDateString(le,b)||u!==XEUtils$1.toDateString(I,b))&&(G=!0,f.setHours(I.getHours()),f.setMinutes(I.getMinutes()),f.setSeconds(I.getSeconds()))}else G=!0;o.inputValue=XEUtils$1.toDateString(I,b,{firstDay:Z}),G&&ot(I)}else ft()}else ee("",{type:"check"})}},Et=function(C){var z=o.inputValue,re=q.value;re||ee(z,C),ut(),o.visiblePanel||(o.isActivated=!1),L.dispatchEvent("blur",{value:z},C)},St=function(C){var z=e.readonly,re=e.disabled,Ee=o.showPwd;!re&&!z&&(o.showPwd=!Ee),L.dispatchEvent("toggle-visible",{visible:o.showPwd},C)},Dt=function(C){L.dispatchEvent("search-click",{},C)},Pt=function(C,z){var re=e.min,Ee=e.max,u=e.type,f=o.inputValue,p=w.value,m=u==="integer"?XEUtils$1.toInteger(handleNumber(f)):XEUtils$1.toNumber(handleNumber(f)),b=C?XEUtils$1.add(m,p):XEUtils$1.subtract(m,p),y;tt(b)?et(b)?y=b:y=Ee:y=re,xe(_(y),z)},Rt,kt=function(C){var z=e.readonly,re=e.disabled,Ee=de.value;clearTimeout(Rt),!re&&!z&&!Ee&&Pt(!1,C),L.dispatchEvent("next-number",{},C)},$t=function(C){Rt=window.setTimeout(function(){kt(C),$t(C)},60)},wt=function(C){var z=e.readonly,re=e.disabled,Ee=be.value;clearTimeout(Rt),!re&&!z&&!Ee&&Pt(!0,C),L.dispatchEvent("prev-number",{},C)},qt=function(C){var z=hasEventKey(C,EVENT_KEYS.ARROW_UP),re=hasEventKey(C,EVENT_KEYS.ARROW_DOWN);(z||re)&&(C.preventDefault(),z?wt(C):kt(C))},Mt=function(C){var z=e.exponential,re=e.controls,Ee=E.value;if(Ee){var u=C.ctrlKey,f=C.shiftKey,p=C.altKey,m=C.keyCode;!u&&!f&&!p&&(hasEventKey(C,EVENT_KEYS.SPACEBAR)||(!z||m!==69)&&m>=65&&m<=90||m>=186&&m<=188||m>=191)&&C.preventDefault(),re&&qt(C)}Y(C)},Yt=function(C){Y(C)},mt=function(){clearTimeout(Rt)},Vt=function(C){Rt=window.setTimeout(function(){wt(C),Vt(C)},60)},Wt=function(C){if(mt(),C.button===0){var z=hasClass(C.currentTarget,"is--prev");z?wt(C):kt(C),Rt=window.setTimeout(function(){z?Vt(C):$t(C)},500)}},Kt=function(C){var z=E.value;if(z&&e.controls&&o.isActivated){var re=C.deltaY;re>0?kt(C):re<0&&wt(C),C.preventDefault()}Y(C)},Zt=function(C,z){o.selectMonth=XEUtils$1.getWhatMonth(C,z,"first")},At=function(){var C=XEUtils$1.getWhatDay(Date.now(),0,"first");o.currentDate=C,Zt(C,0)},ar=function(){var C=o.datePanelType;C==="month"||C==="quarter"?C="year":C="month",o.datePanelType=C},fr=function(C){var z=e.type,re=o.datePanelType,Ee=o.selectMonth,u=Re.value;u||(z==="year"?o.selectMonth=XEUtils$1.getWhatYear(Ee,-yearSize,"first"):z==="month"||z==="quarter"?re==="year"?o.selectMonth=XEUtils$1.getWhatYear(Ee,-yearSize,"first"):o.selectMonth=XEUtils$1.getWhatYear(Ee,-1,"first"):re==="year"?o.selectMonth=XEUtils$1.getWhatYear(Ee,-yearSize,"first"):re==="month"?o.selectMonth=XEUtils$1.getWhatYear(Ee,-1,"first"):o.selectMonth=XEUtils$1.getWhatMonth(Ee,-1,"first"),L.dispatchEvent("date-prev",{type:z},C))},Nt=function(C){At(),e.multiple||(ot(o.currentDate),je()),L.dispatchEvent("date-today",{type:e.type},C)},yt=function(C){var z=e.type,re=o.datePanelType,Ee=o.selectMonth,u=Oe.value;u||(z==="year"?o.selectMonth=XEUtils$1.getWhatYear(Ee,yearSize,"first"):z==="month"||z==="quarter"?re==="year"?o.selectMonth=XEUtils$1.getWhatYear(Ee,yearSize,"first"):o.selectMonth=XEUtils$1.getWhatYear(Ee,1,"first"):re==="year"?o.selectMonth=XEUtils$1.getWhatYear(Ee,yearSize,"first"):re==="month"?o.selectMonth=XEUtils$1.getWhatYear(Ee,1,"first"):o.selectMonth=XEUtils$1.getWhatMonth(Ee,1,"first"),L.dispatchEvent("date-next",{type:z},C))},Ct=function(C){var z=e.disabledMethod,re=o.datePanelType;return z&&z({type:re,viewType:re,date:C.date,$input:M})},Jt=function(C){var z=e.type,re=e.multiple,Ee=o.datePanelType;z==="month"?Ee==="year"?(o.datePanelType="month",Ke(C)):(ot(C),re||je()):z==="year"?(ot(C),re||je()):z==="quarter"?Ee==="year"?(o.datePanelType="quarter",Ke(C)):(ot(C),re||je()):Ee==="month"?(o.datePanelType=z==="week"?z:"day",Ke(C)):Ee==="year"?(o.datePanelType="month",Ke(C)):(ot(C),re||je())},nr=function(C){Ct(C)||Jt(C.date)},or=function(C){if(!Ct({date:C})){var z=Ie.value;z.some(function(re){return XEUtils$1.isDateSame(re.date,C,"yyyyMMdd")})||Ke(C),nt(C)}},ur=function(C){if(!Ct({date:C})){var z=pe.value;z.some(function(re){return XEUtils$1.isDateSame(re.date,C,"yyyy")})||Ke(C),nt(C)}},Lt=function(C){if(!Ct({date:C})){var z=Xe.value;z.some(function(re){return XEUtils$1.isDateSame(re.date,C,"yyyyq")})||Ke(C),nt(C)}},Xt=function(C){if(!Ct({date:C})){var z=ne.value;z.some(function(re){return XEUtils$1.isDateSame(re.date,C,"yyyyMM")})||Ke(C),nt(C)}},bt=function(C){if(!Ct(C)){var z=o.datePanelType;z==="month"?Xt(C.date):z==="quarter"?Lt(C.date):z==="year"?ur(C.date):or(C.date)}},ht=function(C){if(C){var z=C.offsetHeight,re=C.parentNode;re.scrollTop=C.offsetTop-z*4}},xt=function(C){o.datetimePanelValue=new Date(o.datetimePanelValue.getTime()),ht(C.currentTarget)},Qt=function(C,z){o.datetimePanelValue.setHours(z.value),xt(C)},dr=function(){var C=e.multiple,z=o.datetimePanelValue,re=me.value,Ee=R.value;if(Ee){var u=he.value;if(C){var f=W.value;if(Ee){var p=__spreadArray$4([],F.value,!0),m=[];p.forEach(function(b){b&&(b.setHours(z.getHours()),b.setMinutes(z.getMinutes()),b.setSeconds(z.getSeconds()),m.push(b))}),ee(m.map(function(b){return XEUtils$1.toDateString(b,u)}).join(","),{type:"update"})}else ee(f.join(","),{type:"update"})}else ot(re||o.currentDate)}je()},er=function(C,z){o.datetimePanelValue.setMinutes(z.value),xt(C)},hr=function(C,z){o.datetimePanelValue.setSeconds(z.value),xt(C)},sr=function(C){var z=o.isActivated,re=o.datePanelValue,Ee=o.datePanelType;if(z){C.preventDefault();var u=hasEventKey(C,EVENT_KEYS.ARROW_LEFT),f=hasEventKey(C,EVENT_KEYS.ARROW_UP),p=hasEventKey(C,EVENT_KEYS.ARROW_RIGHT),m=hasEventKey(C,EVENT_KEYS.ARROW_DOWN);if(Ee==="year"){var b=XEUtils$1.getWhatYear(re||Date.now(),0,"first");u?b=XEUtils$1.getWhatYear(b,-1):f?b=XEUtils$1.getWhatYear(b,-4):p?b=XEUtils$1.getWhatYear(b,1):m&&(b=XEUtils$1.getWhatYear(b,4)),ur(b)}else if(Ee==="quarter"){var y=XEUtils$1.getWhatQuarter(re||Date.now(),0,"first");u?y=XEUtils$1.getWhatQuarter(y,-1):f?y=XEUtils$1.getWhatQuarter(y,-2):p?y=XEUtils$1.getWhatQuarter(y,1):m&&(y=XEUtils$1.getWhatQuarter(y,2)),Lt(y)}else if(Ee==="month"){var $=XEUtils$1.getWhatMonth(re||Date.now(),0,"first");u?$=XEUtils$1.getWhatMonth($,-1):f?$=XEUtils$1.getWhatMonth($,-4):p?$=XEUtils$1.getWhatMonth($,1):m&&($=XEUtils$1.getWhatMonth($,4)),Xt($)}else{var k=re||XEUtils$1.getWhatDay(Date.now(),0,"first"),I=_e.value;u?k=XEUtils$1.getWhatDay(k,-1):f?k=XEUtils$1.getWhatWeek(k,-1,I):p?k=XEUtils$1.getWhatDay(k,1):m&&(k=XEUtils$1.getWhatWeek(k,1,I)),or(k)}}},kr=function(C){var z=o.isActivated;if(z){var re=hasEventKey(C,EVENT_KEYS.PAGE_UP);C.preventDefault(),re?fr(C):yt(C)}},ir=function(){var C=e.type,z=R.value,re=me.value;["year","quarter","month","week"].indexOf(C)>-1?o.datePanelType=C:o.datePanelType="day",o.currentDate=XEUtils$1.getWhatDay(Date.now(),0,"first"),re?(Zt(re,0),nt(re)):At(),z&&(o.datetimePanelValue=o.datePanelValue||XEUtils$1.getWhatDay(Date.now(),0,"first"),Vue.nextTick(function(){var Ee=U.value;XEUtils$1.arrayEach(Ee.querySelectorAll("li.is--selected"),ht)}))},Tt=function(){o.panelIndex<getLastZIndex()&&(o.panelIndex=nextZIndex())},vr=function(){return Vue.nextTick().then(function(){var C=e.transfer,z=e.placement,re=o.panelIndex,Ee=h.value,u=T.value;if(Ee&&u){var f=Ee.offsetHeight,p=Ee.offsetWidth,m=u.offsetHeight,b=u.offsetWidth,y=5,$={zIndex:re},k=getAbsolutePos(Ee),I=k.boundingTop,G=k.boundingLeft,Z=k.visibleHeight,le=k.visibleWidth,Te="bottom";if(C){var ke=G,fe=I+f;z==="top"?(Te="top",fe=I-m):z||(fe+m+y>Z&&(Te="top",fe=I-m),fe<y&&(Te="bottom",fe=I+f)),ke+b+y>le&&(ke-=ke+b+y-le),ke<y&&(ke=y),Object.assign($,{left:"".concat(ke,"px"),top:"".concat(fe,"px"),minWidth:"".concat(p,"px")})}else z==="top"?(Te="top",$.bottom="".concat(f,"px")):z||I+f+m>Z&&I-f-m>y&&(Te="top",$.bottom="".concat(f,"px"));return o.panelStyle=$,o.panelPlacement=Te,Vue.nextTick()}})},jt=function(){var C=e.disabled,z=o.visiblePanel,re=N.value;return!C&&!z?(o.inited||(o.inited=!0),clearTimeout(Ae),o.isActivated=!0,o.animatVisible=!0,re&&ir(),setTimeout(function(){o.visiblePanel=!0},10),Tt(),vr()):Vue.nextTick()},Gt=function(C){var z=e.readonly;z||(C.preventDefault(),jt())},Mr=function(C){Y(C)},Sr=function(C){var z=e.disabled,re=o.visiblePanel,Ee=o.isActivated,u=N.value,f=d.value,p=T.value;!z&&Ee&&(o.isActivated=getEventTargetNode(C,f).flag||getEventTargetNode(C,p).flag,o.isActivated||(u?re&&(je(),ut()):ut()))},mr=function(C){var z=e.clearable,re=e.disabled,Ee=o.visiblePanel,u=N.value;if(!re){var f=hasEventKey(C,EVENT_KEYS.TAB),p=hasEventKey(C,EVENT_KEYS.DELETE),m=hasEventKey(C,EVENT_KEYS.ESCAPE),b=hasEventKey(C,EVENT_KEYS.ENTER),y=hasEventKey(C,EVENT_KEYS.ARROW_LEFT),$=hasEventKey(C,EVENT_KEYS.ARROW_UP),k=hasEventKey(C,EVENT_KEYS.ARROW_RIGHT),I=hasEventKey(C,EVENT_KEYS.ARROW_DOWN),G=hasEventKey(C,EVENT_KEYS.PAGE_UP),Z=hasEventKey(C,EVENT_KEYS.PAGE_DOWN),le=y||$||k||I,Te=o.isActivated;f?(Te&&ut(),Te=!1,o.isActivated=Te):le?u&&Te&&(Ee?sr(C):($||I)&&Gt(C)):b?u&&(Ee?o.datePanelValue?Jt(o.datePanelValue):je():Te&&Gt(C)):(G||Z)&&u&&Te&&kr(C),f||m?Ee&&je():p&&z&&Te&&Ye(C,null)}},cr=function(C){var z=e.disabled,re=o.visiblePanel;if(!z&&re){var Ee=T.value;getEventTargetNode(C,Ee).flag?vr():(je(),ut())}},Ot=function(){var C=o.isActivated,z=o.visiblePanel;z?(je(),ut()):C&&ut()},Er=function(C,z){var re=e.festivalMethod;if(re){var Ee=o.datePanelType,u=re({type:Ee,viewType:Ee,date:C.date,$input:M}),f=u?XEUtils$1.isString(u)?{label:u}:u:{},p=f.extra?XEUtils$1.isString(f.extra)?{label:f.extra}:f.extra:null,m=[Vue.h("span",{class:["vxe-input--date-label",{"is-notice":f.notice}]},p&&p.label?[Vue.h("span",z),Vue.h("span",{class:["vxe-input--date-label--extra",p.important?"is-important":"",p.className],style:p.style},XEUtils$1.toValueString(p.label))]:z)],b=f.label;if(b){var y=XEUtils$1.toValueString(b).split(",");m.push(Vue.h("span",{class:["vxe-input--date-festival",f.important?"is-important":"",f.className],style:f.style},[y.length>1?Vue.h("span",{class:["vxe-input--date-festival--overlap","overlap--".concat(y.length)]},y.map(function($){return Vue.h("span",$.substring(0,3))})):Vue.h("span",{class:"vxe-input--date-festival--label"},y[0].substring(0,3))]))}return m}return z},Jr=function(){var C=e.multiple,z=o.datePanelType,re=o.datePanelValue,Ee=me.value,u=te.value,f=Ge.value,p=F.value,m="yyyyMMdd";return[Vue.h("table",{class:"vxe-input--date-".concat(z,"-view"),cellspacing:0,cellpadding:0,border:0},[Vue.h("thead",[Vue.h("tr",u.map(function(b){return Vue.h("th",b.label)}))]),Vue.h("tbody",f.map(function(b){return Vue.h("tr",b.map(function(y){return Vue.h("td",{class:{"is--prev":y.isPrev,"is--current":y.isCurrent,"is--now":y.isNow,"is--next":y.isNext,"is--disabled":Ct(y),"is--selected":C?p.some(function($){return XEUtils$1.isDateSame($,y.date,m)}):XEUtils$1.isDateSame(Ee,y.date,m),"is--hover":XEUtils$1.isDateSame(re,y.date,m)},onClick:function(){return nr(y)},onMouseenter:function(){return bt(y)}},Er(y,y.label))}))}))])]},Qr=function(){var C=e.multiple,z=o.datePanelType,re=o.datePanelValue,Ee=me.value,u=ve.value,f=We.value,p=F.value,m="yyyyMMdd";return[Vue.h("table",{class:"vxe-input--date-".concat(z,"-view"),cellspacing:0,cellpadding:0,border:0},[Vue.h("thead",[Vue.h("tr",u.map(function(b){return Vue.h("th",b.label)}))]),Vue.h("tbody",f.map(function(b){var y=C?b.some(function(k){return p.some(function(I){return XEUtils$1.isDateSame(I,k.date,m)})}):b.some(function(k){return XEUtils$1.isDateSame(Ee,k.date,m)}),$=b.some(function(k){return XEUtils$1.isDateSame(re,k.date,m)});return Vue.h("tr",b.map(function(k){return Vue.h("td",{class:{"is--prev":k.isPrev,"is--current":k.isCurrent,"is--now":k.isNow,"is--next":k.isNext,"is--disabled":Ct(k),"is--selected":y,"is--hover":$},onClick:function(){return nr(k)},onMouseenter:function(){return bt(k)}},Er(k,k.label))}))}))])]},ea=function(){var C=e.multiple,z=o.datePanelType,re=o.datePanelValue,Ee=me.value,u=ie.value,f=F.value,p="yyyyMM";return[Vue.h("table",{class:"vxe-input--date-".concat(z,"-view"),cellspacing:0,cellpadding:0,border:0},[Vue.h("tbody",u.map(function(m){return Vue.h("tr",m.map(function(b){return Vue.h("td",{class:{"is--prev":b.isPrev,"is--current":b.isCurrent,"is--now":b.isNow,"is--next":b.isNext,"is--disabled":Ct(b),"is--selected":C?f.some(function(y){return XEUtils$1.isDateSame(y,b.date,p)}):XEUtils$1.isDateSame(Ee,b.date,p),"is--hover":XEUtils$1.isDateSame(re,b.date,p)},onClick:function(){return nr(b)},onMouseenter:function(){return bt(b)}},Er(b,GlobalConfig.i18n("vxe.input.date.months.m".concat(b.month))))}))}))])]},ta=function(){var C=e.multiple,z=o.datePanelType,re=o.datePanelValue,Ee=me.value,u=ye.value,f=F.value,p="yyyyq";return[Vue.h("table",{class:"vxe-input--date-".concat(z,"-view"),cellspacing:0,cellpadding:0,border:0},[Vue.h("tbody",u.map(function(m){return Vue.h("tr",m.map(function(b){return Vue.h("td",{class:{"is--prev":b.isPrev,"is--current":b.isCurrent,"is--now":b.isNow,"is--next":b.isNext,"is--disabled":Ct(b),"is--selected":C?f.some(function(y){return XEUtils$1.isDateSame(y,b.date,p)}):XEUtils$1.isDateSame(Ee,b.date,p),"is--hover":XEUtils$1.isDateSame(re,b.date,p)},onClick:function(){return nr(b)},onMouseenter:function(){return bt(b)}},Er(b,GlobalConfig.i18n("vxe.input.date.quarters.q".concat(b.quarter))))}))}))])]},ra=function(){var C=e.multiple,z=o.datePanelType,re=o.datePanelValue,Ee=me.value,u=Ve.value,f=F.value,p="yyyy";return[Vue.h("table",{class:"vxe-input--date-".concat(z,"-view"),cellspacing:0,cellpadding:0,border:0},[Vue.h("tbody",u.map(function(m){return Vue.h("tr",m.map(function(b){return Vue.h("td",{class:{"is--prev":b.isPrev,"is--current":b.isCurrent,"is--now":b.isNow,"is--next":b.isNext,"is--disabled":Ct(b),"is--selected":C?f.some(function(y){return XEUtils$1.isDateSame(y,b.date,p)}):XEUtils$1.isDateSame(Ee,b.date,p),"is--hover":XEUtils$1.isDateSame(re,b.date,p)},onClick:function(){return nr(b)},onMouseenter:function(){return bt(b)}},Er(b,b.year))}))}))])]},aa=function(){var C=o.datePanelType;switch(C){case"week":return Qr();case"month":return ea();case"quarter":return ta();case"year":return ra()}return Jr()},Wr=function(){var C=e.multiple,z=o.datePanelType,re=Re.value,Ee=Oe.value,u=De.value;return[Vue.h("div",{class:"vxe-input--date-picker-header"},[Vue.h("div",{class:"vxe-input--date-picker-type-wrapper"},[z==="year"?Vue.h("span",{class:"vxe-input--date-picker-label"},u):Vue.h("span",{class:"vxe-input--date-picker-btn",onClick:ar},u)]),Vue.h("div",{class:"vxe-input--date-picker-btn-wrapper"},[Vue.h("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-prev-btn",{"is--disabled":re}],onClick:fr},[Vue.h("i",{class:"vxe-icon-caret-left"})]),Vue.h("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-current-btn",onClick:Nt},[Vue.h("i",{class:"vxe-icon-dot"})]),Vue.h("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-next-btn",{"is--disabled":Ee}],onClick:yt},[Vue.h("i",{class:"vxe-icon-caret-right"})]),C&&J.value?Vue.h("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-confirm-btn"},[Vue.h("button",{class:"vxe-input--date-picker-confirm",type:"button",onClick:dr},GlobalConfig.i18n("vxe.button.confirm"))]):null])]),Vue.h("div",{class:"vxe-input--date-picker-body"},aa())]},jr=function(){var C=o.datetimePanelValue,z=Se.value,re=j.value,Ee=K.value,u=ue.value;return[Vue.h("div",{class:"vxe-input--time-picker-header"},[Vue.h("span",{class:"vxe-input--time-picker-title"},z),Vue.h("button",{class:"vxe-input--time-picker-confirm",type:"button",onClick:dr},GlobalConfig.i18n("vxe.button.confirm"))]),Vue.h("div",{ref:U,class:"vxe-input--time-picker-body"},[Vue.h("ul",{class:"vxe-input--time-picker-hour-list"},re.map(function(f,p){return Vue.h("li",{key:p,class:{"is--selected":C&&C.getHours()===f.value},onClick:function(m){return Qt(m,f)}},f.label)})),Vue.h("ul",{class:"vxe-input--time-picker-minute-list"},Ee.map(function(f,p){return Vue.h("li",{key:p,class:{"is--selected":C&&C.getMinutes()===f.value},onClick:function(m){return er(m,f)}},f.label)})),Vue.h("ul",{class:"vxe-input--time-picker-second-list"},u.map(function(f,p){return Vue.h("li",{key:p,class:{"is--selected":C&&C.getSeconds()===f.value},onClick:function(m){return hr(m,f)}},f.label)}))])]},na=function(){var C,z=e.type,re=e.transfer,Ee=o.inited,u=o.animatVisible,f=o.visiblePanel,p=o.panelPlacement,m=o.panelStyle,b=g.value,y=N.value,$=[];return y?(z==="datetime"?$.push(Vue.h("div",{class:"vxe-input--panel-layout-wrapper"},[Vue.h("div",{class:"vxe-input--panel-left-wrapper"},Wr()),Vue.h("div",{class:"vxe-input--panel-right-wrapper"},jr())])):z==="time"?$.push(Vue.h("div",{class:"vxe-input--panel-wrapper"},jr())):$.push(Vue.h("div",{class:"vxe-input--panel-wrapper"},Wr())),Vue.h(Vue.Teleport,{to:"body",disabled:re?!Ee:!0},[Vue.h("div",{ref:T,class:["vxe-table--ignore-clear vxe-input--panel","type--".concat(z),(C={},C["size--".concat(b)]=b,C["is--transfer"]=re,C["animat--leave"]=u,C["animat--enter"]=f,C)],placement:p,style:m},$)])):null},Nr=function(){var C=be.value,z=de.value;return Vue.h("span",{class:"vxe-input--number-suffix"},[Vue.h("span",{class:["vxe-input--number-prev is--prev",{"is--disabled":C}],onMousedown:Wt,onMouseup:mt,onMouseleave:mt},[Vue.h("i",{class:["vxe-input--number-prev-icon",GlobalConfig.icon.INPUT_PREV_NUM]})]),Vue.h("span",{class:["vxe-input--number-next is--next",{"is--disabled":z}],onMousedown:Wt,onMouseup:mt,onMouseleave:mt},[Vue.h("i",{class:["vxe-input--number-next-icon",GlobalConfig.icon.INPUT_NEXT_NUM]})])])},Fr=function(){return Vue.h("span",{class:"vxe-input--date-picker-suffix",onClick:Gt},[Vue.h("i",{class:["vxe-input--date-picker-icon",GlobalConfig.icon.INPUT_DATE]})])},qr=function(){return Vue.h("span",{class:"vxe-input--search-suffix",onClick:Dt},[Vue.h("i",{class:["vxe-input--search-icon",GlobalConfig.icon.INPUT_SEARCH]})])},ia=function(){var C=o.showPwd;return Vue.h("span",{class:"vxe-input--password-suffix",onClick:St},[Vue.h("i",{class:["vxe-input--password-icon",C?GlobalConfig.icon.INPUT_SHOW_PWD:GlobalConfig.icon.INPUT_PWD]})])},Ur=function(){var C=e.prefixIcon,z=a.prefix,re=[];return z?re.push(Vue.h("span",{class:"vxe-input--prefix-icon"},z({}))):C&&re.push(Vue.h("i",{class:["vxe-input--prefix-icon",C]})),re.length?Vue.h("span",{class:"vxe-input--prefix",onClick:qe},re):null},Pr=function(){var C=e.disabled,z=e.suffixIcon,re=o.inputValue,Ee=a.suffix,u=P.value,f=[];return Ee?f.push(Vue.h("span",{class:"vxe-input--suffix-icon"},Ee({}))):z&&f.push(Vue.h("i",{class:["vxe-input--suffix-icon",z]})),u&&f.push(Vue.h("i",{class:["vxe-input--clear-icon",GlobalConfig.icon.INPUT_CLEAR]})),f.length?Vue.h("span",{class:["vxe-input--suffix",{"is--clear":u&&!C&&!(re===""||XEUtils$1.eqNull(re))}],onClick:S},f):null},Ar=function(){var C=e.controls,z=E.value,re=N.value,Ee=X.value,u=H.value,f;return Ee?f=ia():z?C&&(f=Nr()):re?f=Fr():u&&(f=qr()),f?Vue.h("span",{class:"vxe-input--extra-suffix"},[f]):null};L={dispatchEvent:function(C,z,re){n(C,Object.assign({$input:M,$event:re},z))},focus:function(){var C=h.value;return o.isActivated=!0,C.focus(),Vue.nextTick()},blur:function(){var C=h.value;return C.blur(),o.isActivated=!1,Vue.nextTick()},select:function(){var C=h.value;return C.select(),o.isActivated=!1,Vue.nextTick()},showPanel:jt,hidePanel:je,updatePlacement:vr},Object.assign(M,L),Vue.watch(function(){return e.modelValue},function(C){o.inputValue=C,dt()}),Vue.watch(function(){return e.type},function(){Object.assign(o,{inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),st()}),Vue.watch(Be,function(){var C=N.value;C&&(nt(o.datePanelValue),o.inputValue=e.multiple?oe.value:o.datePanelLabel)}),Vue.nextTick(function(){GlobalEvent.on(M,"mousewheel",cr),GlobalEvent.on(M,"mousedown",Sr),GlobalEvent.on(M,"keydown",mr),GlobalEvent.on(M,"blur",Ot)}),Vue.onUnmounted(function(){mt(),GlobalEvent.off(M,"mousewheel"),GlobalEvent.off(M,"mousedown"),GlobalEvent.off(M,"keydown"),GlobalEvent.off(M,"blur")}),st();var Lr=function(){var C,z=e.className,re=e.controls,Ee=e.type,u=e.align,f=e.showWordCount,p=e.countMethod,m=e.name,b=e.disabled,y=e.readonly,$=e.autocomplete,k=o.inputValue,I=o.visiblePanel,G=o.isActivated,Z=g.value,le=D.value,Te=V.value,ke=N.value,fe=ce.value,Ue=Pe.value,Fe=we.value,se=Le.value,Ne=[],Je=Ur(),He=Pr();Je&&Ne.push(Je),Ne.push(Vue.h("input",{ref:h,class:"vxe-input--inner",value:k,name:m,type:Fe,placeholder:se,maxlength:Ue,readonly:fe,disabled:b,autocomplete:$,onKeydown:Mt,onKeyup:Yt,onWheel:Kt,onClick:Mr,onInput:Ce,onChange:Me,onFocus:ze,onBlur:Et})),He&&Ne.push(He),Ne.push(Ar()),ke&&Ne.push(na());var Ze=!1;return f&&["text","search"].includes(Ee)&&(Ze=!0,Ne.push(Vue.h("span",{class:["vxe-input--count",{"is--error":le}]},p?"".concat(p({value:k})):"".concat(Te).concat(Ue?"/".concat(Ue):"")))),Vue.h("div",{ref:d,class:["vxe-input","type--".concat(Ee),z,(C={},C["size--".concat(Z)]=Z,C["is--".concat(u)]=u,C["is--controls"]=re,C["is--prefix"]=!!Je,C["is--suffix"]=!!He,C["is--readonly"]=y,C["is--visivle"]=I,C["is--count"]=Ze,C["is--disabled"]=b,C["is--active"]=G,C)]},Ne)};return M.renderVN=Lr,M},render:function(){return this.renderVN()}}),VxeCheckboxComponent=Vue.defineComponent({name:"VxeCheckbox",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number],default:null},indeterminate:Boolean,title:[String,Number],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},content:[String,Number],disabled:Boolean,size:{type:String,default:function(){return GlobalConfig.checkbox.size||GlobalConfig.size}}},emits:["update:modelValue","change"],setup:function(e,r){var a=r.slots,n=r.emit,l=Vue.inject("$xeform",null),c=Vue.inject("$xeformiteminfo",null),s=XEUtils$1.uniqueId(),g={xID:s,props:e,context:r},o={},d=useSize(e),h=Vue.inject("$xecheckboxgroup",null),T=Vue.computed(function(){return h?XEUtils$1.includes(h.props.modelValue,e.label):e.modelValue===e.checkedValue}),U=Vue.computed(function(){if(e.disabled)return!0;if(h){var L=h.props,O=h.getComputeMaps().computeIsMaximize,R=O.value,E=T.value;return L.disabled||R&&!E}return!1}),A=function(L){var O=e.checkedValue,R=e.uncheckedValue,E=U.value;if(!E){var V=L.target.checked,D=V?O:R,N={checked:V,value:D,label:e.label};h?h.handleChecked(N,L):(n("update:modelValue",D),o.dispatchEvent("change",N,L),l&&c&&l.triggerItemEvent(L,c.itemConfig.field,D))}};o={dispatchEvent:function(L,O,R){n(L,Object.assign({$checkbox:g,$event:R},O))}},Object.assign(g,o);var M=function(){var L,O=d.value,R=U.value,E=T.value,V=e.indeterminate;return Vue.h("label",{class:["vxe-checkbox",(L={},L["size--".concat(O)]=O,L["is--indeterminate"]=V,L["is--disabled"]=R,L["is--checked"]=E,L)],title:e.title},[Vue.h("input",{class:"vxe-checkbox--input",type:"checkbox",disabled:R,checked:E,onChange:A}),Vue.h("span",{class:["vxe-checkbox--icon",V?"vxe-icon-checkbox-indeterminate":E?"vxe-icon-checkbox-checked":"vxe-icon-checkbox-unchecked"]}),Vue.h("span",{class:"vxe-checkbox--label"},a.default?a.default({}):getFuncText(e.content))])};return g.renderVN=M,g},render:function(){return this.renderVN()}});function isOptionVisible(e){return e.visible!==!1}function getOptUniqueId(){return XEUtils$1.uniqueId("opt_")}const VxeSelectComponent=Vue.defineComponent({name:"VxeSelect",props:{modelValue:null,clearable:Boolean,placeholder:{type:String,default:function(){return XEUtils$1.eqNull(GlobalConfig.select.placeholder)?GlobalConfig.i18n("vxe.base.pleaseSelect"):GlobalConfig.select.placeholder}},loading:Boolean,disabled:Boolean,multiple:Boolean,multiCharOverflow:{type:[Number,String],default:function(){return GlobalConfig.select.multiCharOverflow}},prefixIcon:String,placement:String,options:Array,optionProps:Object,optionGroups:Array,optionGroupProps:Object,optionConfig:Object,className:[String,Function],popupClassName:[String,Function],max:{type:[String,Number],default:null},size:{type:String,default:function(){return GlobalConfig.select.size||GlobalConfig.size}},filterable:Boolean,filterMethod:Function,remote:Boolean,remoteMethod:Function,emptyText:String,optionId:{type:String,default:function(){return GlobalConfig.select.optionId}},optionKey:Boolean,transfer:{type:Boolean,default:function(){return GlobalConfig.select.transfer}}},emits:["update:modelValue","change","clear","blur","focus"],setup:function(e,r){var a=r.slots,n=r.emit,l=Vue.inject("$xeform",null),c=Vue.inject("$xeformiteminfo",null),s=XEUtils$1.uniqueId(),g=useSize(e),o=Vue.reactive({inited:!1,staticOptions:[],fullGroupList:[],fullOptionList:[],visibleGroupList:[],visibleOptionList:[],remoteValueList:[],panelIndex:0,panelStyle:{},panelPlacement:null,currentOption:null,currentValue:null,visiblePanel:!1,animatVisible:!1,isActivated:!1,searchValue:"",searchLoading:!1}),d=Vue.ref(),h=Vue.ref(),T=Vue.ref(),U=Vue.ref(),A=Vue.ref(),M={refElem:d},L={xID:s,props:e,context:r,reactData:o,getRefMaps:function(){return M}},O={},R=Vue.computed(function(){return e.optionProps||{}}),E=Vue.computed(function(){return e.optionGroupProps||{}}),V=Vue.computed(function(){var _=R.value;return _.label||"label"}),D=Vue.computed(function(){var _=R.value;return _.value||"value"}),N=Vue.computed(function(){var _=E.value;return _.label||"label"}),X=Vue.computed(function(){var _=E.value;return _.options||"options"}),H=Vue.computed(function(){var _=e.modelValue,Y=e.multiple,ee=e.max;return Y&&ee?(_?_.length:0)>=XEUtils$1.toNumber(ee):!1}),x=Vue.computed(function(){return Object.assign({},GlobalConfig.select.optionConfig,e.optionConfig)}),w=Vue.computed(function(){return o.fullGroupList.some(function(_){return _.options&&_.options.length})}),P=Vue.computed(function(){return XEUtils$1.toNumber(e.multiCharOverflow)}),B=function(_,Y){return _&&(XEUtils$1.isString(_)&&(_=a[_]||null),XEUtils$1.isFunction(_))?getSlotVNs(_(Y)):[]},ae=function(_){var Y=o.fullOptionList,ee=o.fullGroupList,xe=w.value,Ce=D.value;if(xe)for(var Me=0;Me<ee.length;Me++){var ze=ee[Me];if(ze.options)for(var qe=0;qe<ze.options.length;qe++){var Ae=ze.options[qe];if(_===Ae[Ce])return Ae}}return Y.find(function(je){return _===je[Ce]})},J=function(_){var Y=o.remoteValueList,ee=V.value,xe=Y.find(function(Me){return _===Me.key}),Ce=xe?xe.result:null;return XEUtils$1.toValueString(Ce?Ce[ee]:_)},F=function(_){var Y=V.value,ee=ae(_);return XEUtils$1.toValueString(ee?ee[Y]:_)},W=Vue.computed(function(){var _=e.modelValue,Y=e.multiple,ee=e.remote,xe=P.value;if(_&&Y){var Ce=XEUtils$1.isArray(_)?_:[_];return ee?Ce.map(function(Me){return J(Me)}).join(", "):Ce.map(function(Me){var ze=F(Me);return xe>0&&ze.length>xe?"".concat(ze.substring(0,xe),"..."):ze}).join(", ")}return ee?J(_):F(_)}),oe=function(){var _=x.value;return _.keyField||e.optionId||"_X_OPTION_KEY"},he=function(_){var Y=_[oe()];return Y?encodeURIComponent(Y):""},me=function(){var _=e.filterable,Y=e.filterMethod,ee=o.fullOptionList,xe=o.fullGroupList,Ce=o.searchValue,Me=w.value,ze=N.value,qe=V.value;return Me?_&&Y?o.visibleGroupList=xe.filter(function(Ae){return isOptionVisible(Ae)&&Y({group:Ae,option:null,searchValue:Ce})}):_?o.visibleGroupList=xe.filter(function(Ae){return isOptionVisible(Ae)&&(!Ce||"".concat(Ae[ze]).indexOf(Ce)>-1)}):o.visibleGroupList=xe.filter(isOptionVisible):_&&Y?o.visibleOptionList=ee.filter(function(Ae){return isOptionVisible(Ae)&&Y({group:null,option:Ae,searchValue:Ce})}):_?o.visibleOptionList=ee.filter(function(Ae){return isOptionVisible(Ae)&&(!Ce||"".concat(Ae[qe]).indexOf(Ce)>-1)}):o.visibleOptionList=ee.filter(isOptionVisible),Vue.nextTick()},Re=function(){var _=o.fullOptionList,Y=o.fullGroupList,ee=X.value,xe=oe(),Ce=function(Me){he(Me)||(Me[xe]=getOptUniqueId())};Y.length?Y.forEach(function(Me){Ce(Me),Me[ee]&&Me[ee].forEach(Ce)}):_.length&&_.forEach(Ce),me()},Oe=function(_){var Y=D.value;_&&(o.currentOption=_,o.currentValue=_[Y])},Se=function(_,Y){return Vue.nextTick().then(function(){if(_){var ee=U.value,xe=A.value,Ce=xe.querySelector("[optid='".concat(he(_),"']"));if(ee&&Ce){var Me=ee.offsetHeight,ze=5;Y?Ce.offsetTop+Ce.offsetHeight-ee.scrollTop>Me&&(ee.scrollTop=Ce.offsetTop+Ce.offsetHeight-Me):(Ce.offsetTop+ze<ee.scrollTop||Ce.offsetTop+ze>ee.scrollTop+ee.clientHeight)&&(ee.scrollTop=Ce.offsetTop-ze)}}})},ge=function(){o.panelIndex<getLastZIndex()&&(o.panelIndex=nextZIndex())},Be=function(){return Vue.nextTick().then(function(){var _=e.transfer,Y=e.placement,ee=o.panelIndex,xe=d.value,Ce=A.value;if(Ce&&xe){var Me=xe.offsetHeight,ze=xe.offsetWidth,qe=Ce.offsetHeight,Ae=Ce.offsetWidth,je=5,Ye={zIndex:ee},S=getAbsolutePos(xe),nt=S.boundingTop,dt=S.boundingLeft,st=S.visibleHeight,et=S.visibleWidth,tt="bottom";if(_){var ft=dt,Ke=nt+Me;Y==="top"?(tt="top",Ke=nt-qe):Y||(Ke+qe+je>st&&(tt="top",Ke=nt-qe),Ke<je&&(tt="bottom",Ke=nt+Me)),ft+Ae+je>et&&(ft-=ft+Ae+je-et),ft<je&&(ft=je),Object.assign(Ye,{left:"".concat(ft,"px"),top:"".concat(Ke,"px"),minWidth:"".concat(ze,"px")})}else Y==="top"?(tt="top",Ye.bottom="".concat(Me,"px")):Y||nt+Me+qe>st&&nt-Me-qe>je&&(tt="top",Ye.bottom="".concat(Me,"px"));return o.panelStyle=Ye,o.panelPlacement=tt,Vue.nextTick()}})},pe,De=function(){var _=e.loading,Y=e.disabled,ee=e.filterable;!_&&!Y&&(clearTimeout(pe),o.inited||(o.inited=!0),o.isActivated=!0,o.animatVisible=!0,ee&&me(),setTimeout(function(){var xe=e.modelValue,Ce=e.multiple,Me=ae(Ce&&xe?xe[0]:xe);o.visiblePanel=!0,Me&&(Oe(Me),Se(Me)),Ge()},10),ge(),Be())},_e=function(){o.searchValue="",o.searchLoading=!1,o.visiblePanel=!1,pe=window.setTimeout(function(){o.animatVisible=!1},350)},$e=function(_,Y){Y!==e.modelValue&&(n("update:modelValue",Y),O.dispatchEvent("change",{value:Y},_),l&&c&&l.triggerItemEvent(_,c.itemConfig.field,Y))},te=function(_,Y){o.remoteValueList=[],$e(_,Y),O.dispatchEvent("clear",{value:Y},_)},ve=function(_,Y){te(Y,null),_e()},Ve=function(_,Y,ee){var xe=e.modelValue,Ce=e.multiple,Me=o.remoteValueList;if(Ce){var ze=void 0;xe?xe.indexOf(Y)===-1?ze=xe.concat([Y]):ze=xe.filter(function(Ae){return Ae!==Y}):ze=[Y];var qe=Me.find(function(Ae){return Ae.key===Y});qe?qe.result=ee:Me.push({key:Y,result:ee}),$e(_,ze)}else o.remoteValueList=[{key:Y,result:ee}],$e(_,Y),_e()},Xe=function(_){var Y=e.disabled,ee=o.visiblePanel;if(!Y&&ee){var xe=A.value;getEventTargetNode(_,xe).flag?Be():_e()}},ye=function(_){var Y=e.disabled,ee=o.visiblePanel;if(!Y){var xe=d.value,Ce=A.value;o.isActivated=getEventTargetNode(_,xe).flag||getEventTargetNode(_,Ce).flag,ee&&!o.isActivated&&_e()}},ne=function(_,Y){var ee=o.visibleOptionList,xe=o.visibleGroupList,Ce=w.value,Me=D.value,ze=X.value,qe,Ae,je,Ye;if(Ce)for(var S=0;S<xe.length;S++){var nt=xe[S],dt=nt[ze],st=nt.disabled;if(dt)for(var et=0;et<dt.length;et++){var tt=dt[et],ft=isOptionVisible(tt),Ke=st||tt.disabled;if(!qe&&!Ke&&(qe=tt),Ye&&ft&&!Ke&&(je=tt,!Y))return{offsetOption:je};if(_===tt[Me]){if(Ye=tt,Y)return{offsetOption:Ae}}else ft&&!Ke&&(Ae=tt)}}else for(var et=0;et<ee.length;et++){var tt=ee[et],Ke=tt.disabled;if(!qe&&!Ke&&(qe=tt),Ye&&!Ke&&(je=tt,!Y))return{offsetOption:je};if(_===tt[Me]){if(Ye=tt,Y)return{offsetOption:Ae}}else Ke||(Ae=tt)}return{firstOption:qe}},ie=function(_){var Y=e.clearable,ee=e.disabled,xe=o.visiblePanel,Ce=o.currentValue,Me=o.currentOption;if(!ee){var ze=hasEventKey(_,EVENT_KEYS.TAB),qe=hasEventKey(_,EVENT_KEYS.ENTER),Ae=hasEventKey(_,EVENT_KEYS.ESCAPE),je=hasEventKey(_,EVENT_KEYS.ARROW_UP),Ye=hasEventKey(_,EVENT_KEYS.ARROW_DOWN),S=hasEventKey(_,EVENT_KEYS.DELETE),nt=hasEventKey(_,EVENT_KEYS.SPACEBAR);if(ze&&(o.isActivated=!1),xe)if(Ae||ze)_e();else if(qe)_.preventDefault(),_.stopPropagation(),Ve(_,Ce,Me);else if(je||Ye){_.preventDefault();var dt=ne(Ce,je),st=dt.firstOption,et=dt.offsetOption;!et&&!ae(Ce)&&(et=st),Oe(et),Se(et,Ye)}else nt&&_.preventDefault();else(je||Ye||qe||nt)&&o.isActivated&&(_.preventDefault(),De());o.isActivated&&S&&Y&&te(_,null)}},Ie=function(){_e()},Ge=function(){e.filterable&&Vue.nextTick(function(){var _=T.value;_&&_.focus()})},We=function(_){e.disabled||(o.isActivated=!0),O.dispatchEvent("focus",{},_)},j=function(_){o.isActivated=!1,O.dispatchEvent("blur",{},_)},K=function(_){o.searchValue=_},ue=function(){o.isActivated=!0},ce=function(_){var Y=_.$event,ee=hasEventKey(Y,EVENT_KEYS.ENTER);ee&&(Y.preventDefault(),Y.stopPropagation())},we=XEUtils$1.debounce(function(){var _=e.remote,Y=e.remoteMethod,ee=o.searchValue;_&&Y?(o.searchLoading=!0,Promise.resolve(Y({searchValue:ee})).then(function(){return Vue.nextTick()}).catch(function(){return Vue.nextTick()}).finally(function(){o.searchLoading=!1,me()})):me()},350,{trailing:!0}),Le=function(_){var Y=_.$event;Y.preventDefault(),o.visiblePanel?_e():De()},Pe=function(_,Y,ee){if(Y.disabled||ee&&ee.disabled)return!0;var xe=H.value;return!!(xe&&!_)},q=function(_,Y){var ee=e.optionKey,xe=e.modelValue,Ce=e.multiple,Me=o.currentValue,ze=x.value,qe=V.value,Ae=D.value,je=w.value,Ye=ze.useKey;return _.map(function(S,nt){var dt=S.slots,st=S.className,et=S[Ae],tt=Ce?xe&&xe.indexOf(et)>-1:xe===et,ft=!je||isOptionVisible(S),Ke=Pe(tt,S,Y),ot=he(S),ut=dt?dt.default:null;return ft?Vue.h("div",{key:Ye||ee?ot:nt,class:["vxe-select-option",st?XEUtils$1.isFunction(st)?st({option:S,$select:L}):st:"",{"is--disabled":Ke,"is--selected":tt,"is--hover":Me===et}],optid:ot,onMousedown:function(Et){var St=Et.button===0;St&&Et.stopPropagation()},onClick:function(Et){Ke||Ve(Et,et,S)},onMouseenter:function(){Ke||Oe(S)}},ut?B(ut,{option:S,$select:L}):formatText(getFuncText(S[qe]))):null})},Q=function(){var _=e.optionKey,Y=o.visibleGroupList,ee=x.value,xe=N.value,Ce=X.value,Me=ee.useKey;return Y.map(function(ze,qe){var Ae=ze.slots,je=ze.className,Ye=he(ze),S=ze.disabled,nt=Ae?Ae.default:null;return Vue.h("div",{key:Me||_?Ye:qe,class:["vxe-optgroup",je?XEUtils$1.isFunction(je)?je({option:ze,$select:L}):je:"",{"is--disabled":S}],optid:Ye},[Vue.h("div",{class:"vxe-optgroup--title"},nt?B(nt,{option:ze,$select:L}):getFuncText(ze[xe])),Vue.h("div",{class:"vxe-optgroup--wrapper"},q(ze[Ce]||[],ze))])})},de=function(){var _=o.visibleGroupList,Y=o.visibleOptionList,ee=o.searchLoading,xe=w.value;if(ee)return[Vue.h("div",{class:"vxe-select--search-loading"},[Vue.h("i",{class:["vxe-select--search-icon",GlobalConfig.icon.SELECT_LOADED]}),Vue.h("span",{class:"vxe-select--search-text"},GlobalConfig.i18n("vxe.select.loadingText"))])];if(xe){if(_.length)return Q()}else if(Y.length)return q(Y);return[Vue.h("div",{class:"vxe-select--empty-placeholder"},e.emptyText||GlobalConfig.i18n("vxe.select.emptyText"))]};O={dispatchEvent:function(_,Y,ee){n(_,Object.assign({$select:L,$event:ee},Y))},isPanelVisible:function(){return o.visiblePanel},togglePanel:function(){return o.visiblePanel?_e():De(),Vue.nextTick()},hidePanel:function(){return o.visiblePanel&&_e(),Vue.nextTick()},showPanel:function(){return o.visiblePanel||De(),Vue.nextTick()},refreshOption:me,focus:function(){var _=h.value;return o.isActivated=!0,_.blur(),Vue.nextTick()},blur:function(){var _=h.value;return _.blur(),o.isActivated=!1,Vue.nextTick()}},Object.assign(L,O),Vue.watch(function(){return o.staticOptions},function(_){_.some(function(Y){return Y.options&&Y.options.length})?(o.fullOptionList=[],o.fullGroupList=_):(o.fullGroupList=[],o.fullOptionList=_||[]),Re()}),Vue.watch(function(){return e.options},function(_){o.fullGroupList=[],o.fullOptionList=_||[],Re()}),Vue.watch(function(){return e.optionGroups},function(_){o.fullOptionList=[],o.fullGroupList=_||[],Re()}),Vue.onMounted(function(){Vue.nextTick(function(){var _=e.options,Y=e.optionGroups;Y?o.fullGroupList=Y:_&&(o.fullOptionList=_),Re()}),GlobalEvent.on(L,"mousewheel",Xe),GlobalEvent.on(L,"mousedown",ye),GlobalEvent.on(L,"keydown",ie),GlobalEvent.on(L,"blur",Ie)}),Vue.onUnmounted(function(){GlobalEvent.off(L,"mousewheel"),GlobalEvent.off(L,"mousedown"),GlobalEvent.off(L,"keydown"),GlobalEvent.off(L,"blur")});var be=function(){var _,Y,ee=e.className,xe=e.popupClassName,Ce=e.transfer,Me=e.disabled,ze=e.loading,qe=e.filterable,Ae=o.inited,je=o.isActivated,Ye=o.visiblePanel,S=g.value,nt=W.value,dt=a.prefix;return Vue.h("div",{ref:d,class:["vxe-select",ee?XEUtils$1.isFunction(ee)?ee({$select:L}):ee:"",(_={},_["size--".concat(S)]=S,_["is--visivle"]=Ye,_["is--disabled"]=Me,_["is--filter"]=qe,_["is--loading"]=ze,_["is--active"]=je,_)]},[Vue.h("div",{class:"vxe-select-slots",ref:"hideOption"},a.default?a.default({}):[]),Vue.h(VxeInputConstructor,{ref:h,clearable:e.clearable,placeholder:e.placeholder,readonly:!0,disabled:Me,type:"text",prefixIcon:e.prefixIcon,suffixIcon:ze?GlobalConfig.icon.SELECT_LOADED:Ye?GlobalConfig.icon.SELECT_OPEN:GlobalConfig.icon.SELECT_CLOSE,modelValue:nt,onClear:ve,onClick:Le,onFocus:We,onBlur:j,onSuffixClick:Le},dt?{prefix:function(){return dt({})}}:{}),Vue.h(Vue.Teleport,{to:"body",disabled:Ce?!Ae:!0},[Vue.h("div",{ref:A,class:["vxe-table--ignore-clear vxe-select--panel",xe?XEUtils$1.isFunction(xe)?xe({$select:L}):xe:"",(Y={},Y["size--".concat(S)]=S,Y["is--transfer"]=Ce,Y["animat--leave"]=!ze&&o.animatVisible,Y["animat--enter"]=!ze&&Ye,Y)],placement:o.panelPlacement,style:o.panelStyle},Ae?[qe?Vue.h("div",{class:"vxe-select-filter--wrapper"},[Vue.h(VxeInputConstructor,{ref:T,class:"vxe-select-filter--input",modelValue:o.searchValue,clearable:!0,placeholder:GlobalConfig.i18n("vxe.select.search"),prefixIcon:GlobalConfig.icon.INPUT_SEARCH,"onUpdate:modelValue":K,onFocus:ue,onKeydown:ce,onChange:we,onSearch:we})]):Vue.createCommentVNode(),Vue.h("div",{ref:U,class:"vxe-select-option--wrapper"},de())]:[])])])};return L.renderVN=be,Vue.provide("$xeselect",L),L},render:function(){return this.renderVN()}}),ExportPanelComponent=Vue.defineComponent({name:"VxeExportPanel",props:{defaultOptions:Object,storeData:Object},setup:function(e){var r=Vue.inject("$xetable",{}),a=r.getComputeMaps(),n=a.computeExportOpts,l=a.computePrintOpts,c=Vue.reactive({isAll:!1,isIndeterminate:!1,loading:!1}),s=Vue.ref(),g=Vue.ref(),o=Vue.ref(),d=Vue.computed(function(){var x=e.storeData;return x.columns.every(function(w){return w.checked})}),h=Vue.computed(function(){var x=e.defaultOptions;return["html","xml","xlsx","pdf"].indexOf(x.type)>-1}),T=Vue.computed(function(){var x=e.storeData,w=e.defaultOptions;return!w.original&&w.mode==="current"&&(x.isPrint||["html","xlsx"].indexOf(w.type)>-1)}),U=Vue.computed(function(){var x=e.defaultOptions;return!x.original&&["xlsx"].indexOf(x.type)>-1}),A=function(x){var w=e.storeData,P=XEUtils$1.findTree(w.columns,function(ae){return ae===x});if(P&&P.parent){var B=P.parent;B.children&&B.children.length&&(B.checked=B.children.every(function(ae){return ae.checked}),B.halfChecked=!B.checked&&B.children.some(function(ae){return ae.checked||ae.halfChecked}),A(B))}},M=function(){var x=e.storeData,w=x.columns;c.isAll=w.every(function(P){return P.disabled||P.checked}),c.isIndeterminate=!c.isAll&&w.some(function(P){return!P.disabled&&(P.checked||P.halfChecked)})},L=function(x){var w=!x.checked;XEUtils$1.eachTree([x],function(P){P.checked=w,P.halfChecked=!1}),A(x),M()},O=function(){var x=e.storeData,w=!c.isAll;XEUtils$1.eachTree(x.columns,function(P){P.disabled||(P.checked=w,P.halfChecked=!1)}),c.isAll=w,M()},R=function(){Vue.nextTick(function(){var x=g.value,w=o.value,P=s.value,B=x||w||P;B&&B.focus()}),M()},E=function(){var x=e.storeData,w=e.defaultOptions,P=x.hasMerge,B=x.columns,ae=d.value,J=T.value,F=XEUtils$1.searchTree(B,function(W){return W.checked},{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},w,{columns:F,isMerge:P&&J&&ae?w.isMerge:!1})},V=function(){var x=e.storeData,w=l.value;x.visible=!1,r.print(Object.assign({},w,E()))},D=function(){var x=e.storeData,w=n.value;c.loading=!0,r.exportData(Object.assign({},w,E())).then(function(){c.loading=!1,x.visible=!1}).catch(function(){c.loading=!1})},N=function(){var x=e.storeData;x.visible=!1},X=function(){var x=e.storeData;x.isPrint?V():D()},H=function(){var x=e.defaultOptions,w=e.storeData,P=c.isAll,B=c.isIndeterminate,ae=w.hasTree,J=w.hasMerge,F=w.isPrint,W=w.hasColgroup,oe=x.isHeader,he=[],me=d.value,Re=h.value,Oe=T.value,Se=U.value;return XEUtils$1.eachTree(w.columns,function(ge){var Be=formatText(ge.getTitle(),1),pe=ge.children&&ge.children.length,De=ge.checked,_e=ge.halfChecked;he.push(Vue.h("li",{class:["vxe-export--panel-column-option","level--".concat(ge.level),{"is--group":pe,"is--checked":De,"is--indeterminate":_e,"is--disabled":ge.disabled}],title:Be,onClick:function(){ge.disabled||L(ge)}},[Vue.h("span",{class:["vxe-checkbox--icon",_e?GlobalConfig.icon.TABLE_CHECKBOX_INDETERMINATE:De?GlobalConfig.icon.TABLE_CHECKBOX_CHECKED:GlobalConfig.icon.TABLE_CHECKBOX_UNCHECKED]}),Vue.h("span",{class:"vxe-checkbox--label"},Be)]))}),Vue.h(VxeModalComponent,{modelValue:w.visible,title:GlobalConfig.i18n(F?"vxe.export.printTitle":"vxe.export.expTitle"),width:660,mask:!0,lockView:!0,showFooter:!1,escClosable:!0,maskClosable:!0,loading:c.loading,"onUpdate:modelValue":function(ge){w.visible=ge},onShow:R},{default:function(){return Vue.h("div",{class:"vxe-export--panel"},[Vue.h("table",{cellspacing:0,cellpadding:0,border:0},[Vue.h("tbody",[[F?Vue.createCommentVNode():Vue.h("tr",[Vue.h("td",GlobalConfig.i18n("vxe.export.expName")),Vue.h("td",[Vue.h(VxeInputConstructor,{ref:g,modelValue:x.filename,type:"text",clearable:!0,placeholder:GlobalConfig.i18n("vxe.export.expNamePlaceholder"),"onUpdate:modelValue":function(ge){x.filename=ge}})])]),F?Vue.createCommentVNode():Vue.h("tr",[Vue.h("td",GlobalConfig.i18n("vxe.export.expType")),Vue.h("td",[Vue.h(VxeSelectComponent,{modelValue:x.type,options:w.typeList.map(function(ge){return{value:ge.value,label:GlobalConfig.i18n(ge.label)}}),"onUpdate:modelValue":function(ge){x.type=ge}})])]),F||Re?Vue.h("tr",[Vue.h("td",GlobalConfig.i18n("vxe.export.expSheetName")),Vue.h("td",[Vue.h(VxeInputConstructor,{ref:o,modelValue:x.sheetName,type:"text",clearable:!0,placeholder:GlobalConfig.i18n("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue":function(ge){x.sheetName=ge}})])]):Vue.createCommentVNode(),Vue.h("tr",[Vue.h("td",GlobalConfig.i18n("vxe.export.expMode")),Vue.h("td",[Vue.h(VxeSelectComponent,{modelValue:x.mode,options:w.modeList.map(function(ge){return{value:ge.value,label:GlobalConfig.i18n(ge.label)}}),"onUpdate:modelValue":function(ge){x.mode=ge}})])]),Vue.h("tr",[Vue.h("td",[GlobalConfig.i18n("vxe.export.expColumn")]),Vue.h("td",[Vue.h("div",{class:"vxe-export--panel-column"},[Vue.h("ul",{class:"vxe-export--panel-column-header"},[Vue.h("li",{class:["vxe-export--panel-column-option",{"is--checked":P,"is--indeterminate":B}],title:GlobalConfig.i18n("vxe.table.allTitle"),onClick:O},[Vue.h("span",{class:["vxe-checkbox--icon",B?GlobalConfig.icon.TABLE_CHECKBOX_INDETERMINATE:P?GlobalConfig.icon.TABLE_CHECKBOX_CHECKED:GlobalConfig.icon.TABLE_CHECKBOX_UNCHECKED]}),Vue.h("span",{class:"vxe-checkbox--label"},GlobalConfig.i18n("vxe.export.expCurrentColumn"))])]),Vue.h("ul",{class:"vxe-export--panel-column-body"},he)])])]),Vue.h("tr",[Vue.h("td",GlobalConfig.i18n("vxe.export.expOpts")),Vue.h("td",[Vue.h("div",{class:"vxe-export--panel-option-row"},[Vue.h(VxeCheckboxComponent,{modelValue:x.isHeader,title:GlobalConfig.i18n("vxe.export.expHeaderTitle"),content:GlobalConfig.i18n("vxe.export.expOptHeader"),"onUpdate:modelValue":function(ge){x.isHeader=ge}}),Vue.h(VxeCheckboxComponent,{modelValue:x.isFooter,disabled:!w.hasFooter,title:GlobalConfig.i18n("vxe.export.expFooterTitle"),content:GlobalConfig.i18n("vxe.export.expOptFooter"),"onUpdate:modelValue":function(ge){x.isFooter=ge}}),Vue.h(VxeCheckboxComponent,{modelValue:x.original,title:GlobalConfig.i18n("vxe.export.expOriginalTitle"),content:GlobalConfig.i18n("vxe.export.expOptOriginal"),"onUpdate:modelValue":function(ge){x.original=ge}})]),Vue.h("div",{class:"vxe-export--panel-option-row"},[Vue.h(VxeCheckboxComponent,{modelValue:oe&&W&&Oe?x.isColgroup:!1,title:GlobalConfig.i18n("vxe.export.expColgroupTitle"),disabled:!oe||!W||!Oe,content:GlobalConfig.i18n("vxe.export.expOptColgroup"),"onUpdate:modelValue":function(ge){x.isColgroup=ge}}),Vue.h(VxeCheckboxComponent,{modelValue:J&&Oe&&me?x.isMerge:!1,title:GlobalConfig.i18n("vxe.export.expMergeTitle"),disabled:!J||!Oe||!me,content:GlobalConfig.i18n("vxe.export.expOptMerge"),"onUpdate:modelValue":function(ge){x.isMerge=ge}}),F?Vue.createCommentVNode():Vue.h(VxeCheckboxComponent,{modelValue:Se?x.useStyle:!1,disabled:!Se,title:GlobalConfig.i18n("vxe.export.expUseStyleTitle"),content:GlobalConfig.i18n("vxe.export.expOptUseStyle"),"onUpdate:modelValue":function(ge){x.useStyle=ge}}),Vue.h(VxeCheckboxComponent,{modelValue:ae?x.isAllExpand:!1,disabled:!ae,title:GlobalConfig.i18n("vxe.export.expAllExpandTitle"),content:GlobalConfig.i18n("vxe.export.expOptAllExpand"),"onUpdate:modelValue":function(ge){x.isAllExpand=ge}})])])])]])]),Vue.h("div",{class:"vxe-export--panel-btns"},[Vue.h(VxeButtonComponent,{content:GlobalConfig.i18n("vxe.export.expCancel"),onClick:N}),Vue.h(VxeButtonComponent,{ref:s,status:"primary",content:GlobalConfig.i18n(F?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:X})])])}})};return H}}),VxeRadioGroupComponent=Vue.defineComponent({name:"VxeRadioGroup",props:{modelValue:[String,Number,Boolean],disabled:Boolean,strict:{type:Boolean,default:function(){return GlobalConfig.radio.strict}},size:{type:String,default:function(){return GlobalConfig.radio.size||GlobalConfig.size}}},emits:["update:modelValue","change"],setup:function(e,r){var a=r.slots,n=r.emit,l=Vue.inject("$xeform",null),c=Vue.inject("$xeformiteminfo",null),s=XEUtils$1.uniqueId(),g={xID:s,props:e,context:r,name:XEUtils$1.uniqueId("xegroup_")},o={};useSize(e);var d={handleChecked:function(T,U){n("update:modelValue",T.label),o.dispatchEvent("change",T),l&&c&&l.triggerItemEvent(U,c.itemConfig.field,T.label)}};o={dispatchEvent:function(T,U,A){n(T,Object.assign({$radioGroup:g,$event:A},U))}};var h=function(){return Vue.h("div",{class:"vxe-radio-group"},a.default?a.default({}):[])};return Object.assign(g,d,{renderVN:h,dispatchEvent}),Vue.provide("$xeradiogroup",g),h}}),VxeRadioComponent=Vue.defineComponent({name:"VxeRadio",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],content:[String,Number],disabled:Boolean,name:String,strict:{type:Boolean,default:function(){return GlobalConfig.radio.strict}},size:{type:String,default:function(){return GlobalConfig.radio.size||GlobalConfig.size}}},emits:["update:modelValue","change"],setup:function(e,r){var a=r.slots,n=r.emit,l=Vue.inject("$xeform",null),c=Vue.inject("$xeformiteminfo",null),s=XEUtils$1.uniqueId(),g={xID:s,props:e,context:r},o=useSize(e),d=Vue.inject("$xeradiogroup",null),h={},T=Vue.computed(function(){return e.disabled||d&&d.props.disabled}),U=Vue.computed(function(){return d?d.name:e.name}),A=Vue.computed(function(){return d?d.props.strict:e.strict}),M=Vue.computed(function(){var V=e.modelValue,D=e.label;return d?d.props.modelValue===D:V===D}),L=function(V,D){d?d.handleChecked({label:V},D):(n("update:modelValue",V),h.dispatchEvent("change",{label:V},D),l&&c&&l.triggerItemEvent(D,c.itemConfig.field,V))},O=function(V){var D=T.value;D||L(e.label,V)},R=function(V){var D=T.value,N=A.value;!D&&!N&&e.label===(d?d.props.modelValue:e.modelValue)&&L(null,V)};h={dispatchEvent:function(V,D,N){n(V,Object.assign({$radio:g,$event:N},D))}},Object.assign(g,h);var E=function(){var V,D=o.value,N=T.value,X=U.value,H=M.value;return Vue.h("label",{class:["vxe-radio",(V={},V["size--".concat(D)]=D,V["is--checked"]=H,V["is--disabled"]=N,V)],title:e.title},[Vue.h("input",{class:"vxe-radio--input",type:"radio",name:X,checked:H,disabled:N,onChange:O,onClick:R}),Vue.h("span",{class:["vxe-radio--icon",H?"vxe-icon-radio-checked":"vxe-icon-radio-unchecked"]}),Vue.h("span",{class:"vxe-radio--label"},a.default?a.default({}):getFuncText(e.content))])};return g.renderVN=E,g},render:function(){return this.renderVN()}}),ImportPanelComponent=Vue.defineComponent({name:"VxeImportPanel",props:{defaultOptions:Object,storeData:Object},setup:function(e){var r=Vue.inject("$xetable",{}),a=r.getComputeMaps().computeImportOpts,n=Vue.reactive({loading:!1}),l=Vue.ref(),c=Vue.computed(function(){var M=e.storeData;return"".concat(M.filename,".").concat(M.type)}),s=Vue.computed(function(){var M=e.storeData;return M.file&&M.type}),g=Vue.computed(function(){var M=e.storeData,L=M.type,O=M.typeList;if(L){var R=XEUtils$1.find(O,function(E){return L===E.value});return R?GlobalConfig.i18n(R.label):"*.*"}return"*.".concat(O.map(function(E){return E.value}).join(", *."))}),o=function(){var M=e.storeData;Object.assign(M,{filename:"",sheetName:"",type:""})},d=function(){var M=e.storeData,L=e.defaultOptions;r.readFile(L).then(function(O){var R=O.file;Object.assign(M,parseFile(R),{file:R})}).catch(function(O){return O})},h=function(){Vue.nextTick(function(){var M=l.value;M&&M.focus()})},T=function(){var M=e.storeData;M.visible=!1},U=function(){var M=e.storeData,L=e.defaultOptions,O=a.value;n.loading=!0,r.importByFile(M.file,Object.assign({},O,L)).then(function(){n.loading=!1,M.visible=!1}).catch(function(){n.loading=!1})},A=function(){var M=e.defaultOptions,L=e.storeData,O=c.value,R=s.value,E=g.value;return Vue.h(VxeModalComponent,{modelValue:L.visible,title:GlobalConfig.i18n("vxe.import.impTitle"),width:440,mask:!0,lockView:!0,showFooter:!1,escClosable:!0,maskClosable:!0,loading:n.loading,"onUpdate:modelValue":function(V){L.visible=V},onShow:h},{default:function(){return Vue.h("div",{class:"vxe-export--panel"},[Vue.h("table",{cellspacing:0,cellpadding:0,border:0},[Vue.h("tbody",[Vue.h("tr",[Vue.h("td",GlobalConfig.i18n("vxe.import.impFile")),Vue.h("td",[R?Vue.h("div",{class:"vxe-import-selected--file",title:O},[Vue.h("span",O),Vue.h("i",{class:GlobalConfig.icon.INPUT_CLEAR,onClick:o})]):Vue.h("button",{ref:l,class:"vxe-import-select--file",onClick:d},GlobalConfig.i18n("vxe.import.impSelect"))])]),Vue.h("tr",[Vue.h("td",GlobalConfig.i18n("vxe.import.impType")),Vue.h("td",E)]),Vue.h("tr",[Vue.h("td",GlobalConfig.i18n("vxe.import.impOpts")),Vue.h("td",[Vue.h(VxeRadioGroupComponent,{modelValue:M.mode,"onUpdate:modelValue":function(V){M.mode=V}},{default:function(){return L.modeList.map(function(V){return Vue.h(VxeRadioComponent,{label:V.value,content:GlobalConfig.i18n(V.label)})})}})])])])]),Vue.h("div",{class:"vxe-export--panel-btns"},[Vue.h(VxeButtonComponent,{content:GlobalConfig.i18n("vxe.import.impCancel"),onClick:T}),Vue.h(VxeButtonComponent,{status:"primary",disabled:!R,content:GlobalConfig.i18n("vxe.import.impConfirm"),onClick:U})])])}})};return A}});dynamicApp.component(ExportPanelComponent.name,ExportPanelComponent);dynamicApp.component(ImportPanelComponent.name,ImportPanelComponent);function getTargetOffset(e,r){var a=0,n=0,l=!browse.firefox&&hasClass(e,"vxe-checkbox--label");if(l){var c=getComputedStyle(e);a-=XEUtils$1.toNumber(c.paddingTop),n-=XEUtils$1.toNumber(c.paddingLeft)}for(;e&&e!==r;)if(a+=e.offsetTop,n+=e.offsetLeft,e=e.offsetParent,l){var s=getComputedStyle(e);a-=XEUtils$1.toNumber(s.paddingTop),n-=XEUtils$1.toNumber(s.paddingLeft)}return{offsetTop:a,offsetLeft:n}}var tableKeyboardHook={setupTable:function(e){var r=e.props,a=e.reactData,n=e.internalData,l=e.getRefMaps().refElem,c=e.getComputeMaps(),s=c.computeEditOpts,g=c.computeCheckboxOpts,o=c.computeMouseOpts,d=c.computeTreeOpts;function h(M,L,O){var R=0,E=[],V=O>0,D=O>0?O:Math.abs(O)+L.offsetHeight,N=a.scrollYLoad,X=n.afterFullData,H=n.scrollYStore;if(N){var x=e.getVTRowIndex(M.row);V?E=X.slice(x,x+Math.ceil(D/H.rowHeight)):E=X.slice(x-Math.floor(D/H.rowHeight)+1,x+1)}else for(var w=V?"next":"previous";L&&R<D;){var P=e.getRowNode(L);P&&(E.push(P.item),R+=L.offsetHeight,L=L["".concat(w,"ElementSibling")])}return E}var T=function(M,L){var O=L.column,R=L.cell;if(O.type==="checkbox"){var E=l.value,V=n.elemStore,D=M.clientX,N=M.clientY,X=V["".concat(O.fixed||"main","-body-wrapper")]||V["main-body-wrapper"],H=X?X.value:null;if(!H)return;var x=H.querySelector(".vxe-table--checkbox-range"),w=document.onmousemove,P=document.onmouseup,B=R.parentNode,ae=e.getCheckboxRecords(),J=[],F=1,W=getTargetOffset(M.target,H),oe=W.offsetTop+M.offsetY,he=W.offsetLeft+M.offsetX,me=H.scrollTop,Re=B.offsetHeight,Oe=null,Se=!1,ge=1,Be=function($e,te){e.dispatchEvent("checkbox-range-".concat($e),{records:e.getCheckboxRecords(),reserves:e.getCheckboxReserveRecords()},te)},pe=function($e){var te=$e.clientX,ve=$e.clientY,Ve=te-D,Xe=ve-N+(H.scrollTop-me),ye=Math.abs(Xe),ne=Math.abs(Ve),ie=oe,Ie=he;Xe<F?(ie+=Xe,ie<F&&(ie=F,ye=oe)):ye=Math.min(ye,H.scrollHeight-oe-F),Ve<F?(Ie+=Ve,ne>he&&(Ie=F,ne=he)):ne=Math.min(ne,H.clientWidth-he-F),x.style.height="".concat(ye,"px"),x.style.width="".concat(ne,"px"),x.style.left="".concat(Ie,"px"),x.style.top="".concat(ie,"px"),x.style.display="block";var Ge=h(L,B,Xe<F?-ye:ye);ye>10&&Ge.length!==J.length&&(J=Ge,$e.ctrlKey?Ge.forEach(function(We){e.handleSelectRow({row:We},ae.indexOf(We)===-1)}):(e.setAllCheckboxRow(!1),e.handleCheckedCheckboxRow(Ge,!0,!1)),Be("change",$e))},De=function(){clearTimeout(Oe),Oe=null},_e=function($e){De(),Oe=setTimeout(function(){if(Oe){var te=H.scrollLeft,ve=H.scrollTop,Ve=H.clientHeight,Xe=H.scrollHeight,ye=Math.ceil(ge*50/Re);Se?ve+Ve<Xe?(e.scrollTo(te,ve+ye),_e($e),pe($e)):De():ve?(e.scrollTo(te,ve-ye),_e($e),pe($e)):De()}},50)};addClass(E,"drag--range"),document.onmousemove=function($e){$e.preventDefault(),$e.stopPropagation();var te=$e.clientY,ve=getAbsolutePos(H).boundingTop;te<ve?(Se=!1,ge=ve-te,Oe||_e($e)):te>ve+H.clientHeight?(Se=!0,ge=te-ve-H.clientHeight,Oe||_e($e)):Oe&&De(),pe($e)},document.onmouseup=function($e){De(),removeClass(E,"drag--range"),x.removeAttribute("style"),document.onmousemove=w,document.onmouseup=P,Be("end",$e)},Be("start",M)}},U=function(M,L){var O=r.editConfig,R=r.checkboxConfig,E=r.mouseConfig,V=g.value,D=o.value,N=s.value;if(E&&D.area&&e.handleCellAreaEvent)return e.handleCellAreaEvent(M,L);R&&V.range&&T(M,L),E&&D.selected&&(!O||N.mode==="cell")&&e.handleSelected(L,M)},A={moveTabSelected:function(M,L,O){var R=r.editConfig,E=n.afterFullData,V=n.visibleColumn,D=s.value,N,X,H,x=Object.assign({},M),w=e.getVTRowIndex(x.row),P=e.getVTColumnIndex(x.column);O.preventDefault(),L?P<=0?w>0&&(X=w-1,N=E[X],H=V.length-1):H=P-1:P>=V.length-1?w<E.length-1&&(X=w+1,N=E[X],H=0):H=P+1;var B=V[H];B&&(N?(x.rowIndex=X,x.row=N):x.rowIndex=w,x.columnIndex=H,x.column=B,x.cell=e.getCell(x.row,x.column),R?(D.trigger==="click"||D.trigger==="dblclick")&&(D.mode==="row"?e.handleActived(x,O):e.scrollToRow(x.row,x.column).then(function(){return e.handleSelected(x,O)})):e.scrollToRow(x.row,x.column).then(function(){return e.handleSelected(x,O)}))},moveCurrentRow:function(M,L,O){var R=r.treeConfig,E=a.currentRow,V=n.afterFullData,D=d.value,N=D.children||D.childrenField,X;if(O.preventDefault(),E)if(R){var H=XEUtils$1.findTree(V,function(ae){return ae===E},{children:N}),x=H.index,w=H.items;M&&x>0?X=w[x-1]:L&&x<w.length-1&&(X=w[x+1])}else{var P=e.getVTRowIndex(E);M&&P>0?X=V[P-1]:L&&P<V.length-1&&(X=V[P+1])}else X=V[0];if(X){var B={$table:e,row:X,rowIndex:e.getRowIndex(X),$rowIndex:e.getVMRowIndex(X)};e.scrollToRow(X).then(function(){return e.triggerCurrentRowEvent(O,B)})}},moveSelected:function(M,L,O,R,E,V){var D=n.afterFullData,N=n.visibleColumn,X=Object.assign({},M),H=e.getVTRowIndex(X.row),x=e.getVTColumnIndex(X.column);V.preventDefault(),O&&H>0?(X.rowIndex=H-1,X.row=D[X.rowIndex]):E&&H<D.length-1?(X.rowIndex=H+1,X.row=D[X.rowIndex]):L&&x?(X.columnIndex=x-1,X.column=N[X.columnIndex]):R&&x<N.length-1&&(X.columnIndex=x+1,X.column=N[X.columnIndex]),e.scrollToRow(X.row,X.column).then(function(){X.cell=e.getCell(X.row,X.column),e.handleSelected(X,V)})},triggerHeaderCellMousedownEvent:function(M,L){var O=r.mouseConfig,R=o.value;if(O&&R.area&&e.handleHeaderCellAreaEvent){var E=M.currentTarget,V=getEventTargetNode(M,E,"vxe-cell--sort").flag,D=getEventTargetNode(M,E,"vxe-cell--filter").flag;e.handleHeaderCellAreaEvent(M,Object.assign({cell:E,triggerSort:V,triggerFilter:D},L))}e.focus(),e.closeMenu&&e.closeMenu()},triggerCellMousedownEvent:function(M,L){var O=M.currentTarget;L.cell=O,U(M,L),e.focus(),e.closeFilter(),e.closeMenu&&e.closeMenu()}};return A}},VxeModuleKeyboard={install:function(){VXETable.hooks.add("$tableKeyboard",tableKeyboardHook)}},Keyboard=VxeModuleKeyboard,__assign$e=globalThis&&globalThis.__assign||function(){return __assign$e=Object.assign||function(e){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},__assign$e.apply(this,arguments)},Rule$1=function(){function e(r){Object.assign(this,{$options:r,required:r.required,min:r.min,max:r.max,type:r.type,pattern:r.pattern,validator:r.validator,trigger:r.trigger,maxWidth:r.maxWidth})}return Object.defineProperty(e.prototype,"content",{get:function(){return getFuncText(this.$options.content||this.$options.message)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.content},enumerable:!1,configurable:!0}),e}(),tableValidatorMethodKeys=["fullValidate","validate","clearValidate"],validatorHook={setupTable:function(e){var r=e.props,a=e.reactData,n=e.internalData,l=e.getRefMaps().refValidTooltip,c=e.getComputeMaps(),s=c.computeValidOpts,g=c.computeTreeOpts,o=c.computeEditOpts,d={},h={},T,U=function(O){return new Promise(function(R){var E=s.value;E.autoPos===!1?(e.dispatchEvent("valid-error",O,null),R()):e.handleActived(O,{type:"valid-error",trigger:"call"}).then(function(){R(h.showValidTooltip(O))})})},A=function(O){var R=s.value;if(R.msgMode==="single"){var E=Object.keys(O),V=O;if(E.length){var D=E[0];V[D]=O[D]}return V}return O},M=function(O,R,E){var V={},D=r.editRules,N=r.treeConfig,X=n.afterFullData,H=g.value,x=H.children||H.childrenField,w=s.value,P;O===!0?P=X:O&&(XEUtils$1.isFunction(O)?R=O:P=XEUtils$1.isArray(O)?O:[O]),P||(e.getInsertRecords?P=e.getInsertRecords().concat(e.getUpdateRecords()):P=[]);var B=[];n._lastCallTime=Date.now(),T=!1,d.clearValidate();var ae={};if(D){var J=e.getColumns(),F=function(W){if(E||!T){var oe=[];J.forEach(function(he){(E||!T)&&XEUtils$1.has(D,he.property)&&oe.push(h.validCellRules("all",W,he).catch(function(me){var Re=me.rule,Oe=me.rules,Se={rule:Re,rules:Oe,rowIndex:e.getRowIndex(W),row:W,columnIndex:e.getColumnIndex(he),column:he,field:he.property,$table:e};if(V[he.property]||(V[he.property]=[]),ae["".concat(getRowid(e,W),":").concat(he.id)]={column:he,row:W,rule:Re,content:Re.content},V[he.property].push(Se),!E)return T=!0,Promise.reject(Se)}))}),B.push(Promise.all(oe))}};return N?XEUtils$1.eachTree(P,F,{children:x}):P.forEach(F),Promise.all(B).then(function(){var W=Object.keys(V);return a.validErrorMaps=A(ae),Vue.nextTick().then(function(){if(W.length)return Promise.reject(V[W[0]][0]);R&&R()})}).catch(function(W){return new Promise(function(oe,he){var me=function(){Vue.nextTick(function(){R?(R(V),oe()):GlobalConfig.validToReject==="obsolete"?he(V):oe(V)})},Re=function(){W.cell=e.getCell(W.row,W.column),scrollToView(W.cell),U(W).then(me)},Oe=W.row,Se=X.indexOf(Oe),ge=Se>0?X[Se-1]:Oe;w.autoPos===!1?me():N?e.scrollToTreeRow(ge).then(Re):e.scrollToRow(ge).then(Re)})})}else a.validErrorMaps={};return Vue.nextTick().then(function(){R&&R()})};d={fullValidate:function(O,R){return M(O,R,!0)},validate:function(O,R){return M(O,R)},clearValidate:function(O,R){var E=a.validErrorMaps,V=l.value,D=s.value,N=XEUtils$1.isArray(O)?O:O?[O]:[],X=XEUtils$1.isArray(R)?R:(R?[R]:[]).map(function(P){return handleFieldOrColumn(e,P)}),H={};if(V&&V.reactData.visible&&V.close(),D.msgMode==="single")return a.validErrorMaps={},Vue.nextTick();if(N.length&&X.length)H=Object.assign({},E),N.forEach(function(P){X.forEach(function(B){var ae="".concat(getRowid(e,P),":").concat(B.id);H[ae]&&delete H[ae]})});else if(N.length){var x=N.map(function(P){return"".concat(getRowid(e,P))});XEUtils$1.each(E,function(P,B){x.indexOf(B.split(":")[0])>-1&&(H[B]=P)})}else if(X.length){var w=X.map(function(P){return"".concat(P.id)});XEUtils$1.each(E,function(P,B){w.indexOf(B.split(":")[1])>-1&&(H[B]=P)})}return a.validErrorMaps=H,Vue.nextTick()}};var L=function(O,R){var E=O.type,V=O.min,D=O.max,N=O.pattern,X=E==="number",H=X?XEUtils$1.toNumber(R):XEUtils$1.getSize(R);return!!(X&&isNaN(R)||!XEUtils$1.eqNull(V)&&H<XEUtils$1.toNumber(V)||!XEUtils$1.eqNull(D)&&H>XEUtils$1.toNumber(D)||N&&!(XEUtils$1.isRegExp(N)?N:new RegExp(N)).test(R))};return h={validCellRules:function(O,R,E,V){var D=r.editRules,N=E.field,X=[],H=[];if(N&&D){var x=XEUtils$1.get(D,N);if(x){var w=XEUtils$1.isUndefined(V)?XEUtils$1.get(R,N):V;x.forEach(function(P){var B=P.type,ae=P.trigger,J=P.required,F=P.validator;if(O==="all"||!ae||O===ae)if(F){var W={cellValue:w,rule:P,rules:x,row:R,rowIndex:e.getRowIndex(R),column:E,columnIndex:e.getColumnIndex(E),field:E.field,$table:e,$grid:e.xegrid},oe=void 0;if(XEUtils$1.isString(F)){var he=VXETable.validators.get(F);he&&he.cellValidatorMethod&&(oe=he.cellValidatorMethod(W))}else oe=F(W);oe&&(XEUtils$1.isError(oe)?(T=!0,X.push(new Rule$1({type:"custom",trigger:ae,content:oe.message,rule:new Rule$1(P)}))):oe.catch&&H.push(oe.catch(function(Se){T=!0,X.push(new Rule$1({type:"custom",trigger:ae,content:Se&&Se.message?Se.message:P.content||P.message,rule:new Rule$1(P)}))})))}else{var me=B==="array",Re=XEUtils$1.isArray(w),Oe=!0;me||Re?Oe=!Re||!w.length:XEUtils$1.isString(w)?Oe=eqEmptyValue(w.trim()):Oe=eqEmptyValue(w),(J?Oe||L(P,w):!Oe&&L(P,w))&&(T=!0,X.push(new Rule$1(P)))}})}}return Promise.all(H).then(function(){if(X.length){var P={rules:X,rule:X[0]};return Promise.reject(P)}})},hasCellRules:function(O,R,E){var V=r.editRules,D=E.field;if(D&&V){var N=XEUtils$1.get(V,D);return N&&!!XEUtils$1.find(N,function(X){return O==="all"||!X.trigger||O===X.trigger})}return!1},triggerValidate:function(O){var R=r.editConfig,E=r.editRules,V=a.editStore,D=V.actived,N=o.value,X=s.value;if(E&&X.msgMode==="single"&&(a.validErrorMaps={}),R&&E&&D.row){var H=D.args,x=H.row,w=H.column,P=H.cell;if(h.hasCellRules(O,x,w))return h.validCellRules(O,x,w).then(function(){N.mode==="row"&&d.clearValidate(x,w)}).catch(function(B){var ae=B.rule;if(!ae.trigger||O===ae.trigger){var J={rule:ae,row:x,column:w,cell:P};return h.showValidTooltip(J),Promise.reject(J)}return Promise.resolve()})}return Promise.resolve()},showValidTooltip:function(O){var R,E,V=r.height,D=a.tableData,N=a.validStore,X=a.validErrorMaps,H=s.value,x=l.value;if(N.visible=!0,H.msgMode==="single"?a.validErrorMaps=(R={},R["".concat(getRowid(e,O.row),":").concat(O.column.id)]={column:O.column,row:O.row,rule:O.rule,content:O.rule.content},R):a.validErrorMaps=Object.assign({},X,(E={},E["".concat(getRowid(e,O.row),":").concat(O.column.id)]={column:O.column,row:O.row,rule:O.rule,content:O.rule.content},E)),e.dispatchEvent("valid-error",O,null),x){var w=O.cell;if(x&&(H.message==="tooltip"||H.message==="default"&&!V&&D.length<2))return x.open(w,O.rule.content)}return Vue.nextTick()}},__assign$e(__assign$e({},d),h)},setupGrid:function(e){return e.extendTableMethods(tableValidatorMethodKeys)}},VxeModuleValidator={install:function(){VXETable.hooks.add("$tableValidator",validatorHook)}},Validator=VxeModuleValidator;const VxeIconComponent=Vue.defineComponent({name:"VxeIcon",props:{name:String,roll:Boolean},emits:["click"],setup:function(e,r){var a=r.emit,n=function(l){a("click",{$event:l})};return function(){return Vue.h("i",{class:["vxe-icon-".concat(e.name),e.roll?"roll":""],onClick:n})}}});var VxeIcon=Object.assign(VxeIconComponent,{install:function(e){e.component(VxeIconComponent.name,VxeIconComponent)}}),Icon=VxeIcon;dynamicApp.component(VxeIcon.name,VxeIcon);var __assign$d=globalThis&&globalThis.__assign||function(){return __assign$d=Object.assign||function(e){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},__assign$d.apply(this,arguments)};function renderHelpIcon(e){var r=e.$table,a=e.column,n=a.titlePrefix||a.titleHelp;return n?[Vue.h("i",{class:["vxe-cell-help-icon",n.icon||GlobalConfig.icon.TABLE_HELP],onMouseenter:function(l){r.triggerHeaderHelpEvent(l,e)},onMouseleave:function(l){r.handleTargetLeaveEvent(l)}})]:[]}function renderTitleContent(e,r){var a=e.$table,n=e.column,l=a.props,c=a.reactData,s=a.getComputeMaps().computeTooltipOpts,g=l.showHeaderOverflow,o=n.type,d=n.showHeaderOverflow,h=s.value,T=h.showAll,U=XEUtils$1.isUndefined(d)||XEUtils$1.isNull(d)?g:d,A=U==="title",M=U===!0||U==="tooltip",L={};return(A||M||T)&&(L.onMouseenter=function(O){c._isResize||(A?updateCellTitle(O.currentTarget,n):(M||T)&&a.triggerHeaderTooltipEvent(O,e))}),(M||T)&&(L.onMouseleave=function(O){c._isResize||(M||T)&&a.handleTargetLeaveEvent(O)}),[o==="html"&&XEUtils$1.isString(r)?Vue.h("span",__assign$d({class:"vxe-cell--title",innerHTML:r},L)):Vue.h("span",__assign$d({class:"vxe-cell--title"},L),getSlotVNs(r))]}function getFooterContent(e){var r=e.$table,a=e.column,n=e._columnIndex,l=e.items,c=a.slots,s=a.editRender,g=a.cellRender,o=s||g,d=c?c.footer:null;if(d)return r.callSlot(d,e);if(o){var h=VXETable.renderer.get(o.name);if(h&&h.renderFooter)return getSlotVNs(h.renderFooter(o,e))}return[formatText(l[n],1)]}function getDefaultCellLabel(e){var r=e.$table,a=e.row,n=e.column;return formatText(r.getCellLabel(a,n),1)}var Cell={createColumn:function(e,r){var a=r.type,n=r.sortable,l=r.filters,c=r.editRender,s=r.treeNode,g=e.props,o=g.editConfig,d=e.getComputeMaps(),h=d.computeEditOpts,T=d.computeCheckboxOpts,U=T.value,A=h.value,M={renderHeader:Cell.renderDefaultHeader,renderCell:s?Cell.renderTreeCell:Cell.renderDefaultCell,renderFooter:Cell.renderDefaultFooter};switch(a){case"seq":M.renderHeader=Cell.renderSeqHeader,M.renderCell=s?Cell.renderTreeIndexCell:Cell.renderSeqCell;break;case"radio":M.renderHeader=Cell.renderRadioHeader,M.renderCell=s?Cell.renderTreeRadioCell:Cell.renderRadioCell;break;case"checkbox":M.renderHeader=Cell.renderCheckboxHeader,M.renderCell=U.checkField?s?Cell.renderTreeSelectionCellByProp:Cell.renderCheckboxCellByProp:s?Cell.renderTreeSelectionCell:Cell.renderCheckboxCell;break;case"expand":M.renderCell=Cell.renderExpandCell,M.renderData=Cell.renderExpandData;break;case"html":M.renderCell=s?Cell.renderTreeHTMLCell:Cell.renderHTMLCell,l&&n?M.renderHeader=Cell.renderSortAndFilterHeader:n?M.renderHeader=Cell.renderSortHeader:l&&(M.renderHeader=Cell.renderFilterHeader);break;default:o&&c?(M.renderHeader=Cell.renderEditHeader,M.renderCell=A.mode==="cell"?s?Cell.renderTreeCellEdit:Cell.renderCellEdit:s?Cell.renderTreeRowEdit:Cell.renderRowEdit):l&&n?M.renderHeader=Cell.renderSortAndFilterHeader:n?M.renderHeader=Cell.renderSortHeader:l&&(M.renderHeader=Cell.renderFilterHeader)}return createColumn(e,r,M)},renderHeaderTitle:function(e){var r=e.$table,a=e.column,n=a.slots,l=a.editRender,c=a.cellRender,s=l||c,g=n?n.header:null;if(g)return renderTitleContent(e,r.callSlot(g,e));if(s){var o=VXETable.renderer.get(s.name);if(o&&o.renderHeader)return renderTitleContent(e,getSlotVNs(o.renderHeader(s,e)))}return renderTitleContent(e,formatText(a.getTitle(),1))},renderDefaultHeader:function(e){return renderHelpIcon(e).concat(Cell.renderHeaderTitle(e))},renderDefaultCell:function(e){var r=e.$table,a=e.row,n=e.column,l=n.slots,c=n.editRender,s=n.cellRender,g=c||s,o=l?l.default:null;if(o)return r.callSlot(o,e);if(g){var d=c?"renderCell":"renderDefault",h=VXETable.renderer.get(g.name),T=h?h[d]:null;if(T)return getSlotVNs(T(g,Object.assign({$type:c?"edit":"cell"},e)))}var U=r.getCellLabel(a,n),A=c?c.placeholder:"";return[Vue.h("span",{class:"vxe-cell--label"},c&&eqEmptyValue(U)?[Vue.h("span",{class:"vxe-cell--placeholder"},formatText(getFuncText(A),1))]:formatText(U,1))]},renderTreeCell:function(e){return Cell.renderTreeIcon(e,Cell.renderDefaultCell(e))},renderDefaultFooter:function(e){return[Vue.h("span",{class:"vxe-cell--item"},getFooterContent(e))]},renderTreeIcon:function(e,r){var a=e.$table,n=e.isHidden,l=a.reactData,c=a.getComputeMaps().computeTreeOpts,s=l.treeExpandedMaps,g=l.treeExpandLazyLoadedMaps,o=c.value,d=e.row,h=e.column,T=e.level,U=h.slots,A=o.indent,M=o.lazy,L=o.trigger,O=o.iconLoaded,R=o.showIcon,E=o.iconOpen,V=o.iconClose,D=o.children||o.childrenField,N=o.hasChild||o.hasChildField,X=d[D],H=U?U.icon:null,x=!1,w=!1,P=!1,B={};if(H)return a.callSlot(H,e);if(!n){var ae=getRowid(a,d);w=!!s[ae],M&&(P=!!g[ae],x=d[N])}return(!L||L==="default")&&(B.onClick=function(J){J.stopPropagation(),a.triggerTreeExpandEvent(J,e)}),[Vue.h("div",{class:["vxe-cell--tree-node",{"is--active":w}],style:{paddingLeft:"".concat(T*A,"px")}},[R&&(X&&X.length||x)?[Vue.h("div",__assign$d({class:"vxe-tree--btn-wrapper"},B),[Vue.h("i",{class:["vxe-tree--node-btn",P?O||GlobalConfig.icon.TABLE_TREE_LOADED:w?E||GlobalConfig.icon.TABLE_TREE_OPEN:V||GlobalConfig.icon.TABLE_TREE_CLOSE]})])]:null,Vue.h("div",{class:"vxe-tree-cell"},r)])]},renderSeqHeader:function(e){var r=e.$table,a=e.column,n=a.slots,l=n?n.header:null;return renderTitleContent(e,l?r.callSlot(l,e):formatText(a.getTitle(),1))},renderSeqCell:function(e){var r=e.$table,a=e.column,n=r.props,l=n.treeConfig,c=r.getComputeMaps().computeSeqOpts,s=c.value,g=a.slots,o=g?g.default:null;if(o)return r.callSlot(o,e);var d=e.seq,h=s.seqMethod;return[formatText(h?h(e):l?d:(s.startIndex||0)+d,1)]},renderTreeIndexCell:function(e){return Cell.renderTreeIcon(e,Cell.renderSeqCell(e))},renderRadioHeader:function(e){var r=e.$table,a=e.column,n=a.slots,l=n?n.header:null,c=n?n.title:null;return renderTitleContent(e,l?r.callSlot(l,e):[Vue.h("span",{class:"vxe-radio--label"},c?r.callSlot(c,e):formatText(a.getTitle(),1))])},renderRadioCell:function(e){var r=e.$table,a=e.column,n=e.isHidden,l=r.reactData,c=r.getComputeMaps().computeRadioOpts,s=l.selectRadioRow,g=c.value,o=a.slots,d=g.labelField,h=g.checkMethod,T=g.visibleMethod,U=e.row,A=o?o.default:null,M=o?o.radio:null,L=r.eqRow(U,s),O=!T||T({row:U}),R=!!h,E;n||(E={onClick:function(N){!R&&O&&(N.stopPropagation(),r.triggerRadioRowEvent(N,e))}},h&&(R=!h({row:U})));var V=__assign$d(__assign$d({},e),{checked:L,disabled:R,visible:O});if(M)return r.callSlot(M,V);var D=[];return O&&D.push(Vue.h("span",{class:["vxe-radio--icon",L?GlobalConfig.icon.TABLE_RADIO_CHECKED:GlobalConfig.icon.TABLE_RADIO_UNCHECKED]})),(A||d)&&D.push(Vue.h("span",{class:"vxe-radio--label"},A?r.callSlot(A,V):XEUtils$1.get(U,d))),[Vue.h("span",__assign$d({class:["vxe-cell--radio",{"is--checked":L,"is--disabled":R}]},E),D)]},renderTreeRadioCell:function(e){return Cell.renderTreeIcon(e,Cell.renderRadioCell(e))},renderCheckboxHeader:function(e){var r=e.$table,a=e.column,n=e.isHidden,l=r.reactData,c=r.getComputeMaps(),s=c.computeIsAllCheckboxDisabled,g=c.computeCheckboxOpts,o=l.isAllSelected,d=l.isIndeterminate,h=s.value,T=a.slots,U=T?T.header:null,A=T?T.title:null,M=g.value,L=a.getTitle(),O;n||(O={onClick:function(E){h||(E.stopPropagation(),r.triggerCheckAllEvent(E,!o))}});var R=__assign$d(__assign$d({},e),{checked:o,disabled:h,indeterminate:d});return U?renderTitleContent(R,r.callSlot(U,R)):(M.checkStrictly?!M.showHeader:M.showHeader===!1)?renderTitleContent(R,[Vue.h("span",{class:"vxe-checkbox--label"},A?r.callSlot(A,R):L)]):renderTitleContent(R,[Vue.h("span",__assign$d({class:["vxe-cell--checkbox",{"is--checked":o,"is--disabled":h,"is--indeterminate":d}],title:GlobalConfig.i18n("vxe.table.allTitle")},O),[Vue.h("span",{class:["vxe-checkbox--icon",d?GlobalConfig.icon.TABLE_CHECKBOX_INDETERMINATE:o?GlobalConfig.icon.TABLE_CHECKBOX_CHECKED:GlobalConfig.icon.TABLE_CHECKBOX_UNCHECKED]})].concat(A||L?[Vue.h("span",{class:"vxe-checkbox--label"},A?r.callSlot(A,R):L)]:[]))])},renderCheckboxCell:function(e){var r=e.$table,a=e.row,n=e.column,l=e.isHidden,c=r.props,s=r.reactData,g=c.treeConfig,o=s.selectCheckboxMaps,d=s.treeIndeterminateMaps,h=r.getComputeMaps().computeCheckboxOpts,T=h.value,U=T.labelField,A=T.checkMethod,M=T.visibleMethod,L=n.slots,O=L?L.default:null,R=L?L.checkbox:null,E=!1,V=!1,D=!M||M({row:a}),N=!!A,X;if(!l){var H=getRowid(r,a);V=!!o[H],X={onClick:function(P){!N&&D&&(P.stopPropagation(),r.triggerCheckRowEvent(P,e,!V))}},A&&(N=!A({row:a})),g&&(E=!!d[H])}var x=__assign$d(__assign$d({},e),{checked:V,disabled:N,visible:D,indeterminate:E});if(R)return r.callSlot(R,x);var w=[];return D&&w.push(Vue.h("span",{class:["vxe-checkbox--icon",E?GlobalConfig.icon.TABLE_CHECKBOX_INDETERMINATE:V?GlobalConfig.icon.TABLE_CHECKBOX_CHECKED:GlobalConfig.icon.TABLE_CHECKBOX_UNCHECKED]})),(O||U)&&w.push(Vue.h("span",{class:"vxe-checkbox--label"},O?r.callSlot(O,x):XEUtils$1.get(a,U))),[Vue.h("span",__assign$d({class:["vxe-cell--checkbox",{"is--checked":V,"is--disabled":N,"is--indeterminate":E}]},X),w)]},renderTreeSelectionCell:function(e){return Cell.renderTreeIcon(e,Cell.renderCheckboxCell(e))},renderCheckboxCellByProp:function(e){var r=e.$table,a=e.row,n=e.column,l=e.isHidden,c=r.props,s=r.reactData,g=c.treeConfig,o=s.treeIndeterminateMaps,d=r.getComputeMaps().computeCheckboxOpts,h=d.value,T=h.labelField,U=h.checkField,A=h.checkMethod,M=h.visibleMethod,L=h.indeterminateField||h.halfField,O=n.slots,R=O?O.default:null,E=O?O.checkbox:null,V=!1,D=!1,N=!M||M({row:a}),X=!!A,H;if(!l){var x=getRowid(r,a);D=XEUtils$1.get(a,U),H={onClick:function(B){!X&&N&&(B.stopPropagation(),r.triggerCheckRowEvent(B,e,!D))}},A&&(X=!A({row:a})),g&&(V=!!o[x])}var w=__assign$d(__assign$d({},e),{checked:D,disabled:X,visible:N,indeterminate:V});if(E)return r.callSlot(E,w);var P=[];return N&&(P.push(Vue.h("span",{class:["vxe-checkbox--icon",V?GlobalConfig.icon.TABLE_CHECKBOX_INDETERMINATE:D?GlobalConfig.icon.TABLE_CHECKBOX_CHECKED:GlobalConfig.icon.TABLE_CHECKBOX_UNCHECKED]})),(R||T)&&P.push(Vue.h("span",{class:"vxe-checkbox--label"},R?r.callSlot(R,w):XEUtils$1.get(a,T)))),[Vue.h("span",__assign$d({class:["vxe-cell--checkbox",{"is--checked":D,"is--disabled":X,"is--indeterminate":L&&!D?a[L]:V}]},H),P)]},renderTreeSelectionCellByProp:function(e){return Cell.renderTreeIcon(e,Cell.renderCheckboxCellByProp(e))},renderExpandCell:function(e){var r=e.$table,a=e.isHidden,n=e.row,l=e.column,c=r.reactData,s=c.rowExpandedMaps,g=c.rowExpandLazyLoadedMaps,o=r.getComputeMaps().computeExpandOpts,d=o.value,h=d.lazy,T=d.labelField,U=d.iconLoaded,A=d.showIcon,M=d.iconOpen,L=d.iconClose,O=d.visibleMethod,R=l.slots,E=R?R.default:null,V=R?R.icon:null,D=!1,N=!1;if(V)return r.callSlot(V,e);if(!a){var X=getRowid(r,n);D=!!s[X],h&&(N=!!g[X])}return[A&&(!O||O(e))?Vue.h("span",{class:["vxe-table--expanded",{"is--active":D}],onClick:function(H){H.stopPropagation(),r.triggerRowExpandEvent(H,e)}},[Vue.h("i",{class:["vxe-table--expand-btn",N?U||GlobalConfig.icon.TABLE_EXPAND_LOADED:D?M||GlobalConfig.icon.TABLE_EXPAND_OPEN:L||GlobalConfig.icon.TABLE_EXPAND_CLOSE]})]):null,E||T?Vue.h("span",{class:"vxe-table--expand-label"},E?r.callSlot(E,e):XEUtils$1.get(n,T)):null]},renderExpandData:function(e){var r=e.$table,a=e.column,n=a.slots,l=a.contentRender,c=n?n.content:null;if(c)return r.callSlot(c,e);if(l){var s=VXETable.renderer.get(l.name);if(s&&s.renderExpand)return getSlotVNs(s.renderExpand(l,e))}return[]},renderHTMLCell:function(e){var r=e.$table,a=e.column,n=a.slots,l=n?n.default:null;return l?r.callSlot(l,e):[Vue.h("span",{class:"vxe-cell--html",innerHTML:getDefaultCellLabel(e)})]},renderTreeHTMLCell:function(e){return Cell.renderTreeIcon(e,Cell.renderHTMLCell(e))},renderSortAndFilterHeader:function(e){return Cell.renderDefaultHeader(e).concat(Cell.renderSortIcon(e)).concat(Cell.renderFilterIcon(e))},renderSortHeader:function(e){return Cell.renderDefaultHeader(e).concat(Cell.renderSortIcon(e))},renderSortIcon:function(e){var r=e.$table,a=e.column,n=r.getComputeMaps().computeSortOpts,l=n.value,c=l.showIcon,s=l.iconAsc,g=l.iconDesc,o=a.order;return c?[Vue.h("span",{class:"vxe-cell--sort"},[Vue.h("i",{class:["vxe-sort--asc-btn",s||GlobalConfig.icon.TABLE_SORT_ASC,{"sort--active":o==="asc"}],title:GlobalConfig.i18n("vxe.table.sortAsc"),onClick:function(d){d.stopPropagation(),r.triggerSortEvent(d,a,"asc")}}),Vue.h("i",{class:["vxe-sort--desc-btn",g||GlobalConfig.icon.TABLE_SORT_DESC,{"sort--active":o==="desc"}],title:GlobalConfig.i18n("vxe.table.sortDesc"),onClick:function(d){d.stopPropagation(),r.triggerSortEvent(d,a,"desc")}})])]:[]},renderFilterHeader:function(e){return Cell.renderDefaultHeader(e).concat(Cell.renderFilterIcon(e))},renderFilterIcon:function(e){var r=e.$table,a=e.column,n=e.hasFilter,l=r.reactData,c=l.filterStore,s=r.getComputeMaps().computeFilterOpts,g=s.value,o=g.showIcon,d=g.iconNone,h=g.iconMatch;return o?[Vue.h("span",{class:["vxe-cell--filter",{"is--active":c.visible&&c.column===a}]},[Vue.h("i",{class:["vxe-filter--btn",n?h||GlobalConfig.icon.TABLE_FILTER_MATCH:d||GlobalConfig.icon.TABLE_FILTER_NONE],title:GlobalConfig.i18n("vxe.table.filter"),onClick:function(T){r.triggerFilterEvent&&r.triggerFilterEvent(T,e.column,e)}})])]:[]},renderEditHeader:function(e){var r=e.$table,a=e.column,n=r.props,l=r.getComputeMaps().computeEditOpts,c=n.editConfig,s=n.editRules,g=l.value,o=a.sortable,d=a.filters,h=a.editRender,T=!1;if(s){var U=XEUtils$1.get(s,a.field);U&&(T=U.some(function(A){return A.required}))}return(isEnableConf(c)?[T&&g.showAsterisk?Vue.h("i",{class:"vxe-cell--required-icon"}):null,isEnableConf(h)&&g.showIcon?Vue.h("i",{class:["vxe-cell--edit-icon",g.icon||GlobalConfig.icon.TABLE_EDIT]}):null]:[]).concat(Cell.renderDefaultHeader(e)).concat(o?Cell.renderSortIcon(e):[]).concat(d?Cell.renderFilterIcon(e):[])},renderRowEdit:function(e){var r=e.$table,a=e.column,n=r.reactData,l=n.editStore,c=l.actived,s=a.editRender;return Cell.runRenderer(e,isEnableConf(s)&&c&&c.row===e.row)},renderTreeRowEdit:function(e){return Cell.renderTreeIcon(e,Cell.renderRowEdit(e))},renderCellEdit:function(e){var r=e.$table,a=e.column,n=r.reactData,l=n.editStore,c=l.actived,s=a.editRender;return Cell.runRenderer(e,isEnableConf(s)&&c&&c.row===e.row&&c.column===e.column)},renderTreeCellEdit:function(e){return Cell.renderTreeIcon(e,Cell.renderCellEdit(e))},runRenderer:function(e,r){var a=e.$table,n=e.column,l=n.slots,c=n.editRender,s=n.formatter,g=l?l.default:null,o=l?l.edit:null,d=VXETable.renderer.get(c.name);return r?o?a.callSlot(o,e):d&&d.renderEdit?getSlotVNs(d.renderEdit(c,Object.assign({$type:"edit"},e))):[]:g?a.callSlot(g,e):s?[Vue.h("span",{class:"vxe-cell--label"},getDefaultCellLabel(e))]:Cell.renderDefaultCell(e)}},columnProps={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],maxWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,treeNode:Boolean,visible:{type:Boolean,default:null},headerExportMethod:Function,exportMethod:Function,footerExportMethod:Function,titleHelp:Object,titlePrefix:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,params:Object};const VxeTableColumnComponent=Vue.defineComponent({name:"VxeColumn",props:columnProps,setup:function(e,r){var a=r.slots,n=Vue.ref(),l=Vue.inject("$xetable",{}),c=Vue.inject("xecolgroup",null),s=Cell.createColumn(l,e);s.slots=a,Vue.provide("$xegrid",null),watchColumn(l,e,s),Vue.onMounted(function(){assemColumn(l,n.value,s,c)}),Vue.onUnmounted(function(){destroyColumn(l,s)});var g=function(){return Vue.h("div",{ref:n})};return g}});var VxeColumn=Object.assign(VxeTableColumnComponent,{install:function(e){e.component(VxeTableColumnComponent.name,VxeTableColumnComponent),e.component("VxeTableColumn",VxeTableColumnComponent)}}),Column=VxeColumn;dynamicApp.component(VxeTableColumnComponent.name,VxeTableColumnComponent);dynamicApp.component("VxeTableColumn",VxeTableColumnComponent);const VxeTableColgroupComponent=Vue.defineComponent({name:"VxeColgroup",props:columnProps,setup:function(e,r){var a=r.slots,n=Vue.ref(),l=Vue.inject("$xetable",{}),c=Vue.inject("xecolgroup",null),s=Cell.createColumn(l,e),g={};a.header&&(g.header=a.header);var o={column:s};s.slots=g,s.children=[],Vue.provide("xecolgroup",o),Vue.provide("$xegrid",null),watchColumn(l,e,s),Vue.onMounted(function(){assemColumn(l,n.value,s,c)}),Vue.onUnmounted(function(){destroyColumn(l,s)});var d=function(){return Vue.h("div",{ref:n},a.default?a.default():[])};return d}});Object.assign(VxeTableColgroupComponent,{install:function(e){e.component(VxeTableColgroupComponent.name,VxeTableColgroupComponent),e.component("VxeTableColgroup",VxeTableColgroupComponent)}});dynamicApp.component(VxeTableColgroupComponent.name,VxeTableColgroupComponent);dynamicApp.component("VxeTableColgroup",VxeTableColgroupComponent);const tableProps={id:String,data:Array,height:[Number,String],minHeight:{type:[Number,String],default:function(){return GlobalConfig.table.minHeight}},maxHeight:[Number,String],resizable:{type:Boolean,default:function(){return GlobalConfig.table.resizable}},stripe:{type:Boolean,default:function(){return GlobalConfig.table.stripe}},border:{type:[Boolean,String],default:function(){return GlobalConfig.table.border}},round:{type:Boolean,default:function(){return GlobalConfig.table.round}},size:{type:String,default:function(){return GlobalConfig.table.size||GlobalConfig.size}},fit:{type:Boolean,default:function(){return GlobalConfig.table.fit}},loading:Boolean,align:{type:String,default:function(){return GlobalConfig.table.align}},headerAlign:{type:String,default:function(){return GlobalConfig.table.headerAlign}},footerAlign:{type:String,default:function(){return GlobalConfig.table.footerAlign}},showHeader:{type:Boolean,default:function(){return GlobalConfig.table.showHeader}},highlightCurrentRow:{type:Boolean,default:function(){return GlobalConfig.table.highlightCurrentRow}},highlightHoverRow:{type:Boolean,default:function(){return GlobalConfig.table.highlightHoverRow}},highlightCurrentColumn:{type:Boolean,default:function(){return GlobalConfig.table.highlightCurrentColumn}},highlightHoverColumn:{type:Boolean,default:function(){return GlobalConfig.table.highlightHoverColumn}},highlightCell:Boolean,showFooter:Boolean,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],mergeCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:function(){return GlobalConfig.table.showOverflow}},showHeaderOverflow:{type:[Boolean,String],default:function(){return GlobalConfig.table.showHeaderOverflow}},showFooterOverflow:{type:[Boolean,String],default:function(){return GlobalConfig.table.showFooterOverflow}},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:function(){return GlobalConfig.table.rowId}},zIndex:Number,emptyText:{type:String,default:function(){return GlobalConfig.table.emptyText}},keepSource:{type:Boolean,default:function(){return GlobalConfig.table.keepSource}},autoResize:{type:Boolean,default:function(){return GlobalConfig.table.autoResize}},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,rowConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,animat:{type:Boolean,default:function(){return GlobalConfig.table.animat}},delayHover:{type:Number,default:function(){return GlobalConfig.table.delayHover}},params:Object},tableEmits=["update:data","keydown-start","keydown","keydown-end","paste","copy","cut","current-change","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","checkbox-range-select","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","cell-selected","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","filter-change","filter-visible","clear-filter","resizable-change","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","edit-actived","edit-disabled","valid-error","scroll","custom","change-fnr","open-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-start","cell-area-selection-drag","cell-area-selection-end","cell-area-extension-start","cell-area-extension-drag","cell-area-extension-end","cell-area-selection-all-start","cell-area-selection-all-end","cell-area-arrows-start","cell-area-arrows-end","active-cell-change-start","active-cell-change-end"];var __assign$c=globalThis&&globalThis.__assign||function(){return __assign$c=Object.assign||function(e){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},__assign$c.apply(this,arguments)},__spreadArray$3=globalThis&&globalThis.__spreadArray||function(e,r,a){if(a||arguments.length===2)for(var n=0,l=r.length,c;n<l;n++)(c||!(n in r))&&(c||(c=Array.prototype.slice.call(r,0,n)),c[n]=r[n]);return e.concat(c||Array.prototype.slice.call(r))},tableComponentPropKeys=Object.keys(tableProps),tableComponentMethodKeys=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","createData","createRow","revertData","clearData","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getData","getCheckboxRecords","getParentRow","getRowSeq","getRowById","getRowid","getTableData","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","isCheckedByCheckboxRow","isIndeterminateByCheckboxRow","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","setRadioRow","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","sort","clearSort","isSort","getSortColumns","closeFilter","isFilter","isActiveFilterByColumn","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","openTooltip","focus","blur","connect"],gridComponentEmits=__spreadArray$3(__spreadArray$3([],tableEmits,!0),["page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","proxy-query","proxy-delete","proxy-save","toolbar-button-click","toolbar-tool-click","zoom"],!1);const VxeGridComponent=Vue.defineComponent({name:"VxeGrid",props:__assign$c(__assign$c({},tableProps),{columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:function(){return GlobalConfig.grid.size||GlobalConfig.size}}}),emits:gridComponentEmits,setup:function(e,r){var a=r.slots,n=r.emit,l=XEUtils$1.uniqueId(),c=Vue.getCurrentInstance(),s=useSize(e),g=Vue.reactive({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],pendingRecords:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:GlobalConfig.pager.pageSize||10,currentPage:1}}),o=Vue.ref(),d=Vue.ref(),h=Vue.ref(),T=Vue.ref(),U=Vue.ref(),A=Vue.ref(),M=Vue.ref(),L=Vue.ref(),O=Vue.ref(),R=Vue.ref(),E=function(q){var Q={};return q.forEach(function(de){Q[de]=function(){for(var be=[],_=0;_<arguments.length;_++)be[_]=arguments[_];var Y=d.value;if(Y&&Y[de])return Y[de].apply(Y,be)}}),Q},V=E(tableComponentMethodKeys);tableComponentMethodKeys.forEach(function(q){V[q]=function(){for(var Q=[],de=0;de<arguments.length;de++)Q[de]=arguments[de];var be=d.value;if(be&&be[q])return be&&be[q].apply(be,Q)}});var D=Vue.computed(function(){return Object.assign({},GlobalConfig.grid.proxyConfig,e.proxyConfig)}),N=Vue.computed(function(){var q=D.value;return q.message!==!1}),X=Vue.computed(function(){return Object.assign({},GlobalConfig.grid.pagerConfig,e.pagerConfig)}),H=Vue.computed(function(){return Object.assign({},GlobalConfig.grid.formConfig,e.formConfig)}),x=Vue.computed(function(){return Object.assign({},GlobalConfig.grid.toolbarConfig,e.toolbarConfig)}),w=Vue.computed(function(){return Object.assign({},GlobalConfig.grid.zoomConfig,e.zoomConfig)}),P=Vue.computed(function(){return g.isZMax?{zIndex:g.tZindex}:null}),B=Vue.computed(function(){var q={},Q=e;return tableComponentPropKeys.forEach(function(de){q[de]=Q[de]}),q}),ae={refElem:o,refTable:d,refForm:h,refToolbar:T,refPager:U},J={computeProxyOpts:D,computePagerOpts:X,computeFormOpts:H,computeToolbarOpts:x,computeZoomOpts:w},F={xID:l,props:e,context:r,instance:c,reactData:g,getRefMaps:function(){return ae},getComputeMaps:function(){return J}},W={},oe=function(q){var Q=g.pendingRecords,de=e.rowClassName,be=[];return Q.some(function(_){return _===q.row})&&be.push("row--pending"),be.push(de?XEUtils$1.isFunction(de)?de(q):de:""),be},he=function(q){var Q=e.editConfig,de=g.pendingRecords,be=d.value,_=Q?Q.beforeEditMethod||Q.activeMethod:null;return be.findRowIndexOf(de,q.row)===-1?!_||_(__assign$c(__assign$c({},q),{$grid:F})):!1},me=Vue.computed(function(){var q=e.seqConfig,Q=e.pagerConfig,de=e.loading,be=e.editConfig,_=e.proxyConfig,Y=g.isZMax,ee=g.tableLoading,xe=g.tablePage,Ce=g.tableData,Me=B.value,ze=D.value,qe=X.value,Ae=Object.assign({},Me);return Y&&(Me.maxHeight?Ae.maxHeight="auto":Ae.height="auto"),_&&isEnableConf(ze)&&(Ae.loading=de||ee,Ae.data=Ce,Ae.rowClassName=oe,Q&&ze.seq&&isEnableConf(qe)&&(Ae.seqConfig=Object.assign({},q,{startIndex:(xe.currentPage-1)*xe.pageSize}))),be&&(Ae.editConfig=Object.assign({},be,{beforeEditMethod:he})),Ae}),Re=function(){var q=x.value;e.toolbarConfig&&isEnableConf(q)&&Vue.nextTick(function(){var Q=d.value,de=T.value;Q&&de&&Q.connect(de)})},Oe=function(){var q=g.tablePage,Q=e.pagerConfig,de=X.value,be=de.currentPage,_=de.pageSize;Q&&isEnableConf(de)&&(be&&(q.currentPage=be),_&&(q.pageSize=_))},Se=function(q){var Q=g.pendingRecords,de=N.value,be=d.value,_=be.getCheckboxRecords();if(_.length){var Y=[],ee=[];_.forEach(function(xe){Q.some(function(Ce){return xe===Ce})?ee.push(xe):Y.push(xe)}),ee.length?g.pendingRecords=Q.filter(function(xe){return be.findRowIndexOf(ee,xe)===-1}).concat(Y):Y.length&&(g.pendingRecords=Q.concat(Y)),V.clearCheckboxRow()}else de&&VXETable.modal.message({id:q,content:GlobalConfig.i18n("vxe.grid.selectOneRecord"),status:"warning"})},ge=function(q,Q){var de=D.value,be=de.props,_=be===void 0?{}:be,Y;return q&&_.message&&(Y=XEUtils$1.get(q,_.message)),Y||GlobalConfig.i18n(Q)},Be=function(q,Q,de){var be=N.value,_=V.getCheckboxRecords();if(be){if(_.length)return VXETable.modal.confirm({id:"cfm_".concat(q),content:GlobalConfig.i18n(Q),escClosable:!0}).then(function(Y){if(Y==="confirm")return de()});VXETable.modal.message({id:"msg_".concat(q),content:GlobalConfig.i18n("vxe.grid.selectOneRecord"),status:"warning"})}else _.length&&de();return Promise.resolve()},pe=function(q){var Q=e.proxyConfig,de=g.tablePage,be=q.currentPage,_=q.pageSize,Y=D.value;de.currentPage=be,de.pageSize=_,W.dispatchEvent("page-change",q),Q&&isEnableConf(Y)&&W.commitProxy("query").then(function(ee){W.dispatchEvent("proxy-query",ee,q.$event)})},De=function(q){var Q=d.value,de=e.proxyConfig,be=Q.getComputeMaps().computeSortOpts,_=D.value,Y=be.value;Y.remote&&(g.sortData=q.sortList,de&&isEnableConf(_)&&(g.tablePage.currentPage=1,W.commitProxy("query").then(function(ee){W.dispatchEvent("proxy-query",ee,q.$event)}))),W.dispatchEvent("sort-change",q)},_e=function(q){var Q=d.value,de=e.proxyConfig,be=Q.getComputeMaps().computeFilterOpts,_=D.value,Y=be.value;Y.remote&&(g.filterData=q.filterList,de&&isEnableConf(_)&&(g.tablePage.currentPage=1,W.commitProxy("query").then(function(ee){W.dispatchEvent("proxy-query",ee,q.$event)}))),W.dispatchEvent("filter-change",q)},$e=function(q){var Q=e.proxyConfig,de=D.value;Q&&isEnableConf(de)&&W.commitProxy("reload").then(function(be){W.dispatchEvent("proxy-query",__assign$c(__assign$c({},be),{isReload:!0}),q.$event)}),W.dispatchEvent("form-submit",q)},te=function(q){var Q=e.proxyConfig,de=D.value;Q&&isEnableConf(de)&&W.commitProxy("reload").then(function(be){W.dispatchEvent("proxy-query",__assign$c(__assign$c({},be),{isReload:!0}),q.$event)}),W.dispatchEvent("form-reset",q)},ve=function(q){W.dispatchEvent("form-submit-invalid",q)},Ve=function(q){Vue.nextTick(function(){return V.recalculate(!0)}),W.dispatchEvent("form-toggle-collapse",q),W.dispatchEvent("form-collapse",q)},Xe=function(q){var Q=g.isZMax;return(q?!Q:Q)&&(g.isZMax=!Q,g.tZindex<getLastZIndex()&&(g.tZindex=nextZIndex())),Vue.nextTick().then(function(){return V.recalculate(!0)}).then(function(){return g.isZMax})},ye=function(q,Q){var de=q[Q];if(de)if(XEUtils$1.isString(de)){if(a[de])return a[de]}else return de;return null},ne=function(){var q=e.formConfig,Q=e.proxyConfig,de=g.formData,be=D.value,_=H.value,Y=[];if(q&&isEnableConf(_)||a.form){var ee=[];if(a.form)ee=a.form({$grid:F});else if(_.items){var xe={};if(!_.inited){_.inited=!0;var Ce=be.beforeItem;be&&Ce&&_.items.forEach(function(Me){Ce({$grid:F,item:Me})})}_.items.forEach(function(Me){XEUtils$1.each(Me.slots,function(ze){XEUtils$1.isFunction(ze)||a[ze]&&(xe[ze]=a[ze])})}),ee.push(Vue.h(Vue.resolveComponent("vxe-form"),__assign$c(__assign$c({ref:h},Object.assign({},_,{data:Q&&isEnableConf(be)&&be.form?de:_.data})),{onSubmit:$e,onReset:te,onSubmitInvalid:ve,onCollapse:Ve}),xe))}Y.push(Vue.h("div",{ref:A,class:"vxe-grid--form-wrapper"},ee))}return Y},ie=function(){var q=e.toolbarConfig,Q=x.value,de=[];if(q&&isEnableConf(Q)||a.toolbar){var be=[];if(a.toolbar)be=a.toolbar({$grid:F});else{var _=Q.slots,Y=void 0,ee=void 0,xe={};_&&(Y=ye(_,"buttons"),ee=ye(_,"tools"),Y&&(xe.buttons=Y),ee&&(xe.tools=ee)),be.push(Vue.h(Vue.resolveComponent("vxe-toolbar"),__assign$c({ref:T},Q),xe))}de.push(Vue.h("div",{ref:M,class:"vxe-grid--toolbar-wrapper"},be))}return de},Ie=function(){return a.top?[Vue.h("div",{ref:L,class:"vxe-grid--top-wrapper"},a.top({$grid:F}))]:[]},Ge={};tableEmits.forEach(function(q){var Q=XEUtils$1.camelCase("on-".concat(q));Ge[Q]=function(){for(var de=[],be=0;be<arguments.length;be++)de[be]=arguments[be];return n.apply(void 0,__spreadArray$3([q],de,!1))}});var We=function(){var q=e.proxyConfig,Q=me.value,de=D.value,be=Object.assign({},Ge),_=a.empty,Y=a.loading;q&&isEnableConf(de)&&(de.sort&&(be.onSortChange=De),de.filter&&(be.onFilterChange=_e));var ee={};return _&&(ee.empty=function(){return _({})}),Y&&(ee.loading=function(){return Y({})}),[Vue.h(Vue.resolveComponent("vxe-table"),__assign$c(__assign$c({ref:d},Q),be),ee)]},j=function(){return a.bottom?[Vue.h("div",{ref:O,class:"vxe-grid--bottom-wrapper"},a.bottom({$grid:F}))]:[]},K=function(){var q=e.proxyConfig,Q=e.pagerConfig,de=D.value,be=X.value,_=[];if(Q&&isEnableConf(be)||a.pager){var Y=[];if(a.pager)Y=a.pager({$grid:F});else{var ee=be.slots,xe={},Ce=void 0,Me=void 0;ee&&(Ce=ye(ee,"left"),Me=ye(ee,"right"),Ce&&(xe.left=Ce),Me&&(xe.right=Me)),Y.push(Vue.h(Vue.resolveComponent("vxe-pager"),__assign$c(__assign$c(__assign$c({ref:U},be),q&&isEnableConf(de)?g.tablePage:{}),{onPageChange:pe}),xe))}_.push(Vue.h("div",{ref:R,class:"vxe-grid--pager-wrapper"},Y))}return _},ue=function(){var q=e.proxyConfig,Q=e.formConfig,de=g.proxyInited,be=D.value,_=H.value;if(q&&isEnableConf(be)){if(Q&&isEnableConf(_)&&be.form&&_.items){var Y={};_.items.forEach(function(ee){var xe=ee.field,Ce=ee.itemRender;if(xe){var Me=null;if(Ce){var ze=Ce.defaultValue;XEUtils$1.isFunction(ze)?Me=ze({item:ee}):XEUtils$1.isUndefined(ze)||(Me=ze)}Y[xe]=Me}}),g.formData=Y}de||(g.proxyInited=!0,be.autoLoad!==!1&&Vue.nextTick().then(function(){return W.commitProxy("_init")}).then(function(ee){W.dispatchEvent("proxy-query",__assign$c(__assign$c({},ee),{isInited:!0}),new Event("init"))}))}};W={dispatchEvent:function(q,Q,de){n(q,Object.assign({$grid:F,$event:de},Q))},commitProxy:function(q){for(var Q=[],de=1;de<arguments.length;de++)Q[de-1]=arguments[de];var be=e.toolbarConfig,_=e.pagerConfig,Y=e.editRules,ee=g.tablePage,xe=g.formData,Ce=N.value,Me=D.value,ze=X.value,qe=x.value,Ae=Me.beforeQuery,je=Me.afterQuery,Ye=Me.beforeDelete,S=Me.afterDelete,nt=Me.beforeSave,dt=Me.afterSave,st=Me.ajax,et=st===void 0?{}:st,tt=Me.props,ft=tt===void 0?{}:tt,Ke=d.value,ot=null,ut=null;if(XEUtils$1.isString(q)){var Et=qe.buttons,St=be&&isEnableConf(qe)&&Et?XEUtils$1.findTree(Et,function(bt){return bt.code===q},{children:"dropdowns"}):null;ot=St?St.item:null,ut=q}else ot=q,ut=ot.code;var Dt=ot?ot.params:null;switch(ut){case"insert":return Ke.insert({});case"insert_actived":return Ke.insert({}).then(function(bt){var ht=bt.row;return Ke.setEditRow(ht)});case"mark_cancel":Se(ut);break;case"remove":return Be(ut,"vxe.grid.removeSelectRecord",function(){return Ke.removeCheckboxRow()});case"import":Ke.importData(Dt);break;case"open_import":Ke.openImport(Dt);break;case"export":Ke.exportData(Dt);break;case"open_export":Ke.openExport(Dt);break;case"reset_custom":return Ke.resetColumn(!0);case"_init":case"reload":case"query":{var Pt=et.query;if(Pt){var Rt=ut==="_init",kt=ut==="reload",$t=[],wt=[],qt={};if(_&&((Rt||kt)&&(ee.currentPage=1),isEnableConf(ze)&&(qt=__assign$c({},ee))),Rt){var Mt=Ke.getComputeMaps().computeSortOpts,Yt=Mt.value,mt=Yt.defaultSort;mt&&(XEUtils$1.isArray(mt)||(mt=[mt]),$t=mt.map(function(bt){return{field:bt.field,property:bt.field,order:bt.order}})),wt=Ke.getCheckedFilters()}else kt?(g.pendingRecords=[],Ke.clearAll()):($t=Ke.getSortColumns(),wt=Ke.getCheckedFilters());var Vt={code:ut,button:ot,isInited:Rt,isReload:kt,$grid:F,page:qt,sort:$t.length?$t[0]:{},sorts:$t,filters:wt,form:xe,options:Pt};g.sortData=$t,g.filterData=wt,g.tableLoading=!0;var Wt=[Vt].concat(Q);return Promise.resolve((Ae||Pt).apply(void 0,Wt)).then(function(bt){if(g.tableLoading=!1,bt)if(_&&isEnableConf(ze)){var ht=XEUtils$1.get(bt,ft.total||"page.total")||0;ee.total=XEUtils$1.toNumber(ht),g.tableData=XEUtils$1.get(bt,ft.result||"result")||[];var xt=Math.max(Math.ceil(ht/ee.pageSize),1);ee.currentPage>xt&&(ee.currentPage=xt)}else g.tableData=(ft.list?XEUtils$1.get(bt,ft.list):bt)||[];else g.tableData=[];return je&&je.apply(void 0,Wt),{status:!0}}).catch(function(){return g.tableLoading=!1,{status:!1}})}break}case"delete":{var Kt=et.delete;if(Kt){var Zt=V.getCheckboxRecords(),At=Zt.filter(function(ht){return!Ke.isInsertByRow(ht)}),ar={removeRecords:At},Vt={$grid:F,code:ut,button:ot,body:ar,options:Kt},fr=[Vt].concat(Q);if(Zt.length)return Be(ut,"vxe.grid.deleteSelectRecord",function(){return At.length?(g.tableLoading=!0,Promise.resolve((Ye||Kt).apply(void 0,fr)).then(function(ht){return g.tableLoading=!1,g.pendingRecords=g.pendingRecords.filter(function(xt){return Ke.findRowIndexOf(At,xt)===-1}),Ce&&VXETable.modal.message({content:ge(ht,"vxe.grid.delSuccess"),status:"success"}),S?S.apply(void 0,fr):W.commitProxy("query"),{status:!0}}).catch(function(ht){return g.tableLoading=!1,Ce&&VXETable.modal.message({id:ut,content:ge(ht,"vxe.grid.operError"),status:"error"}),{status:!1}})):Ke.remove(Zt)});Ce&&VXETable.modal.message({id:ut,content:GlobalConfig.i18n("vxe.grid.selectOneRecord"),status:"warning"})}break}case"save":{var Nt=et.save;if(Nt){var yt=Object.assign({pendingRecords:g.pendingRecords},Ke.getRecordset()),Ct=yt.insertRecords,Jt=yt.removeRecords,nr=yt.updateRecords,or=yt.pendingRecords,Vt={$grid:F,code:ut,button:ot,body:yt,options:Nt},ur=[Vt].concat(Q);Ct.length&&(yt.pendingRecords=or.filter(function(ht){return Ke.findRowIndexOf(Ct,ht)===-1})),or.length&&(yt.insertRecords=Ct.filter(function(ht){return Ke.findRowIndexOf(or,ht)===-1}));var Lt=Promise.resolve();return Y&&(Lt=Ke.validate(yt.insertRecords.concat(nr))),Lt.then(function(ht){if(!ht){if(yt.insertRecords.length||Jt.length||nr.length||yt.pendingRecords.length)return g.tableLoading=!0,Promise.resolve((nt||Nt).apply(void 0,ur)).then(function(xt){return g.tableLoading=!1,g.pendingRecords=[],Ce&&VXETable.modal.message({content:ge(xt,"vxe.grid.saveSuccess"),status:"success"}),dt?dt.apply(void 0,ur):W.commitProxy("query"),{status:!0}}).catch(function(xt){return g.tableLoading=!1,Ce&&VXETable.modal.message({id:ut,content:ge(xt,"vxe.grid.operError"),status:"error"}),{status:!1}});Ce&&VXETable.modal.message({id:ut,content:GlobalConfig.i18n("vxe.grid.dataUnchanged"),status:"info"})}})}break}default:{var Xt=VXETable.commands.get(ut);Xt&&Xt.commandMethod&&Xt.commandMethod.apply(Xt,__spreadArray$3([{code:ut,button:ot,$grid:F,$table:Ke}],Q,!1))}}return Vue.nextTick()},zoom:function(){return g.isZMax?W.revert():W.maximize()},isMaximized:function(){return g.isZMax},maximize:function(){return Xe(!0)},revert:function(){return Xe()},getFormItems:function(q){var Q=H.value,de=e.formConfig,be=Q.items,_=[];return XEUtils$1.eachTree(de&&isEnableConf(Q)&&be?be:[],function(Y){_.push(Y)},{children:"children"}),XEUtils$1.isUndefined(q)?_:_[q]},getPendingRecords:function(){return g.pendingRecords},getProxyInfo:function(){if(e.proxyConfig){var q=g.sortData;return{data:g.tableData,filter:g.filterData,form:g.formData,sort:q.length?q[0]:{},sorts:q,pager:g.tablePage,pendingRecords:g.pendingRecords}}return null}};var ce={extendTableMethods:E,callSlot:function(q,Q){return q&&(XEUtils$1.isString(q)&&(q=a[q]||null),XEUtils$1.isFunction(q))?getSlotVNs(q(Q)):[]},getExcludeHeight:function(){var q=e.height,Q=g.isZMax,de=o.value,be=A.value,_=M.value,Y=L.value,ee=O.value,xe=R.value,Ce=Q||q!=="auto"?0:getPaddingTopBottomSize(de.parentNode);return Ce+getPaddingTopBottomSize(de)+getOffsetHeight(be)+getOffsetHeight(_)+getOffsetHeight(Y)+getOffsetHeight(ee)+getOffsetHeight(xe)},getParentHeight:function(){var q=o.value;return q?(g.isZMax?getDomNode().visibleHeight:XEUtils$1.toNumber(getComputedStyle(q.parentNode).height))-ce.getExcludeHeight():0},triggerToolbarCommitEvent:function(q,Q){var de=q.code;return W.commitProxy(q,Q).then(function(be){de&&be&&be.status&&["query","reload","delete","save"].includes(de)&&W.dispatchEvent(de==="delete"||de==="save"?"proxy-".concat(de):"proxy-query",__assign$c(__assign$c({},be),{isReload:de==="reload"}),Q)})},triggerToolbarBtnEvent:function(q,Q){ce.triggerToolbarCommitEvent(q,Q),W.dispatchEvent("toolbar-button-click",{code:q.code,button:q},Q)},triggerToolbarTolEvent:function(q,Q){ce.triggerToolbarCommitEvent(q,Q),W.dispatchEvent("toolbar-tool-click",{code:q.code,tool:q,$event:Q})},triggerZoomEvent:function(q){W.zoom(),W.dispatchEvent("zoom",{type:g.isZMax?"max":"revert"},q)}};Object.assign(F,V,W,ce);var we=Vue.ref(0);Vue.watch(function(){return e.columns?e.columns.length:-1},function(){we.value++}),Vue.watch(function(){return e.columns},function(){we.value++}),Vue.watch(we,function(){Vue.nextTick(function(){return F.loadColumn(e.columns||[])})}),Vue.watch(function(){return e.toolbarConfig},function(){Re()}),Vue.watch(function(){return e.pagerConfig},function(){Oe()}),Vue.watch(function(){return e.proxyConfig},function(){ue()});var Le=function(q){var Q=w.value,de=hasEventKey(q,EVENT_KEYS.ESCAPE);de&&g.isZMax&&Q.escRestore!==!1&&ce.triggerZoomEvent(q)};VXETable.hooks.forEach(function(q){var Q=q.setupGrid;if(Q){var de=Q(F);de&&XEUtils$1.isObject(de)&&Object.assign(F,de)}}),Oe(),Vue.onMounted(function(){Vue.nextTick(function(){var q=e.data,Q=e.columns,de=e.proxyConfig,be=D.value,_=H.value;isEnableConf(de)&&(q||be.form&&_.data)&&errLog("vxe.error.errConflicts",["grid.data","grid.proxy-config"]),Q&&Q.length&&F.loadColumn(Q),Re()}),GlobalEvent.on(F,"keydown",Le)}),Vue.onUnmounted(function(){GlobalEvent.off(F,"keydown")}),Vue.nextTick(function(){ue()});var Pe=function(){var q,Q=s.value,de=P.value;return Vue.h("div",{ref:o,class:["vxe-grid",(q={},q["size--".concat(Q)]=Q,q["is--animat"]=!!e.animat,q["is--round"]=e.round,q["is--maximize"]=g.isZMax,q["is--loading"]=e.loading||g.tableLoading,q)],style:de},ne().concat(ie(),Ie(),We(),j(),K()))};return F.renderVN=Pe,Vue.provide("$xegrid",F),F},render:function(){return this.renderVN()}});Object.assign(VxeGridComponent,{install:function(e){e.component(VxeGridComponent.name,VxeGridComponent)}});dynamicApp.component(VxeGridComponent.name,VxeGridComponent);var __assign$b=globalThis&&globalThis.__assign||function(){return __assign$b=Object.assign||function(e){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},__assign$b.apply(this,arguments)};const VxeToolbarComponent=Vue.defineComponent({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],import:[Boolean,Object],export:[Boolean,Object],print:[Boolean,Object],zoom:[Boolean,Object],custom:[Boolean,Object],buttons:{type:Array,default:function(){return GlobalConfig.toolbar.buttons}},tools:{type:Array,default:function(){return GlobalConfig.toolbar.tools}},perfect:{type:Boolean,default:function(){return GlobalConfig.toolbar.perfect}},size:{type:String,default:function(){return GlobalConfig.toolbar.size||GlobalConfig.size}},className:[String,Function]},emits:["button-click","tool-click"],setup:function(e,r){var a=r.slots,n=r.emit,l=XEUtils$1.uniqueId(),c=useSize(e),s=Vue.reactive({isRefresh:!1,columns:[]}),g=Vue.ref(),o=Vue.ref(),d=Vue.reactive({isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1}),h={refElem:g},T={xID:l,props:e,context:r,reactData:s,getRefMaps:function(){return h}},U={},A=Vue.inject("$xegrid",null),M,L=Vue.computed(function(){return Object.assign({},GlobalConfig.toolbar.refresh,e.refresh)}),O=Vue.computed(function(){return Object.assign({},GlobalConfig.toolbar.import,e.import)}),R=Vue.computed(function(){return Object.assign({},GlobalConfig.toolbar.export,e.export)}),E=Vue.computed(function(){return Object.assign({},GlobalConfig.toolbar.print,e.print)}),V=Vue.computed(function(){return Object.assign({},GlobalConfig.toolbar.zoom,e.zoom)}),D=Vue.computed(function(){return Object.assign({},GlobalConfig.toolbar.custom,e.custom)}),N=function(){if(M)return!0;errLog("vxe.error.barUnableLink")},X=function(){var j=s.columns,K=M.getComputeMaps().computeCustomOpts,ue=K.value,ce=ue.checkMethod;d.isAll=j.every(function(we){return(ce?!ce({column:we}):!1)||we.visible}),d.isIndeterminate=!d.isAll&&j.some(function(we){return(!ce||ce({column:we}))&&(we.visible||we.halfVisible)})},H=function(){d.visible=!0,X()},x=function(){M.handleCustom()},w=function(){var j=e.custom,K=D.value;d.visible&&(d.visible=!1,j&&!K.immediate&&x())},P=function(j,K){var ue=A||M;ue.dispatchEvent("custom",{type:j},K)},B=function(j){w(),P("confirm",j)},ae=function(j){N()&&(d.visible||(H(),P("open",j)))},J=function(j){d.visible&&(w(),P("close",j))},F=function(j){M.resetColumn(!0),w(),P("reset",j)},W=function(j){var K=s.columns,ue=XEUtils$1.findTree(K,function(we){return we===j});if(ue&&ue.parent){var ce=ue.parent;ce.children&&ce.children.length&&(ce.visible=ce.children.every(function(we){return we.visible}),ce.halfVisible=!ce.visible&&ce.children.some(function(we){return we.visible||we.halfVisible}),W(ce))}},oe=function(j){var K=!j.visible,ue=D.value;XEUtils$1.eachTree([j],function(ce){ce.visible=K,ce.halfVisible=!1}),W(j),e.custom&&ue.immediate&&x(),X()},he=function(j,K){var ue=M.getComputeMaps().computeIsMaxFixedColumn,ce=ue.value;j.fixed===K?M.clearColumnFixed(j):(!ce||j.fixed)&&M.setColumnFixed(j,K)},me=function(){var j=s.columns,K=M.getComputeMaps().computeCustomOpts,ue=K.value,ce=ue.checkMethod,we=!d.isAll;XEUtils$1.eachTree(j,function(Le){(!ce||ce({column:Le}))&&(Le.visible=we,Le.halfVisible=!1)}),d.isAll=we,X()},Re=function(j){var K=o.value;getEventTargetNode(j,K).flag||J(j)},Oe=function(j){J(j)},Se=function(j){d.visible?J(j):ae(j)},ge=function(j){d.activeBtn=!0,ae(j)},Be=function(j){d.activeBtn=!1,setTimeout(function(){!d.activeBtn&&!d.activeWrapper&&J(j)},300)},pe=function(j){d.activeWrapper=!0,ae(j)},De=function(j){d.activeWrapper=!1,setTimeout(function(){!d.activeBtn&&!d.activeWrapper&&J(j)},300)},_e=function(j){var K=s.isRefresh,ue=L.value;if(!K){var ce=ue.queryMethod||ue.query;if(ce){s.isRefresh=!0;try{Promise.resolve(ce({})).catch(function(we){return we}).then(function(){s.isRefresh=!1})}catch{s.isRefresh=!1}}else A&&(s.isRefresh=!0,A.triggerToolbarCommitEvent({code:ue.code||"reload"},j).catch(function(we){return we}).then(function(){s.isRefresh=!1}))}},$e=function(j){A&&A.triggerZoomEvent(j)},te=function(j,K){var ue=K.code;if(ue)if(A)A.triggerToolbarBtnEvent(K,j);else{var ce=VXETable.commands.get(ue),we={code:ue,button:K,$table:M,$grid:A,$event:j};ce&&ce.commandMethod&&ce.commandMethod(we),T.dispatchEvent("button-click",we,j)}},ve=function(j,K){var ue=K.code;if(ue)if(A)A.triggerToolbarTolEvent(K,j);else{var ce=VXETable.commands.get(ue),we={code:ue,tool:K,$table:M,$grid:A,$event:j};ce&&ce.commandMethod&&ce.commandMethod(we),T.dispatchEvent("tool-click",we,j)}},Ve=function(){N()&&M.openImport()},Xe=function(){N()&&M.openExport()},ye=function(){N()&&M.openPrint()},ne=function(j,K){var ue=j.dropdowns,ce=[];return ue?ue.map(function(we,Le){return we.visible===!1?Vue.createCommentVNode():Vue.h(Vue.resolveComponent("vxe-button"),{key:Le,disabled:we.disabled,loading:we.loading,type:we.type,icon:we.icon,circle:we.circle,round:we.round,status:we.status,content:we.name,onClick:function(Pe){return K?te(Pe,we):ve(Pe,we)}})}):ce},ie=function(){var j=e.buttons,K=a.buttons;if(K)return getSlotVNs(K({$grid:A,$table:M}));var ue=[];return j&&j.forEach(function(ce){var we=ce.dropdowns,Le=ce.buttonRender;if(ce.visible!==!1){var Pe=Le?VXETable.renderer.get(Le.name):null;if(Le&&Pe&&Pe.renderToolbarButton){var q=Pe.toolbarButtonClassName,Q={$grid:A,$table:M,button:ce};ue.push(Vue.h("span",{class:["vxe-button--item",q?XEUtils$1.isFunction(q)?q(Q):q:""]},getSlotVNs(Pe.renderToolbarButton(Le,Q))))}else ue.push(Vue.h(Vue.resolveComponent("vxe-button"),{disabled:ce.disabled,loading:ce.loading,type:ce.type,icon:ce.icon,circle:ce.circle,round:ce.round,status:ce.status,content:ce.name,destroyOnClose:ce.destroyOnClose,placement:ce.placement,transfer:ce.transfer,onClick:function(de){return te(de,ce)}},we&&we.length?{dropdowns:function(){return ne(ce,!0)}}:{}))}}),ue},Ie=function(){var j=e.tools,K=a.tools;if(K)return getSlotVNs(K({$grid:A,$table:M}));var ue=[];return j&&j.forEach(function(ce){var we=ce.dropdowns,Le=ce.toolRender;if(ce.visible!==!1){var Pe=Le?VXETable.renderer.get(Le.name):null;if(Le&&Pe&&Pe.renderToolbarTool){var q=Pe.toolbarToolClassName,Q={$grid:A,$table:M,tool:ce};ue.push(Vue.h("span",{class:["vxe-tool--item",q?XEUtils$1.isFunction(q)?q(Q):q:""]},getSlotVNs(Pe.renderToolbarTool(Le,Q))))}else ue.push(Vue.h(Vue.resolveComponent("vxe-button"),{disabled:ce.disabled,loading:ce.loading,type:ce.type,icon:ce.icon,circle:ce.circle,round:ce.round,status:ce.status,content:ce.name,destroyOnClose:ce.destroyOnClose,placement:ce.placement,transfer:ce.transfer,onClick:function(de){return ve(de,ce)}},we&&we.length?{dropdowns:function(){return ne(ce,!1)}}:{}))}}),ue},Ge=function(){var j=s.columns,K=D.value,ue=!0,ce=[],we={},Le={},Pe;if(M){var q=M.getComputeMaps(),Q=q.computeCustomOpts,de=q.computeIsMaxFixedColumn,be=Q.value;Pe=be.checkMethod,ue=de.value}K.trigger==="manual"||(K.trigger==="hover"?(we.onMouseenter=ge,we.onMouseleave=Be,Le.onMouseenter=pe,Le.onMouseleave=De):we.onClick=Se),XEUtils$1.eachTree(j,function(ee,xe,Ce,Me,ze){var qe=formatText(ee.getTitle(),1),Ae=ee.getKey(),je=ee.children&&ee.children.length,Ye=Pe?!Pe({column:ee}):!1;if(je||Ae){var S=ee.visible,nt=ee.halfVisible;ce.push(Vue.h("li",{class:["vxe-custom--option","level--".concat(ee.level),{"is--group":je}]},[Vue.h("div",{title:qe,class:["vxe-custom--checkbox-option",{"is--checked":S,"is--indeterminate":nt,"is--disabled":Ye}],onClick:function(){Ye||oe(ee)}},[Vue.h("span",{class:["vxe-checkbox--icon",nt?GlobalConfig.icon.TABLE_CHECKBOX_INDETERMINATE:S?GlobalConfig.icon.TABLE_CHECKBOX_CHECKED:GlobalConfig.icon.TABLE_CHECKBOX_UNCHECKED]}),Vue.h("span",{class:"vxe-checkbox--label"},qe)]),!ze&&K.allowFixed?Vue.h("div",{class:"vxe-custom--fixed-option"},[Vue.h("span",{class:["vxe-custom--fixed-left-option",ee.fixed==="left"?GlobalConfig.icon.TOOLBAR_TOOLS_FIXED_LEFT_ACTIVED:GlobalConfig.icon.TOOLBAR_TOOLS_FIXED_LEFT,{"is--checked":ee.fixed==="left","is--disabled":ue&&!ee.fixed}],title:GlobalConfig.i18n(ee.fixed==="left"?"vxe.toolbar.cancelfixed":"vxe.toolbar.fixedLeft"),onClick:function(){he(ee,"left")}}),Vue.h("span",{class:["vxe-custom--fixed-right-option",ee.fixed==="right"?GlobalConfig.icon.TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVED:GlobalConfig.icon.TOOLBAR_TOOLS_FIXED_RIGHT,{"is--checked":ee.fixed==="right","is--disabled":ue&&!ee.fixed}],title:GlobalConfig.i18n(ee.fixed==="right"?"vxe.toolbar.cancelfixed":"vxe.toolbar.fixedRight"),onClick:function(){he(ee,"right")}})]):null]))}});var _=d.isAll,Y=d.isIndeterminate;return Vue.h("div",{class:["vxe-custom--wrapper",{"is--active":d.visible}],ref:o},[Vue.h(Vue.resolveComponent("vxe-button"),__assign$b({circle:!0,icon:K.icon||GlobalConfig.icon.TOOLBAR_TOOLS_CUSTOM,title:GlobalConfig.i18n("vxe.toolbar.custom")},we)),Vue.h("div",{class:"vxe-custom--option-wrapper"},[Vue.h("ul",{class:"vxe-custom--header"},[Vue.h("li",{class:"vxe-custom--option"},[Vue.h("div",{class:["vxe-custom--checkbox-option",{"is--checked":_,"is--indeterminate":Y}],title:GlobalConfig.i18n("vxe.table.allTitle"),onClick:me},[Vue.h("span",{class:["vxe-checkbox--icon",Y?GlobalConfig.icon.TABLE_CHECKBOX_INDETERMINATE:_?GlobalConfig.icon.TABLE_CHECKBOX_CHECKED:GlobalConfig.icon.TABLE_CHECKBOX_UNCHECKED]}),Vue.h("span",{class:"vxe-checkbox--label"},GlobalConfig.i18n("vxe.toolbar.customAll"))])])]),Vue.h("ul",__assign$b({class:"vxe-custom--body"},Le),ce),K.showFooter||K.isFooter?Vue.h("div",{class:"vxe-custom--footer"},[Vue.h("button",{class:"btn--reset",onClick:F},K.resetButtonText||GlobalConfig.i18n("vxe.toolbar.customRestore")),Vue.h("button",{class:"btn--confirm",onClick:B},K.confirmButtonText||GlobalConfig.i18n("vxe.toolbar.customConfirm"))]):null])])};U={dispatchEvent:function(j,K,ue){n(j,Object.assign({$toolbar:T,$event:ue},K))},syncUpdate:function(j){var K=j.collectColumn;M=j.$table,s.columns=K}},Object.assign(T,U),Vue.onMounted(function(){GlobalEvent.on(T,"mousedown",Re),GlobalEvent.on(T,"blur",Oe)}),Vue.onUnmounted(function(){GlobalEvent.off(T,"mousedown"),GlobalEvent.off(T,"blur")}),Vue.nextTick(function(){var j=e.refresh,K=L.value,ue=K.queryMethod||K.query;j&&!A&&!ue&&warnLog("vxe.error.notFunc",["queryMethod"]),D.value});var We=function(){var j,K=e.perfect,ue=e.loading,ce=e.refresh,we=e.zoom,Le=e.custom,Pe=e.className,q=c.value,Q=L.value,de=O.value,be=R.value,_=E.value,Y=V.value;return Vue.h("div",{ref:g,class:["vxe-toolbar",Pe?XEUtils$1.isFunction(Pe)?Pe({$toolbar:T}):Pe:"",(j={},j["size--".concat(q)]=q,j["is--perfect"]=K,j["is--loading"]=ue,j)]},[Vue.h("div",{class:"vxe-buttons--wrapper"},ie()),Vue.h("div",{class:"vxe-tools--wrapper"},Ie()),Vue.h("div",{class:"vxe-tools--operate"},[e.import?Vue.h(Vue.resolveComponent("vxe-button"),{circle:!0,icon:de.icon||GlobalConfig.icon.TOOLBAR_TOOLS_IMPORT,title:GlobalConfig.i18n("vxe.toolbar.import"),onClick:Ve}):Vue.createCommentVNode(),e.export?Vue.h(Vue.resolveComponent("vxe-button"),{circle:!0,icon:be.icon||GlobalConfig.icon.TOOLBAR_TOOLS_EXPORT,title:GlobalConfig.i18n("vxe.toolbar.export"),onClick:Xe}):Vue.createCommentVNode(),e.print?Vue.h(Vue.resolveComponent("vxe-button"),{circle:!0,icon:_.icon||GlobalConfig.icon.TOOLBAR_TOOLS_PRINT,title:GlobalConfig.i18n("vxe.toolbar.print"),onClick:ye}):Vue.createCommentVNode(),ce?Vue.h(Vue.resolveComponent("vxe-button"),{circle:!0,icon:s.isRefresh?Q.iconLoading||GlobalConfig.icon.TOOLBAR_TOOLS_REFRESH_LOADING:Q.icon||GlobalConfig.icon.TOOLBAR_TOOLS_REFRESH,title:GlobalConfig.i18n("vxe.toolbar.refresh"),onClick:_e}):Vue.createCommentVNode(),we&&A?Vue.h(Vue.resolveComponent("vxe-button"),{circle:!0,icon:A.isMaximized()?Y.iconOut||GlobalConfig.icon.TOOLBAR_TOOLS_MINIMIZE:Y.iconIn||GlobalConfig.icon.TOOLBAR_TOOLS_FULLSCREEN,title:GlobalConfig.i18n("vxe.toolbar.zoom".concat(A.isMaximized()?"Out":"In")),onClick:$e}):Vue.createCommentVNode(),Le?Ge():Vue.createCommentVNode()])])};return T.renderVN=We,T},render:function(){return this.renderVN()}});var VxeToolbar=Object.assign(VxeToolbarComponent,{install:function(e){e.component(VxeToolbarComponent.name,VxeToolbarComponent)}}),Toolbar=VxeToolbar;dynamicApp.component(VxeToolbarComponent.name,VxeToolbarComponent);var __assign$a=globalThis&&globalThis.__assign||function(){return __assign$a=Object.assign||function(e){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},__assign$a.apply(this,arguments)};const VxePagerComponent=Vue.defineComponent({name:"VxePager",props:{size:{type:String,default:function(){return GlobalConfig.pager.size||GlobalConfig.size}},layouts:{type:Array,default:function(){return GlobalConfig.pager.layouts||["PrevJump","PrevPage","Jump","PageCount","NextPage","NextJump","Sizes","Total"]}},currentPage:{type:Number,default:1},loading:Boolean,pageSize:{type:Number,default:function(){return GlobalConfig.pager.pageSize||10}},total:{type:Number,default:0},pagerCount:{type:Number,default:function(){return GlobalConfig.pager.pagerCount||7}},pageSizes:{type:Array,default:function(){return GlobalConfig.pager.pageSizes||[10,15,20,50,100]}},align:{type:String,default:function(){return GlobalConfig.pager.align}},border:{type:Boolean,default:function(){return GlobalConfig.pager.border}},background:{type:Boolean,default:function(){return GlobalConfig.pager.background}},perfect:{type:Boolean,default:function(){return GlobalConfig.pager.perfect}},autoHidden:{type:Boolean,default:function(){return GlobalConfig.pager.autoHidden}},transfer:{type:Boolean,default:function(){return GlobalConfig.pager.transfer}},className:[String,Function],iconPrevPage:String,iconJumpPrev:String,iconJumpNext:String,iconNextPage:String,iconJumpMore:String},emits:["update:pageSize","update:currentPage","page-change"],setup:function(e,r){var a=r.slots,n=r.emit,l=XEUtils$1.uniqueId(),c=useSize(e),s=Vue.inject("$xegrid",null),g=Vue.reactive({inpCurrPage:e.currentPage}),o=Vue.ref(),d={refElem:o},h={xID:l,props:e,context:r,getRefMaps:function(){return d}},T={},U={},A=function(pe,De){return Math.max(Math.ceil(pe/De),1)},M=Vue.computed(function(){return A(e.total,e.pageSize)}),L=function(pe,De){n("update:currentPage",De),pe&&De!==e.currentPage&&T.dispatchEvent("page-change",{type:"current",pageSize:e.pageSize,currentPage:De},pe)},O=function(pe,De){n("update:currentPage",pe),De&&pe!==e.currentPage&&T.dispatchEvent("page-change",{type:"current",pageSize:e.pageSize,currentPage:pe},De)},R=function(pe){var De=pe.target,_e=XEUtils$1.toInteger(De.value),$e=M.value,te=_e<=0?1:_e>=$e?$e:_e,ve=XEUtils$1.toValueString(te);De.value=ve,g.inpCurrPage=ve,O(te,pe)},E=Vue.computed(function(){for(var pe=e.pagerCount,De=M.value,_e=De>pe?pe-2:pe,$e=[],te=0;te<_e;te++)$e.push(te);return $e}),V=Vue.computed(function(){return Math.floor((e.pagerCount-2)/2)}),D=Vue.computed(function(){return e.pageSizes.map(function(pe){return XEUtils$1.isNumber(pe)?{value:pe,label:"".concat(GlobalConfig.i18n("vxe.pager.pagesize",[pe]))}:__assign$a({value:"",label:""},pe)})}),N=function(pe){var De=e.currentPage,_e=M.value;De>1&&O(Math.min(_e,Math.max(De-1,1)),pe)},X=function(pe){var De=e.currentPage,_e=M.value;De<_e&&O(Math.min(_e,De+1),pe)},H=function(pe){var De=E.value;O(Math.max(e.currentPage-De.length,1),pe)},x=function(pe){var De=M.value,_e=E.value;O(Math.min(e.currentPage+_e.length,De),pe)},w=function(pe){var De=pe.value,_e=XEUtils$1.toNumber(De),$e=A(e.total,_e),te=e.currentPage;te>$e&&(te=$e,n("update:currentPage",$e)),n("update:pageSize",_e),T.dispatchEvent("page-change",{type:"size",pageSize:_e,currentPage:te})},P=function(pe){var De=pe.target;g.inpCurrPage=De.value},B=function(pe){hasEventKey(pe,EVENT_KEYS.ENTER)?R(pe):hasEventKey(pe,EVENT_KEYS.ARROW_UP)?(pe.preventDefault(),X(pe)):hasEventKey(pe,EVENT_KEYS.ARROW_DOWN)&&(pe.preventDefault(),N(pe))},ae=function(){return Vue.h("button",{class:["vxe-pager--prev-btn",{"is--disabled":e.currentPage<=1}],type:"button",title:GlobalConfig.i18n("vxe.pager.prevPage"),onClick:N},[Vue.h("i",{class:["vxe-pager--btn-icon",e.iconPrevPage||GlobalConfig.icon.PAGER_PREV_PAGE]})])},J=function(pe){return Vue.h(pe||"button",{class:["vxe-pager--jump-prev",{"is--fixed":!pe,"is--disabled":e.currentPage<=1}],type:"button",title:GlobalConfig.i18n("vxe.pager.prevJump"),onClick:H},[pe?Vue.h("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||GlobalConfig.icon.PAGER_JUMP_MORE]}):null,Vue.h("i",{class:["vxe-pager--jump-icon",e.iconJumpPrev||GlobalConfig.icon.PAGER_JUMP_PREV]})])},F=function(pe){var De=M.value;return Vue.h(pe||"button",{class:["vxe-pager--jump-next",{"is--fixed":!pe,"is--disabled":e.currentPage>=De}],type:"button",title:GlobalConfig.i18n("vxe.pager.nextJump"),onClick:x},[pe?Vue.h("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||GlobalConfig.icon.PAGER_JUMP_MORE]}):null,Vue.h("i",{class:["vxe-pager--jump-icon",e.iconJumpNext||GlobalConfig.icon.PAGER_JUMP_NEXT]})])},W=function(){var pe=M.value;return Vue.h("button",{class:["vxe-pager--next-btn",{"is--disabled":e.currentPage>=pe}],type:"button",title:GlobalConfig.i18n("vxe.pager.nextPage"),onClick:X},[Vue.h("i",{class:["vxe-pager--btn-icon",e.iconNextPage||GlobalConfig.icon.PAGER_NEXT_PAGE]})])},oe=function(pe){var De=e.currentPage,_e=e.pagerCount,$e=[],te=M.value,ve=E.value,Ve=V.value,Xe=te>_e,ye=Xe&&De>Ve+1,ne=Xe&&De<te-Ve,ie=1;return Xe&&(De>=te-Ve?ie=Math.max(te-ve.length+1,1):ie=Math.max(De-Ve,1)),pe&&ye&&$e.push(Vue.h("button",{class:"vxe-pager--num-btn",type:"button",onClick:function(Ie){return L(Ie,1)}},1),J("span")),ve.forEach(function(Ie,Ge){var We=ie+Ge;We<=te&&$e.push(Vue.h("button",{key:We,class:["vxe-pager--num-btn",{"is--active":De===We}],type:"button",onClick:function(j){return L(j,We)}},We))}),pe&&ne&&$e.push(F("button"),Vue.h("button",{class:"vxe-pager--num-btn",type:"button",onClick:function(Ie){return L(Ie,te)}},te)),Vue.h("span",{class:"vxe-pager--btn-wrapper"},$e)},he=function(){return oe(!0)},me=function(){var pe=D.value;return Vue.h(Vue.resolveComponent("vxe-select"),{class:"vxe-pager--sizes",modelValue:e.pageSize,placement:"top",transfer:e.transfer,options:pe,onChange:w})},Re=function(pe){return Vue.h("span",{class:"vxe-pager--jump"},[pe?Vue.h("span",{class:"vxe-pager--goto-text"},GlobalConfig.i18n("vxe.pager.goto")):null,Vue.h("input",{class:"vxe-pager--goto",value:g.inpCurrPage,type:"text",autocomplete:"off",onInput:P,onKeydown:B,onBlur:R}),pe?Vue.h("span",{class:"vxe-pager--classifier-text"},GlobalConfig.i18n("vxe.pager.pageClassifier")):null])},Oe=function(){return Re(!0)},Se=function(){var pe=M.value;return Vue.h("span",{class:"vxe-pager--count"},[Vue.h("span",{class:"vxe-pager--separator"}),Vue.h("span",pe)])},ge=function(){return Vue.h("span",{class:"vxe-pager--total"},GlobalConfig.i18n("vxe.pager.total",[e.total]))};T={dispatchEvent:function(pe,De,_e){n(pe,Object.assign({$pager:h,$event:_e},De))},prevPage:function(){return N(),Vue.nextTick()},nextPage:function(){return X(),Vue.nextTick()},prevJump:function(){return H(),Vue.nextTick()},nextJump:function(){return x(),Vue.nextTick()}},U={handlePrevPage:N,handleNextPage:X,handlePrevJump:H,handleNextJump:x},Object.assign(h,T,U),Vue.watch(function(){return e.currentPage},function(pe){g.inpCurrPage=pe});var Be=function(){var pe,De=e.align,_e=e.layouts,$e=e.className,te=[],ve=c.value,Ve=M.value;return a.left&&te.push(Vue.h("span",{class:"vxe-pager--left-wrapper"},a.left({$grid:s}))),_e.forEach(function(Xe){var ye;switch(Xe){case"PrevPage":ye=ae;break;case"PrevJump":ye=J;break;case"Number":ye=oe;break;case"JumpNumber":ye=he;break;case"NextJump":ye=F;break;case"NextPage":ye=W;break;case"Sizes":ye=me;break;case"FullJump":ye=Oe;break;case"Jump":ye=Re;break;case"PageCount":ye=Se;break;case"Total":ye=ge;break}ye&&te.push(ye())}),a.right&&te.push(Vue.h("span",{class:"vxe-pager--right-wrapper"},a.right({$grid:s}))),Vue.h("div",{ref:o,class:["vxe-pager",$e?XEUtils$1.isFunction($e)?$e({$pager:h}):$e:"",(pe={},pe["size--".concat(ve)]=ve,pe["align--".concat(De)]=De,pe["is--border"]=e.border,pe["is--background"]=e.background,pe["is--perfect"]=e.perfect,pe["is--hidden"]=e.autoHidden&&Ve===1,pe["is--loading"]=e.loading,pe)]},[Vue.h("div",{class:"vxe-pager--wrapper"},te)])};return h.renderVN=Be,h},render:function(){return this.renderVN()}});Object.assign(VxePagerComponent,{install:function(e){e.component(VxePagerComponent.name,VxePagerComponent)}});dynamicApp.component(VxePagerComponent.name,VxePagerComponent);var VxeCheckbox=Object.assign(VxeCheckboxComponent,{install:function(e){e.component(VxeCheckboxComponent.name,VxeCheckboxComponent)}}),Checkbox=VxeCheckbox;dynamicApp.component(VxeCheckboxComponent.name,VxeCheckboxComponent);const VxeCheckboxGroupComponent=Vue.defineComponent({name:"VxeCheckboxGroup",props:{modelValue:Array,disabled:Boolean,max:{type:[String,Number],default:null},size:{type:String,default:function(){return GlobalConfig.checkbox.size||GlobalConfig.size}}},emits:["update:modelValue","change"],setup:function(e,r){var a=r.slots,n=r.emit,l=Vue.inject("$xeform",null),c=Vue.inject("$xeformiteminfo",null),s=XEUtils$1.uniqueId(),g=Vue.computed(function(){var A=e.modelValue,M=e.max;return M?(A?A.length:0)>=XEUtils$1.toNumber(M):!1}),o={computeIsMaximize:g},d={xID:s,props:e,context:r,getComputeMaps:function(){return o}};useSize(e);var h={dispatchEvent:function(A,M,L){n(A,Object.assign({$checkboxGroup:d,$event:L},M))}},T={handleChecked:function(A,M){var L=A.checked,O=A.label,R=e.modelValue||[],E=R.indexOf(O);L?E===-1&&R.push(O):R.splice(E,1),n("update:modelValue",R),d.dispatchEvent("change",Object.assign({checklist:R},A),M),l&&c&&l.triggerItemEvent(M,c.itemConfig.field,R)}};Object.assign(d,h,T);var U=function(){return Vue.h("div",{class:"vxe-checkbox-group"},a.default?a.default({}):[])};return d.renderVN=U,Vue.provide("$xecheckboxgroup",d),U}});Object.assign(VxeCheckboxGroupComponent,{install:function(e){e.component(VxeCheckboxGroupComponent.name,VxeCheckboxGroupComponent)}});dynamicApp.component(VxeCheckboxGroupComponent.name,VxeCheckboxGroupComponent);Object.assign(VxeRadioComponent,{install:function(e){e.component(VxeRadioComponent.name,VxeRadioComponent)}});dynamicApp.component(VxeRadioComponent.name,VxeRadioComponent);Object.assign(VxeRadioGroupComponent,{install:function(e){e.component(VxeRadioGroupComponent.name,VxeRadioGroupComponent)}});dynamicApp.component(VxeRadioGroupComponent.name,VxeRadioGroupComponent);const VxeRadioButtonComponent=Vue.defineComponent({name:"VxeRadioButton",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],content:[String,Number],disabled:Boolean,strict:{type:Boolean,default:function(){return GlobalConfig.radioButton.strict}},size:{type:String,default:function(){return GlobalConfig.radioButton.size||GlobalConfig.size}}},emits:["update:modelValue","change"],setup:function(e,r){var a=r.slots,n=r.emit,l=Vue.inject("$xeform",null),c=Vue.inject("$xeformiteminfo",null),s=XEUtils$1.uniqueId(),g=useSize(e),o={xID:s,props:e,context:r},d={},h=Vue.inject("$xeradiogroup",null),T=Vue.computed(function(){return e.disabled||h&&h.props.disabled}),U=Vue.computed(function(){return h?h.name:null}),A=Vue.computed(function(){return h?h.props.strict:e.strict}),M=Vue.computed(function(){var V=e.modelValue,D=e.label;return h?h.props.modelValue===D:V===D});d={dispatchEvent:function(V,D,N){n(V,Object.assign({$radioButton:o,$event:N},D))}},Object.assign(o,d);var L=function(V,D){h?h.handleChecked({label:V},D):(n("update:modelValue",V),d.dispatchEvent("change",{label:V},D),l&&c&&l.triggerItemEvent(D,c.itemConfig.field,V))},O=function(V){var D=T.value;D||L(e.label,V)},R=function(V){var D=T.value,N=A.value;!D&&!N&&e.label===(h?h.props.modelValue:e.modelValue)&&L(null,V)},E=function(){var V,D=g.value,N=T.value,X=U.value,H=M.value;return Vue.h("label",{class:["vxe-radio","vxe-radio-button",(V={},V["size--".concat(D)]=D,V["is--disabled"]=N,V)],title:e.title},[Vue.h("input",{class:"vxe-radio--input",type:"radio",name:X,checked:H,disabled:N,onChange:O,onClick:R}),Vue.h("span",{class:"vxe-radio--label"},a.default?a.default({}):getFuncText(e.content))])};return Object.assign(o,{renderVN:E,dispatchEvent}),E}});Object.assign(VxeRadioButtonComponent,{install:function(e){e.component(VxeRadioButtonComponent.name,VxeRadioButtonComponent)}});dynamicApp.component(VxeRadioButtonComponent.name,VxeRadioButtonComponent);var VxeInput=Object.assign(VxeInputConstructor,{install:function(e){e.component(VxeInputConstructor.name,VxeInputConstructor)}}),Input=VxeInput;dynamicApp.component(VxeInputConstructor.name,VxeInputConstructor);var autoTxtElem;const VxeTextareaComponent=Vue.defineComponent({name:"VxeTextarea",props:{modelValue:[String,Number],className:String,immediate:{type:Boolean,default:!0},name:String,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:function(){return XEUtils$1.eqNull(GlobalConfig.textarea.placeholder)?GlobalConfig.i18n("vxe.base.pleaseInput"):GlobalConfig.textarea.placeholder}},maxlength:[String,Number],rows:{type:[String,Number],default:2},cols:{type:[String,Number],default:null},showWordCount:Boolean,countMethod:Function,autosize:[Boolean,Object],form:String,resize:{type:String,default:function(){return GlobalConfig.textarea.resize}},size:{type:String,default:function(){return GlobalConfig.textarea.size||GlobalConfig.size}}},emits:["update:modelValue","input","keydown","keyup","click","change","focus","blur"],setup:function(e,r){var a=r.emit,n=Vue.inject("$xeform",null),l=Vue.inject("$xeformiteminfo",null),c=XEUtils$1.uniqueId(),s=useSize(e),g=Vue.reactive({inputValue:e.modelValue}),o=Vue.ref(),d=Vue.ref(),h={refElem:o,refTextarea:d},T={xID:c,props:e,context:r,reactData:g,getRefMaps:function(){return h}},U={},A=Vue.computed(function(){return XEUtils$1.getSize(g.inputValue)}),M=Vue.computed(function(){var x=A.value;return e.maxlength&&x>XEUtils$1.toNumber(e.maxlength)}),L=Vue.computed(function(){return Object.assign({minRows:1,maxRows:10},GlobalConfig.textarea.autosize,e.autosize)}),O=function(){var x=e.size,w=e.autosize,P=g.inputValue;if(w){autoTxtElem||(autoTxtElem=document.createElement("div")),autoTxtElem.parentNode||document.body.appendChild(autoTxtElem);var B=d.value,ae=getComputedStyle(B);autoTxtElem.className=["vxe-textarea--autosize",x?"size--".concat(x):""].join(" "),autoTxtElem.style.width="".concat(B.clientWidth,"px"),autoTxtElem.style.padding=ae.padding,autoTxtElem.innerHTML=(""+(P||"　")).replace(/\n$/,`
　`)}},R=function(){e.autosize&&Vue.nextTick(function(){var x=L.value,w=x.minRows,P=x.maxRows,B=d.value,ae=autoTxtElem.clientHeight,J=getComputedStyle(B),F=XEUtils$1.toNumber(J.lineHeight),W=XEUtils$1.toNumber(J.paddingTop),oe=XEUtils$1.toNumber(J.paddingBottom),he=XEUtils$1.toNumber(J.borderTopWidth),me=XEUtils$1.toNumber(J.borderBottomWidth),Re=W+oe+he+me,Oe=(ae-Re)/F,Se=Oe&&/[0-9]/.test(""+Oe)?Oe:Math.floor(Oe)+1,ge=Se;Se<w?ge=w:Se>P&&(ge=P),B.style.height="".concat(ge*F+Re,"px")})},E=function(x){var w=g.inputValue;T.dispatchEvent(x.type,{value:w},x)},V=function(x,w){g.inputValue=x,a("update:modelValue",x),XEUtils$1.toValueString(e.modelValue)!==x&&(U.dispatchEvent("change",{value:x},w),n&&l&&n.triggerItemEvent(w,l.itemConfig.field,x))},D=function(x){var w=e.immediate,P=x.target,B=P.value;g.inputValue=B,w&&V(B,x),T.dispatchEvent("input",{value:B},x),R()},N=function(x){var w=e.immediate;w?E(x):V(g.inputValue,x)},X=function(x){var w=e.immediate,P=g.inputValue;w||V(P,x),T.dispatchEvent("blur",{value:P},x)};U={dispatchEvent:function(x,w,P){a(x,Object.assign({$textarea:T,$event:P},w))},focus:function(){var x=d.value;return x.focus(),Vue.nextTick()},blur:function(){var x=d.value;return x.blur(),Vue.nextTick()}},Object.assign(T,U),Vue.watch(function(){return e.modelValue},function(x){g.inputValue=x,O()}),Vue.nextTick(function(){var x=e.autosize;x&&(O(),R())});var H=function(){var x,w=e.className,P=e.resize,B=e.placeholder,ae=e.disabled,J=e.maxlength,F=e.autosize,W=e.showWordCount,oe=e.countMethod,he=e.rows,me=e.cols,Re=g.inputValue,Oe=s.value,Se=M.value,ge=A.value;return Vue.h("div",{ref:o,class:["vxe-textarea",w,(x={},x["size--".concat(Oe)]=Oe,x["is--autosize"]=F,x["is--count"]=W,x["is--disabled"]=ae,x["def--rows"]=!XEUtils$1.eqNull(he),x["def--cols"]=!XEUtils$1.eqNull(me),x)]},[Vue.h("textarea",{ref:d,class:"vxe-textarea--inner",value:Re,name:e.name,placeholder:B?getFuncText(B):null,maxlength:J,readonly:e.readonly,disabled:ae,rows:he,cols:me,style:P?{resize:P}:null,onInput:D,onChange:N,onKeydown:E,onKeyup:E,onClick:E,onFocus:E,onBlur:X}),W?Vue.h("span",{class:["vxe-textarea--count",{"is--error":Se}]},oe?"".concat(oe({value:Re})):"".concat(ge).concat(J?"/".concat(J):"")):null])};return T.renderVN=H,T},render:function(){return this.renderVN()}});var VxeTextarea=Object.assign(VxeTextareaComponent,{install:function(e){e.component(VxeTextareaComponent.name,VxeTextareaComponent)}}),Textarea=VxeTextarea;dynamicApp.component(VxeTextareaComponent.name,VxeTextareaComponent);var VxeButton=Object.assign(VxeButtonComponent,{install:function(e){e.component(VxeButtonComponent.name,VxeButtonComponent)}}),Button=VxeButton;dynamicApp.component(VxeButtonComponent.name,VxeButtonComponent);var __assign$9=globalThis&&globalThis.__assign||function(){return __assign$9=Object.assign||function(e){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},__assign$9.apply(this,arguments)};function openModal(e){return checkDynamic(),new Promise(function(r){if(e&&e.id&&allActivedModals.some(function(l){return l.props.id===e.id}))r("exist");else{var a=e.onHide,n=Object.assign(e,{key:XEUtils$1.uniqueId(),modelValue:!0,onHide:function(l){var c=dynamicStore.modals;a&&a(l),dynamicStore.modals=c.filter(function(s){return s.key!==n.key}),r(l.type)}});dynamicStore.modals.push(n)}})}function getModal(e){return XEUtils$1.find(allActivedModals,function(r){return r.props.id===e})}function closeModal(e){var r=e?[getModal(e)]:allActivedModals,a=[];return r.forEach(function(n){n&&a.push(n.close())}),Promise.all(a)}function handleOpen(e,r,a,n){var l;return XEUtils$1.isObject(r)?l=r:l={content:XEUtils$1.toValueString(r),title:a},openModal(__assign$9(__assign$9(__assign$9({},e),n),l))}function openAlert(e,r,a){return handleOpen({type:"alert",showFooter:!0},e,r,a)}function openConfirm(e,r,a){return handleOpen({type:"confirm",status:"question",showFooter:!0},e,r,a)}function openMessage(e,r){return handleOpen({type:"message",mask:!1,lockView:!1,showHeader:!1},e,"",r)}var ModalController={get:getModal,close:closeModal,open:openModal,alert:openAlert,confirm:openConfirm,message:openMessage},VxeModal=Object.assign(VxeModalComponent,{install:function(e){e.component(VxeModalComponent.name,VxeModalComponent),VXETable.modal=ModalController}}),Modal=VxeModal;dynamicApp.component(VxeModalComponent.name,VxeModalComponent);var __assign$8=globalThis&&globalThis.__assign||function(){return __assign$8=Object.assign||function(e){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},__assign$8.apply(this,arguments)},__spreadArray$2=globalThis&&globalThis.__spreadArray||function(e,r,a){if(a||arguments.length===2)for(var n=0,l=r.length,c;n<l;n++)(c||!(n in r))&&(c||(c=Array.prototype.slice.call(r,0,n)),c[n]=r[n]);return e.concat(c||Array.prototype.slice.call(r))};const VxeTooltipComponent=Vue.defineComponent({name:"VxeTooltip",props:{modelValue:Boolean,size:{type:String,default:function(){return GlobalConfig.tooltip.size||GlobalConfig.size}},trigger:{type:String,default:function(){return GlobalConfig.tooltip.trigger}},theme:{type:String,default:function(){return GlobalConfig.tooltip.theme}},content:{type:[String,Number],default:null},useHTML:Boolean,zIndex:[String,Number],popupClassName:[String,Function],isArrow:{type:Boolean,default:!0},enterable:Boolean,enterDelay:{type:Number,default:function(){return GlobalConfig.tooltip.enterDelay}},leaveDelay:{type:Number,default:function(){return GlobalConfig.tooltip.leaveDelay}}},emits:["update:modelValue"],setup:function(e,r){var a=r.slots,n=r.emit,l=XEUtils$1.uniqueId(),c=useSize(e),s=Vue.reactive({target:null,isUpdate:!1,visible:!1,tipContent:"",tipActive:!1,tipTarget:null,tipZindex:0,tipStore:{style:{},placement:"",arrowStyle:{}}}),g=Vue.ref(),o={refElem:g},d={xID:l,props:e,context:r,reactData:s,getRefMaps:function(){return o}},h={},T=function(){var H=s.tipTarget,x=s.tipStore;if(H){var w=getDomNode(),P=w.scrollTop,B=w.scrollLeft,ae=w.visibleWidth,J=getAbsolutePos(H),F=J.top,W=J.left,oe=g.value,he=6,me=oe.offsetHeight,Re=oe.offsetWidth,Oe=W,Se=F-me-he;Oe=Math.max(he,W+Math.floor((H.offsetWidth-Re)/2)),Oe+Re+he>B+ae&&(Oe=B+ae-Re-he),F-me<P+he&&(x.placement="bottom",Se=F+H.offsetHeight+he),x.style.top="".concat(Se,"px"),x.style.left="".concat(Oe,"px"),x.arrowStyle.left="".concat(W-Oe+H.offsetWidth/2,"px")}},U=function(H){H!==s.visible&&(s.visible=H,s.isUpdate=!0,n("update:modelValue",H))},A=function(){s.tipZindex<getLastZIndex()&&(s.tipZindex=nextZIndex())},M=function(){s.visible?h.close():h.open()},L=function(){h.open()},O=function(){var H=e.trigger,x=e.enterable,w=e.leaveDelay;s.tipActive=!1,x&&H==="hover"?setTimeout(function(){s.tipActive||h.close()},w):h.close()},R=function(){s.tipActive=!0},E=function(){var H=e.trigger,x=e.enterable,w=e.leaveDelay;s.tipActive=!1,x&&H==="hover"&&setTimeout(function(){s.tipActive||h.close()},w)},V=function(){var H=s.tipStore,x=g.value;if(x){var w=x.parentNode;w||document.body.appendChild(x)}return U(!0),A(),H.placement="top",H.style={width:"auto",left:0,top:0,zIndex:e.zIndex||s.tipZindex},H.arrowStyle={left:"50%"},h.updatePlacement()},D=XEUtils$1.debounce(function(){s.tipActive&&V()},e.enterDelay,{leading:!1,trailing:!0});h={dispatchEvent:function(H,x,w){n(H,Object.assign({$tooltip:d,$event:w},x))},open:function(H,x){return h.toVisible(H||s.target,x)},close:function(){return s.tipTarget=null,s.tipActive=!1,Object.assign(s.tipStore,{style:{},placement:"",arrowStyle:null}),U(!1),Vue.nextTick()},toVisible:function(H,x){if(H){var w=e.trigger,P=e.enterDelay;if(s.tipActive=!0,s.tipTarget=H,x&&(s.tipContent=x),P&&w==="hover")D();else return V()}return Vue.nextTick()},updatePlacement:function(){return Vue.nextTick().then(function(){var H=s.tipTarget,x=g.value;if(H&&x)return T(),Vue.nextTick().then(T)})},isActived:function(){return s.tipActive},setActived:function(H){s.tipActive=!!H}},Object.assign(d,h),Vue.watch(function(){return e.content},function(){s.tipContent=e.content}),Vue.watch(function(){return e.modelValue},function(){s.isUpdate||(e.modelValue?h.open():h.close()),s.isUpdate=!1}),Vue.onMounted(function(){Vue.nextTick(function(){var H=e.trigger,x=e.content,w=e.modelValue,P=g.value,B=P.parentNode;if(B){s.tipContent=x,s.tipZindex=nextZIndex(),XEUtils$1.arrayEach(P.children,function(J,F){F>1&&(B.insertBefore(J,P),s.target||(s.target=J))}),B.removeChild(P);var ae=s.target;ae&&(H==="hover"?(ae.onmouseenter=L,ae.onmouseleave=O):H==="click"&&(ae.onclick=M)),w&&h.open()}})}),Vue.onBeforeUnmount(function(){var H=e.trigger,x=s.target,w=g.value;if(w){var P=w.parentNode;P&&P.removeChild(w)}x&&(H==="hover"?(x.onmouseenter=null,x.onmouseleave=null):H==="click"&&(x.onclick=null))});var N=function(){var H=e.useHTML,x=s.tipContent,w=a.content;return w?Vue.h("div",{key:1,class:"vxe-table--tooltip-content"},getSlotVNs(w({}))):H?Vue.h("div",{key:2,class:"vxe-table--tooltip-content",innerHTML:x}):Vue.h("div",{key:3,class:"vxe-table--tooltip-content"},formatText(x))},X=function(){var H,x=e.popupClassName,w=e.theme,P=e.isArrow,B=e.enterable,ae=s.tipActive,J=s.visible,F=s.tipStore,W=a.default,oe=c.value,he;return B&&(he={onMouseenter:R,onMouseleave:E}),Vue.h("div",__assign$8({ref:g,class:["vxe-table--tooltip-wrapper","theme--".concat(w),x?XEUtils$1.isFunction(x)?x({$tooltip:d}):x:"",(H={},H["size--".concat(oe)]=oe,H["placement--".concat(F.placement)]=F.placement,H["is--enterable"]=B,H["is--visible"]=J,H["is--arrow"]=P,H["is--actived"]=ae,H)],style:F.style},he),__spreadArray$2([N(),Vue.h("div",{class:"vxe-table--tooltip-arrow",style:F.arrowStyle})],W?getSlotVNs(W({})):[],!0))};return d.renderVN=X,d},render:function(){return this.renderVN()}});Object.assign(VxeTooltipComponent,{install:function(e){VXETable.tooltip=!0,e.component(VxeTooltipComponent.name,VxeTooltipComponent)}});dynamicApp.component(VxeTooltipComponent.name,VxeTooltipComponent);var ItemInfo=function(){function e(r,a){Object.assign(this,{id:XEUtils$1.uniqueId("item_"),title:a.title,field:a.field,span:a.span,align:a.align,titleAlign:a.titleAlign,titleWidth:a.titleWidth,titleColon:a.titleColon,titleAsterisk:a.titleAsterisk,titlePrefix:a.titlePrefix,titleSuffix:a.titleSuffix,titleOverflow:a.titleOverflow,showTitle:a.showTitle,resetValue:a.resetValue,visibleMethod:a.visibleMethod,visible:a.visible,folding:a.folding,collapseNode:a.collapseNode,className:a.className,contentClassName:a.contentClassName,contentStyle:a.contentStyle,titleClassName:a.titleClassName,titleStyle:a.titleStyle,itemRender:a.itemRender,showError:!1,errRule:null,slots:a.slots,children:[]})}return e.prototype.update=function(r,a){this[r]=a},e}();function isFormItem(e){return e instanceof ItemInfo}function createItem(e,r){return isFormItem(r)?r:new ItemInfo(e,r)}function handleFieldOrItem(e,r){return r?XEUtils$1.isString(r)?e.getItemByField(r):r:null}function isHiddenItem(e,r){var a=e.reactData,n=a.collapseAll,l=r.folding,c=r.visible;return c===!1||l&&n}function isActivetem(e,r){var a=r.visibleMethod,n=r.itemRender,l=r.visible,c=r.field;if(l===!1)return l;var s=isEnableConf(n)?VXETable.renderer.get(n.name):null;if(!a&&s&&s.itemVisibleMethod&&(a=s.itemVisibleMethod),!a)return!0;var g=e.props.data;return a({data:g,field:c,property:c,item:r,$form:e,$grid:e.xegrid})}function watchItem(e,r){Object.keys(e).forEach(function(a){Vue.watch(function(){return e[a]},function(n){r.update(a,n)})})}function assemItem(e,r,a,n){var l=e.reactData,c=l.staticItems,s=r.parentNode,g=n?n.formItem:null,o=g?g.children:c;s&&(o.splice(XEUtils$1.arrayIndexOf(s.children,r),0,a),l.staticItems=c.slice(0))}function destroyItem(e,r){var a=e.reactData,n=a.staticItems,l=XEUtils$1.findIndexOf(n,function(c){return c.id===r.id});l>-1&&n.splice(l,1),a.staticItems=n.slice(0)}var __assign$7=globalThis&&globalThis.__assign||function(){return __assign$7=Object.assign||function(e){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},__assign$7.apply(this,arguments)};function renderPrefixIcon(e){return Vue.h("span",{class:"vxe-form--item-title-prefix"},[Vue.h("i",{class:e.icon||GlobalConfig.icon.FORM_PREFIX})])}function renderSuffixIcon(e){return Vue.h("span",{class:"vxe-form--item-title-suffix"},[Vue.h("i",{class:e.icon||GlobalConfig.icon.FORM_SUFFIX})])}function renderTitle(e,r){var a=e.props.data,n=e.getComputeMaps().computeTooltipOpts,l=r.slots,c=r.field,s=r.itemRender,g=r.titlePrefix,o=r.titleSuffix,d=n.value,h=isEnableConf(s)?VXETable.renderer.get(s.name):null,T={data:a,field:c,property:c,item:r,$form:e,$grid:e.xegrid},U=l?l.title:null,A=[],M=[];g&&M.push(g.content||g.message?Vue.h(Vue.resolveComponent("vxe-tooltip"),__assign$7(__assign$7(__assign$7({},d),g),{content:getFuncText(g.content||g.message)}),{default:function(){return renderPrefixIcon(g)}}):renderPrefixIcon(g)),M.push(Vue.h("span",{class:"vxe-form--item-title-label"},h&&h.renderItemTitle?getSlotVNs(h.renderItemTitle(s,T)):U?e.callSlot(U,T):getFuncText(r.title))),A.push(Vue.h("div",{class:"vxe-form--item-title-content"},M));var L=[];return o&&L.push(o.content||o.message?Vue.h(Vue.resolveComponent("vxe-tooltip"),__assign$7(__assign$7(__assign$7({},d),o),{content:getFuncText(o.content||o.message)}),{default:function(){return renderSuffixIcon(o)}}):renderSuffixIcon(o)),A.push(Vue.h("div",{class:"vxe-form--item-title-postfix"},L)),A}var __assign$6=globalThis&&globalThis.__assign||function(){return __assign$6=Object.assign||function(e){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},__assign$6.apply(this,arguments)},VxeFormConfigItem=Vue.defineComponent({name:"VxeFormConfigItem",props:{itemConfig:Object},setup:function(e){var r=Vue.inject("$xeform",{}),a={itemConfig:e.itemConfig};Vue.provide("$xeformiteminfo",a),Vue.provide("$xeformgather",null);var n=function(){var c=r.reactData,s=r.props,g=s.data,o=s.rules,d=s.span,h=s.align,T=s.titleAlign,U=s.titleWidth,A=s.titleColon,M=s.titleAsterisk,L=s.titleOverflow,O=s.vertical,R=r.getComputeMaps().computeValidOpts,E=e.itemConfig,V=c.collapseAll,D=R.value,N=E.slots,X=E.title,H=E.visible,x=E.folding,w=E.field,P=E.collapseNode,B=E.itemRender,ae=E.showError,J=E.errRule,F=E.className,W=E.titleOverflow,oe=E.vertical,he=E.children,me=E.showTitle,Re=E.contentClassName,Oe=E.contentStyle,Se=E.titleClassName,ge=E.titleStyle,Be=isEnableConf(B)?VXETable.renderer.get(B.name):null,pe=Be?Be.itemClassName:"",De=Be?Be.itemStyle:null,_e=Be?Be.itemContentClassName:"",$e=Be?Be.itemContentStyle:null,te=Be?Be.itemTitleClassName:"",ve=Be?Be.itemTitleStyle:null,Ve=N?N.default:null,Xe=N?N.title:null,ye=E.span||d,ne=E.align||h,ie=XEUtils$1.eqNull(E.titleAlign)?T:E.titleAlign,Ie=XEUtils$1.eqNull(E.titleWidth)?U:E.titleWidth,Ge=XEUtils$1.eqNull(E.titleColon)?A:E.titleColon,We=XEUtils$1.eqNull(E.titleAsterisk)?M:E.titleAsterisk,j=XEUtils$1.isUndefined(W)||XEUtils$1.isNull(W)?L:W,K=XEUtils$1.isUndefined(oe)||XEUtils$1.isNull(oe)?O:oe,ue=j==="ellipsis",ce=j==="title",we=j===!0||j==="tooltip",Le=ce||we||ue,Pe={data:g,field:w,property:w,item:E,$form:r,$grid:r.xegrid};if(H===!1)return Vue.createCommentVNode();var q=!1;if(o){var Q=o[w];Q&&(q=Q.some(function(ee){return ee.required}))}var de=he&&he.length>0;if(de){var be=he.map(function(ee,xe){return Vue.h(VxeFormConfigItem,{key:xe,itemConfig:ee})});return be.length?Vue.h("div",{class:["vxe-form--gather vxe-row",E.id,ye?"vxe-col--".concat(ye," is--span"):"",F?XEUtils$1.isFunction(F)?F(Pe):F:""]},be):Vue.createCommentVNode()}var _=[];Ve?_=r.callSlot(Ve,Pe):Be&&Be.renderItemContent?_=getSlotVNs(Be.renderItemContent(B,Pe)):w&&(_=[XEUtils$1.toValueString(XEUtils$1.get(g,w))]),P&&_.push(Vue.h("div",{class:"vxe-form--item-trigger-node",onClick:r.toggleCollapseEvent},[Vue.h("span",{class:"vxe-form--item-trigger-text"},V?GlobalConfig.i18n("vxe.form.unfolding"):GlobalConfig.i18n("vxe.form.folding")),Vue.h("i",{class:["vxe-form--item-trigger-icon",V?GlobalConfig.icon.FORM_FOLDING:GlobalConfig.icon.FORM_UNFOLDING]})])),J&&D.showMessage&&_.push(Vue.h("div",{class:"vxe-form--item-valid",style:J.maxWidth?{width:"".concat(J.maxWidth,"px")}:null},J.content));var Y=we?{onMouseenter:function(ee){r.triggerTitleTipEvent(ee,Pe)},onMouseleave:r.handleTitleTipLeaveEvent}:{};return Vue.h("div",{class:["vxe-form--item",E.id,ye?"vxe-col--".concat(ye," is--span"):"",F?XEUtils$1.isFunction(F)?F(Pe):F:"",pe?XEUtils$1.isFunction(pe)?pe(Pe):pe:"",{"is--title":X,"is--colon":Ge,"is--vertical":K,"is--asterisk":We,"is--required":q,"is--hidden":x&&V,"is--active":isActivetem(r,E),"is--error":ae}],style:XEUtils$1.isFunction(De)?De(Pe):De},[Vue.h("div",{class:"vxe-form--item-inner"},[me!==!1&&(X||Xe)?Vue.h("div",__assign$6({class:["vxe-form--item-title",ie?"align--".concat(ie):"",Le?"is--ellipsis":"",te?XEUtils$1.isFunction(te)?te(Pe):te:"",Se?XEUtils$1.isFunction(Se)?Se(Pe):Se:""],style:Object.assign({},XEUtils$1.isFunction(ve)?ve(Pe):ve,XEUtils$1.isFunction(ge)?ge(Pe):ge,Ie?{width:isNaN(Ie)?Ie:"".concat(Ie,"px")}:null),title:ce?getFuncText(X):null},Y),renderTitle(r,E)):null,Vue.h("div",{class:["vxe-form--item-content",ne?"align--".concat(ne):"",_e?XEUtils$1.isFunction(_e)?_e(Pe):_e:"",Re?XEUtils$1.isFunction(Re)?Re(Pe):Re:""],style:Object.assign({},XEUtils$1.isFunction($e)?$e(Pe):$e,XEUtils$1.isFunction(Oe)?Oe(Pe):Oe)},_)])])},l={renderVN:n};return l},render:function(){return this.renderVN()}}),__assign$5=globalThis&&globalThis.__assign||function(){return __assign$5=Object.assign||function(e){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},__assign$5.apply(this,arguments)},Rule=function(){function e(r){Object.assign(this,{$options:r,required:r.required,min:r.min,max:r.min,type:r.type,pattern:r.pattern,validator:r.validator,trigger:r.trigger,maxWidth:r.maxWidth})}return Object.defineProperty(e.prototype,"content",{get:function(){return getFuncText(this.$options.content||this.$options.message)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.content},enumerable:!1,configurable:!0}),e}(),validErrorRuleValue=function(e,r){var a=e.type,n=e.min,l=e.max,c=e.pattern,s=a==="number",g=s?XEUtils$1.toNumber(r):XEUtils$1.getSize(r);return!!(s&&isNaN(r)||!XEUtils$1.eqNull(n)&&g<XEUtils$1.toNumber(n)||!XEUtils$1.eqNull(l)&&g>XEUtils$1.toNumber(l)||c&&!(XEUtils$1.isRegExp(c)?c:new RegExp(c)).test(r))};function getResetValue(e,r){return XEUtils$1.isArray(e)&&(r=[]),r}const VxeFormComponent=Vue.defineComponent({name:"VxeForm",props:{collapseStatus:{type:Boolean,default:!0},loading:Boolean,data:Object,size:{type:String,default:function(){return GlobalConfig.form.size||GlobalConfig.size}},span:{type:[String,Number],default:function(){return GlobalConfig.form.span}},align:{type:String,default:function(){return GlobalConfig.form.align}},titleAlign:{type:String,default:function(){return GlobalConfig.form.titleAlign}},titleWidth:{type:[String,Number],default:function(){return GlobalConfig.form.titleWidth}},titleColon:{type:Boolean,default:function(){return GlobalConfig.form.titleColon}},titleAsterisk:{type:Boolean,default:function(){return GlobalConfig.form.titleAsterisk}},titleOverflow:{type:[Boolean,String],default:null},vertical:{type:Boolean,default:null},className:[String,Function],readonly:Boolean,items:Array,rules:Object,preventSubmit:{type:Boolean,default:function(){return GlobalConfig.form.preventSubmit}},validConfig:Object,tooltipConfig:Object,customLayout:{type:Boolean,default:function(){return GlobalConfig.form.customLayout}}},emits:["update:collapseStatus","collapse","toggle-collapse","submit","submit-invalid","reset"],setup:function(e,r){var a=VXETable.tooltip,n=r.slots,l=r.emit,c=XEUtils$1.uniqueId(),s=useSize(e),g=Vue.reactive({collapseAll:e.collapseStatus,staticItems:[],formItems:[]}),o=Vue.reactive({tooltipTimeout:null,tooltipStore:{item:null,visible:!1}}),d=Vue.inject("$xegrid",null),h=Vue.ref(),T=Vue.ref(),U={},A=Vue.computed(function(){return Object.assign({},GlobalConfig.form.validConfig,e.validConfig)}),M=Vue.computed(function(){return Object.assign({},GlobalConfig.tooltip,GlobalConfig.form.tooltipConfig,e.tooltipConfig)}),L={refElem:h},O={computeSize:s,computeValidOpts:A,computeTooltipOpts:M},R={xID:c,props:e,context:r,reactData:g,xegrid:d,getRefMaps:function(){return L},getComputeMaps:function(){return O}},E=function(te,ve){return te&&(XEUtils$1.isString(te)&&(te=n[te]||null),XEUtils$1.isFunction(te))?getSlotVNs(te(ve)):[]},V=function(te){return te.length&&(g.staticItems=XEUtils$1.mapTree(te,function(ve){return createItem(R,ve)},{children:"children"})),Vue.nextTick()},D=function(){var te=[];return XEUtils$1.eachTree(g.formItems,function(ve){te.push(ve)},{children:"children"}),te},N=function(te){var ve=XEUtils$1.findTree(g.formItems,function(Ve){return Ve.field===te},{children:"children"});return ve?ve.item:null},X=function(){return g.collapseAll},H=function(){var te=!X();return g.collapseAll=te,l("update:collapseStatus",te),Vue.nextTick()},x=function(te){H();var ve=X();U.dispatchEvent("toggle-collapse",{status:ve,collapse:ve,data:e.data},te),U.dispatchEvent("collapse",{status:ve,collapse:ve,data:e.data},te)},w=function(te){if(te){var ve=te;XEUtils$1.isArray(te)||(ve=[te]),ve.forEach(function(Ve){if(Ve){var Xe=handleFieldOrItem(R,Ve);Xe&&(Xe.showError=!1)}})}else D().forEach(function(Ve){Ve.showError=!1});return Vue.nextTick()},P=function(){var te=e.data,ve=D();return te&&ve.forEach(function(Ve){var Xe=Ve.field,ye=Ve.resetValue,ne=Ve.itemRender;if(isEnableConf(ne)){var ie=VXETable.renderer.get(ne.name);ie&&ie.itemResetMethod?ie.itemResetMethod({data:te,field:Xe,property:Xe,item:Ve,$form:R,$grid:R.xegrid}):Xe&&XEUtils$1.set(te,Xe,ye===null?getResetValue(XEUtils$1.get(te,Xe),void 0):XEUtils$1.clone(ye,!0))}}),w()},B=function(te){te.preventDefault(),P(),U.dispatchEvent("reset",{data:e.data},te)},ae=function(te){for(var ve=h.value,Ve=0;Ve<te.length;Ve++){var Xe=te[Ve],ye=N(Xe);if(ye&&isEnableConf(ye.itemRender)){var ne=ye.itemRender,ie=VXETable.renderer.get(ne.name),Ie=null;if(Ve||scrollToView(ve.querySelector(".".concat(ye.id))),ne.autofocus&&(Ie=ve.querySelector(".".concat(ye.id," ").concat(ne.autofocus))),!Ie&&ie&&ie.autofocus&&(Ie=ve.querySelector(".".concat(ye.id," ").concat(ie.autofocus))),Ie){Ie.focus();break}}}},J=function(te,ve,Ve){var Xe=e.data,ye=e.rules,ne={};return XEUtils$1.isArray(ve)||(ve=[ve]),Promise.all(ve.map(function(ie){var Ie=[],Ge=[];if(ie&&ye){var We=XEUtils$1.get(ye,ie);if(We){var j=XEUtils$1.isUndefined(Ve)?XEUtils$1.get(Xe,ie):Ve;We.forEach(function(K){var ue=K.type,ce=K.trigger,we=K.required,Le=K.validator;if(te==="all"||!ce||te===ce)if(Le){var Pe={itemValue:j,rule:K,rules:We,data:Xe,field:ie,property:ie,$form:R},q=void 0;if(XEUtils$1.isString(Le)){var Q=VXETable.validators.get(Le);Q&&Q.itemValidatorMethod&&(q=Q.itemValidatorMethod(Pe))}else q=Le(Pe);q&&(XEUtils$1.isError(q)?Ie.push(new Rule({type:"custom",trigger:ce,content:q.message,rule:new Rule(K)})):q.catch&&Ge.push(q.catch(function(Y){Ie.push(new Rule({type:"custom",trigger:ce,content:Y?Y.message:K.content||K.message,rule:new Rule(K)}))})))}else{var de=ue==="array",be=XEUtils$1.isArray(j),_=!0;de||be?_=!be||!j.length:XEUtils$1.isString(j)?_=eqEmptyValue(j.trim()):_=eqEmptyValue(j),(we?_||validErrorRuleValue(K,j):!_&&validErrorRuleValue(K,j))&&Ie.push(new Rule(K))}})}}return Promise.all(Ge).then(function(){Ie.length&&(ne[ie]=Ie.map(function(K){return{$form:R,rule:K,data:Xe,field:ie,property:ie}}))})})).then(function(){if(!XEUtils$1.isEmpty(ne))return Promise.reject(ne)})},F,W=function(te,ve,Ve){var Xe=e.data,ye=e.rules,ne=A.value,ie={},Ie=[],Ge=[];return clearTimeout(F),Xe&&ye?(te.forEach(function(We){var j=We.field;j&&!isHiddenItem(R,We)&&isActivetem(R,We)&&Ge.push(J(ve||"all",j).then(function(){We.errRule=null}).catch(function(K){var ue=K[j];return ie[j]||(ie[j]=[]),ie[j].push(ue),Ie.push(j),We.errRule=ue[0].rule,Promise.reject(ue)}))}),Promise.all(Ge).then(function(){Ve&&Ve()}).catch(function(){return new Promise(function(We){F=window.setTimeout(function(){te.forEach(function(j){j.errRule&&(j.showError=!0)})},20),ne.autoPos!==!1&&Vue.nextTick(function(){ae(Ie)}),Ve?(Ve(ie),We()):We(ie)})})):(Ve&&Ve(),Promise.resolve())},oe=function(te){return w(),W(D(),"",te)},he=function(te,ve){var Ve=[];return XEUtils$1.isArray(te)?Ve=te:Ve=[te],W(Ve.map(function(Xe){return handleFieldOrItem(R,Xe)}),"",ve)},me=function(te){te.preventDefault(),e.preventSubmit||(w(),W(D()).then(function(ve){ve?U.dispatchEvent("submit-invalid",{data:e.data,errMap:ve},te):U.dispatchEvent("submit",{data:e.data},te)}))},Re=function(){var te=o.tooltipStore,ve=T.value;return te.visible&&(Object.assign(te,{item:null,visible:!1}),ve&&ve.close()),Vue.nextTick()},Oe=function(te,ve){var Ve=ve.item,Xe=o.tooltipStore,ye=T.value,ne=te.currentTarget.children[0],ie=(ne.textContent||"").trim(),Ie=ne.scrollWidth>ne.clientWidth;clearTimeout(o.tooltipTimeout),Xe.item!==Ve&&Re(),ie&&Ie&&(Object.assign(Xe,{item:Ve,visible:!0}),ye&&ye.open(ne,ie))},Se=function(){var te=M.value,ve=T.value;ve&&ve.setActived(!1),te.enterable?o.tooltipTimeout=setTimeout(function(){ve=T.value,ve&&!ve.isActived()&&Re()},te.leaveDelay):Re()},ge=function(te,ve,Ve){return ve?J(te?["blur"].includes(te.type)?"blur":"change":"all",ve,Ve).then(function(){w(ve)}).catch(function(Xe){var ye=Xe[ve],ne=N(ve);ye&&ne&&(ne.showError=!0,ne.errRule=ye[0].rule)}):Vue.nextTick()},Be=function(te,ve){var Ve=te.field;return ge(new Event("change"),Ve,ve)};U={dispatchEvent:function(te,ve,Ve){l(te,Object.assign({$form:R,$grid:d,$event:Ve},ve))},reset:P,validate:oe,validateField:he,clearValidate:w,updateStatus:Be,toggleCollapse:H,getItems:D,getItemByField:N,closeTooltip:Re};var pe={callSlot:E,triggerItemEvent:ge,toggleCollapseEvent:x,triggerTitleTipEvent:Oe,handleTitleTipLeaveEvent:Se};Object.assign(R,U,pe);var De=Vue.ref(0);Vue.watch(function(){return g.staticItems.length},function(){De.value++}),Vue.watch(function(){return g.staticItems},function(){De.value++}),Vue.watch(De,function(){g.formItems=g.staticItems});var _e=Vue.ref(0);Vue.watch(function(){return e.items?e.items.length:-1},function(){_e.value++}),Vue.watch(function(){return e.items},function(){_e.value++}),Vue.watch(_e,function(){V(e.items||[])}),Vue.watch(function(){return e.collapseStatus},function(te){g.collapseAll=!!te}),Vue.onMounted(function(){Vue.nextTick(function(){V(e.items||[])})});var $e=function(){var te,ve=e.loading,Ve=e.className,Xe=e.data,ye=e.customLayout,ne=g.formItems,ie=s.value,Ie=M.value,Ge=n.default;return Vue.h("form",{ref:h,class:["vxe-form",Ve?XEUtils$1.isFunction(Ve)?Ve({items:ne,data:Xe,$form:R}):Ve:"",(te={},te["size--".concat(ie)]=ie,te["is--loading"]=ve,te)],onSubmit:me,onReset:B},[Vue.h("div",{class:"vxe-form--wrapper vxe-row"},ye?Ge?Ge({}):[]:ne.map(function(We,j){return Vue.h(VxeFormConfigItem,{key:j,itemConfig:We})})),Vue.h("div",{class:"vxe-form-slots",ref:"hideItem"},ye?[]:Ge?Ge({}):[]),Vue.h(VxeLoading,{class:"vxe-form--loading",modelValue:ve}),a?Vue.h(Vue.resolveComponent("vxe-tooltip"),__assign$5({ref:T},Ie)):Vue.createCommentVNode()])};return R.renderVN=$e,Vue.provide("$xeform",R),Vue.provide("$xeformgather",null),Vue.provide("$xeformitem",null),Vue.provide("$xeformiteminfo",null),R},render:function(){return this.renderVN()}});var VxeForm=Object.assign(VxeFormComponent,{install:function(e){e.component(VxeFormComponent.name,VxeFormComponent)}}),Form=VxeForm;dynamicApp.component(VxeFormComponent.name,VxeFormComponent);var __assign$4=globalThis&&globalThis.__assign||function(){return __assign$4=Object.assign||function(e){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},__assign$4.apply(this,arguments)},formItemProps={title:String,field:String,span:[String,Number],align:String,titleAlign:{type:String,default:null},titleWidth:{type:[String,Number],default:null},titleColon:{type:Boolean,default:null},titleAsterisk:{type:Boolean,default:null},showTitle:{type:Boolean,default:!0},vertical:{type:Boolean,default:null},className:[String,Function],contentClassName:[String,Function],contentStyle:[Object,Function],titleClassName:[String,Function],titleStyle:[Object,Function],titleOverflow:{type:[Boolean,String],default:null},titlePrefix:Object,titleSuffix:Object,resetValue:{default:null},visibleMethod:Function,visible:{type:Boolean,default:null},folding:Boolean,collapseNode:Boolean,itemRender:Object};const VxeFormItemComponent=Vue.defineComponent({name:"VxeFormItem",props:formItemProps,setup:function(e,r){var a=r.slots,n=Vue.ref(),l=Vue.inject("$xeform",{}),c=Vue.inject("$xeformgather",null),s=Vue.reactive(createItem(l,e)),g={formItem:s},o={itemConfig:s};s.slots=a,Vue.provide("$xeformiteminfo",o),Vue.provide("$xeformitem",g),Vue.provide("$xeformgather",null),watchItem(e,s),Vue.onMounted(function(){assemItem(l,n.value,s,c)}),Vue.onUnmounted(function(){destroyItem(l,s)});var d=function(U,A){var M=U.props,L=U.reactData,O=M.data,R=M.rules,E=M.titleAlign,V=M.titleWidth,D=M.titleColon,N=M.titleAsterisk,X=M.titleOverflow,H=M.vertical,x=L.collapseAll,w=U.getComputeMaps().computeValidOpts,P=w.value,B=A.slots,ae=A.title,J=A.visible,F=A.folding,W=A.field,oe=A.collapseNode,he=A.itemRender,me=A.showError,Re=A.errRule,Oe=A.className,Se=A.titleOverflow,ge=A.vertical,Be=A.showTitle,pe=A.contentClassName,De=A.contentStyle,_e=A.titleClassName,$e=A.titleStyle,te=isEnableConf(he)?VXETable.renderer.get(he.name):null,ve=te?te.itemClassName:"",Ve=te?te.itemStyle:null,Xe=te?te.itemContentClassName:"",ye=te?te.itemContentStyle:null,ne=te?te.itemTitleClassName:"",ie=te?te.itemTitleStyle:null,Ie=B?B.default:null,Ge=B?B.title:null,We=A.span||M.span,j=A.align||M.align,K=XEUtils$1.eqNull(A.titleAlign)?E:A.titleAlign,ue=XEUtils$1.eqNull(A.titleWidth)?V:A.titleWidth,ce=XEUtils$1.eqNull(A.titleColon)?D:A.titleColon,we=XEUtils$1.eqNull(A.titleAsterisk)?N:A.titleAsterisk,Le=XEUtils$1.isUndefined(Se)||XEUtils$1.isNull(Se)?X:Se,Pe=XEUtils$1.isUndefined(ge)||XEUtils$1.isNull(ge)?H:ge,q=Le==="ellipsis",Q=Le==="title",de=Le===!0||Le==="tooltip",be=Q||de||q,_={data:O,field:W,property:W,item:A,$form:U,$grid:U.xegrid},Y=!1;if(J===!1)return Vue.createCommentVNode();if(R){var ee=R[W];ee&&(Y=ee.some(function(Me){return Me.required}))}var xe=[];Ie?xe=U.callSlot(Ie,_):te&&te.renderItemContent?xe=getSlotVNs(te.renderItemContent(he,_)):W&&(xe=["".concat(XEUtils$1.get(O,W))]),oe&&xe.push(Vue.h("div",{class:"vxe-form--item-trigger-node",onClick:U.toggleCollapseEvent},[Vue.h("span",{class:"vxe-form--item-trigger-text"},x?GlobalConfig.i18n("vxe.form.unfolding"):GlobalConfig.i18n("vxe.form.folding")),Vue.h("i",{class:["vxe-form--item-trigger-icon",x?GlobalConfig.icon.FORM_FOLDING:GlobalConfig.icon.FORM_UNFOLDING]})])),Re&&P.showMessage&&xe.push(Vue.h("div",{class:"vxe-form--item-valid",style:Re.maxWidth?{width:"".concat(Re.maxWidth,"px")}:null},Re.message));var Ce=de?{onMouseenter:function(Me){U.triggerTitleTipEvent(Me,_)},onMouseleave:U.handleTitleTipLeaveEvent}:{};return Vue.h("div",{ref:n,class:["vxe-form--item",A.id,We?"vxe-col--".concat(We," is--span"):"",Oe?XEUtils$1.isFunction(Oe)?Oe(_):Oe:"",ve?XEUtils$1.isFunction(ve)?ve(_):ve:"",{"is--title":ae,"is--colon":ce,"is--vertical":Pe,"is--asterisk":we,"is--required":Y,"is--hidden":F&&x,"is--active":isActivetem(U,A),"is--error":me}],style:XEUtils$1.isFunction(Ve)?Ve(_):Ve},[Vue.h("div",{class:"vxe-form--item-inner"},[Be!==!1&&(ae||Ge)?Vue.h("div",__assign$4({class:["vxe-form--item-title",K?"align--".concat(K):"",be?"is--ellipsis":"",ne?XEUtils$1.isFunction(ne)?ne(_):ne:"",_e?XEUtils$1.isFunction(_e)?_e(_):_e:""],style:Object.assign({},XEUtils$1.isFunction(ie)?ie(_):ie,XEUtils$1.isFunction($e)?$e(_):$e,ue?{width:isNaN(ue)?ue:"".concat(ue,"px")}:null),title:Q?getFuncText(ae):null},Ce),renderTitle(U,A)):null,Vue.h("div",{class:["vxe-form--item-content",j?"align--".concat(j):"",Xe?XEUtils$1.isFunction(Xe)?Xe(_):Xe:"",pe?XEUtils$1.isFunction(pe)?pe(_):pe:""],style:Object.assign({},XEUtils$1.isFunction(ye)?ye(_):ye,XEUtils$1.isFunction(De)?De(_):De)},xe)])])},h=function(){var U=l?l.props:null;return U&&U.customLayout?d(l,s):Vue.h("div",{ref:n})},T={renderVN:h};return T},render:function(){return this.renderVN()}});Object.assign(VxeFormItemComponent,{install:function(e){e.component(VxeFormItemComponent.name,VxeFormItemComponent)}});dynamicApp.component(VxeFormItemComponent.name,VxeFormItemComponent);const VxeFormGatherComponent=Vue.defineComponent({name:"VxeFormGather",props:formItemProps,setup:function(e,r){var a=r.slots,n=Vue.ref(),l=Vue.inject("$xeform",{}),c=Vue.inject("$xeformgather",null),s=a.default,g=Vue.reactive(createItem(l,e)),o={formItem:g},d={itemConfig:g};g.children=[],Vue.provide("$xeformiteminfo",d),Vue.provide("$xeformgather",o),Vue.provide("$xeformitem",null),watchItem(e,g),Vue.onMounted(function(){assemItem(l,n.value,g,c)}),Vue.onUnmounted(function(){destroyItem(l,g)});var h=function(){return Vue.h("div",{ref:n},s?s():[])},T={renderVN:h};return T},render:function(){return this.renderVN()}});Object.assign(VxeFormGatherComponent,{install:function(e){e.component(VxeFormGatherComponent.name,VxeFormGatherComponent)}});dynamicApp.component(VxeFormGatherComponent.name,VxeFormGatherComponent);var VxeSelect=Object.assign(VxeSelectComponent,{install:function(e){e.component(VxeSelectComponent.name,VxeSelectComponent)}}),Select=VxeSelect;dynamicApp.component(VxeSelectComponent.name,VxeSelectComponent);var OptionInfo=function(){function e(r,a){Object.assign(this,{id:XEUtils$1.uniqueId("option_"),value:a.value,label:a.label,visible:a.visible,className:a.className,disabled:a.disabled})}return e.prototype.update=function(r,a){this[r]=a},e}();function isOption(e){return e instanceof OptionInfo}function createOption(e,r){return isOption(r)?r:new OptionInfo(e,r)}function watchOption(e,r){Object.keys(e).forEach(function(a){Vue.watch(function(){return e[a]},function(n){r.update(a,n)})})}function assemOption(e,r,a,n){var l=e.reactData,c=l.staticOptions,s=r.parentNode,g=n?n.option:null,o=g?g.options:c;s&&o&&(o.splice(XEUtils$1.arrayIndexOf(s.children,r),0,a),l.staticOptions=c.slice(0))}function destroyOption(e,r){var a=e.reactData,n=a.staticOptions,l=XEUtils$1.findTree(n,function(c){return c.id===r.id},{children:"options"});l&&l.items.splice(l.index,1),a.staticOptions=n.slice(0)}const VxeOptgroupComponent=Vue.defineComponent({name:"VxeOptgroup",props:{label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},setup:function(e,r){var a=r.slots,n=Vue.ref(),l=Vue.inject("$xeselect",{}),c=createOption(l,e),s={option:c};return c.options=[],Vue.provide("xeoptgroup",s),watchOption(e,c),Vue.onMounted(function(){assemOption(l,n.value,c)}),Vue.onUnmounted(function(){destroyOption(l,c)}),function(){return Vue.h("div",{ref:n},a.default?a.default():[])}}});Object.assign(VxeOptgroupComponent,{install:function(e){e.component(VxeOptgroupComponent.name,VxeOptgroupComponent)}});dynamicApp.component(VxeOptgroupComponent.name,VxeOptgroupComponent);const VxeOptionComponent=Vue.defineComponent({name:"VxeOption",props:{value:null,label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},setup:function(e,r){var a=r.slots,n=Vue.ref(),l=Vue.inject("$xeselect",{}),c=Vue.inject("xeoptgroup",null),s=createOption(l,e);return s.slots=a,watchOption(e,s),Vue.onMounted(function(){assemOption(l,n.value,s,c)}),Vue.onUnmounted(function(){destroyOption(l,s)}),function(){return Vue.h("div",{ref:n})}}});var VxeOption=Object.assign(VxeOptionComponent,{install:function(e){e.component(VxeOptionComponent.name,VxeOptionComponent)}}),Option=VxeOption;dynamicApp.component(VxeOptionComponent.name,VxeOptionComponent);const VxeSwitchComponent=Vue.defineComponent({name:"VxeSwitch",props:{modelValue:[String,Number,Boolean],disabled:Boolean,size:{type:String,default:function(){return GlobalConfig.switch.size||GlobalConfig.size}},openLabel:String,closeLabel:String,openValue:{type:[String,Number,Boolean],default:!0},closeValue:{type:[String,Number,Boolean],default:!1},openIcon:String,closeIcon:String},emits:["update:modelValue","change","focus","blur"],setup:function(e,r){var a=r.emit,n=Vue.inject("$xeform",null),l=Vue.inject("$xeformiteminfo",null),c=XEUtils$1.uniqueId(),s=useSize(e),g=Vue.reactive({isActivated:!1,hasAnimat:!1,offsetLeft:0}),o={xID:c,props:e,context:r,reactData:g},d=Vue.ref(),h={},T=Vue.computed(function(){return getFuncText(e.openLabel)}),U=Vue.computed(function(){return getFuncText(e.closeLabel)}),A=Vue.computed(function(){return e.modelValue===e.openValue}),M,L=function(V){if(!e.disabled){var D=A.value;clearTimeout(M);var N=D?e.closeValue:e.openValue;g.hasAnimat=!0,a("update:modelValue",N),h.dispatchEvent("change",{value:N},V),n&&l&&n.triggerItemEvent(V,l.itemConfig.field,N),M=setTimeout(function(){g.hasAnimat=!1},400)}},O=function(V){g.isActivated=!0,h.dispatchEvent("focus",{value:e.modelValue},V)},R=function(V){g.isActivated=!1,h.dispatchEvent("blur",{value:e.modelValue},V)};h={dispatchEvent:function(V,D,N){a(V,Object.assign({$switch:o,$event:N},D))},focus:function(){var V=d.value;return g.isActivated=!0,V.focus(),Vue.nextTick()},blur:function(){var V=d.value;return V.blur(),g.isActivated=!1,Vue.nextTick()}},Object.assign(o,h);var E=function(){var V,D=e.disabled,N=e.openIcon,X=e.closeIcon,H=A.value,x=s.value,w=T.value,P=U.value;return Vue.h("div",{class:["vxe-switch",H?"is--on":"is--off",(V={},V["size--".concat(x)]=x,V["is--disabled"]=D,V["is--animat"]=g.hasAnimat,V)]},[Vue.h("button",{ref:d,class:"vxe-switch--button",type:"button",disabled:D,onClick:L,onFocus:O,onBlur:R},[Vue.h("span",{class:"vxe-switch--label vxe-switch--label-on"},[N?Vue.h("i",{class:["vxe-switch--label-icon",N]}):Vue.createCommentVNode(),w]),Vue.h("span",{class:"vxe-switch--label vxe-switch--label-off"},[X?Vue.h("i",{class:["vxe-switch--label-icon",X]}):Vue.createCommentVNode(),P]),Vue.h("span",{class:"vxe-switch--icon"})])])};return o.renderVN=E,o},render:function(){return this.renderVN()}});Object.assign(VxeSwitchComponent,{install:function(e){e.component(VxeSwitchComponent.name,VxeSwitchComponent)}});dynamicApp.component(VxeSwitchComponent.name,VxeSwitchComponent);var resizeTimeout,eventStore=[],defaultInterval=500;function eventHandle(){eventStore.length&&(eventStore.forEach(function(e){e.tarList.forEach(function(r){var a=r.target,n=r.width,l=r.heighe,c=a.clientWidth,s=a.clientHeight,g=c&&n!==c,o=s&&l!==s;(g||o)&&(r.width=c,r.heighe=s,setTimeout(e.callback))})}),eventListener())}function eventListener(){clearTimeout(resizeTimeout),resizeTimeout=setTimeout(eventHandle,GlobalConfig.resizeInterval||defaultInterval)}var XEResizeObserver=function(){function e(r){this.tarList=[],this.callback=r}return e.prototype.observe=function(r){var a=this;if(r){var n=this.tarList;n.some(function(l){return l.target===r})||n.push({target:r,width:r.clientWidth,heighe:r.clientHeight}),eventStore.length||eventListener(),eventStore.some(function(l){return l===a})||eventStore.push(this)}},e.prototype.unobserve=function(r){XEUtils$1.remove(eventStore,function(a){return a.tarList.some(function(n){return n.target===r})})},e.prototype.disconnect=function(){var r=this;XEUtils$1.remove(eventStore,function(a){return a===r})},e}();function createResizeEvent(e){return window.ResizeObserver?new window.ResizeObserver(e):new XEResizeObserver(e)}const VxeListComponent=Vue.defineComponent({name:"VxeList",props:{data:Array,height:[Number,String],maxHeight:[Number,String],loading:Boolean,className:[String,Function],size:{type:String,default:function(){return GlobalConfig.list.size||GlobalConfig.size}},autoResize:{type:Boolean,default:function(){return GlobalConfig.list.autoResize}},syncResize:[Boolean,String,Number],scrollY:Object},emits:["scroll"],setup:function(e,r){var a=r.slots,n=r.emit,l=XEUtils$1.uniqueId(),c=useSize(e),s=Vue.reactive({scrollYLoad:!1,bodyHeight:0,rowHeight:0,topSpaceHeight:0,items:[]}),g=Vue.ref(),o=Vue.ref(),d=Vue.ref(),h={fullData:[],lastScrollLeft:0,lastScrollTop:0,scrollYStore:{startIndex:0,endIndex:0,visibleSize:0,offsetSize:0,rowHeight:0}},T={refElem:g},U={xID:l,props:e,context:r,reactData:s,internalData:h,getRefMaps:function(){return T}},A={},M=Vue.computed(function(){return Object.assign({},GlobalConfig.list.scrollY,e.scrollY)}),L=Vue.computed(function(){var J=e.height,F=e.maxHeight,W={};return J?W.height="".concat(isNaN(J)?J:"".concat(J,"px")):F&&(W.height="auto",W.maxHeight="".concat(isNaN(F)?F:"".concat(F,"px"))),W}),O=function(){var J=s.scrollYLoad,F=h.scrollYStore,W=h.fullData;s.bodyHeight=J?W.length*F.rowHeight:0,s.topSpaceHeight=J?Math.max(F.startIndex*F.rowHeight,0):0},R=function(){var J=s.scrollYLoad,F=h.fullData,W=h.scrollYStore;return s.items=J?F.slice(W.startIndex,W.endIndex):F.slice(0),Vue.nextTick()},E=function(){R(),O()},V=function(){return Vue.nextTick().then(function(){var J=s.scrollYLoad,F=h.scrollYStore,W=d.value,oe=M.value,he=0,me;if(W&&(oe.sItem&&(me=W.querySelector(oe.sItem)),me||(me=W.children[0])),me&&(he=me.offsetHeight),he=Math.max(20,he),F.rowHeight=he,J){var Re=o.value,Oe=Math.max(8,Math.ceil(Re.clientHeight/he)),Se=oe.oSize?XEUtils$1.toNumber(oe.oSize):browse.edge?10:0;F.offsetSize=Se,F.visibleSize=Oe,F.endIndex=Math.max(F.startIndex,Oe+Se,F.endIndex),E()}else O();s.rowHeight=he})},D=function(){var J=o.value;return J&&(J.scrollTop=0),Vue.nextTick()},N=function(J,F){var W=o.value;return XEUtils$1.isNumber(J)&&(W.scrollLeft=J),XEUtils$1.isNumber(F)&&(W.scrollTop=F),s.scrollYLoad?new Promise(function(oe){setTimeout(function(){Vue.nextTick(function(){oe()})},50)}):Vue.nextTick()},X=function(){var J=h.lastScrollLeft,F=h.lastScrollTop;return D().then(function(){if(J||F)return h.lastScrollLeft=0,h.lastScrollTop=0,N(J,F)})},H=function(){var J=g.value;return J.clientWidth&&J.clientHeight?V():Promise.resolve()},x=function(J){var F=h.scrollYStore,W=F.startIndex,oe=F.endIndex,he=F.visibleSize,me=F.offsetSize,Re=F.rowHeight,Oe=J.target,Se=Oe.scrollTop,ge=Math.floor(Se/Re),Be=Math.max(0,ge-1-me),pe=ge+he+me;(ge<=W||ge>=oe-he-1)&&(W!==Be||oe!==pe)&&(F.startIndex=Be,F.endIndex=pe,E())},w=function(J){var F=J.target,W=F.scrollTop,oe=F.scrollLeft,he=oe!==h.lastScrollLeft,me=W!==h.lastScrollTop;h.lastScrollTop=W,h.lastScrollLeft=oe,s.scrollYLoad&&x(J),A.dispatchEvent("scroll",{scrollLeft:oe,scrollTop:W,isX:he,isY:me},J)};A={dispatchEvent:function(J,F,W){n(J,Object.assign({$list:U,$event:W},F))},loadData:function(J){var F=h.scrollYStore,W=M.value,oe=J||[];return Object.assign(F,{startIndex:0,endIndex:1,visibleSize:0}),h.fullData=oe,s.scrollYLoad=!!W.enabled&&W.gt>-1&&(W.gt===0||W.gt<=oe.length),R(),V().then(function(){X()})},reloadData:function(J){return D(),A.loadData(J)},recalculate:H,scrollTo:N,refreshScroll:X,clearScroll:D},Object.assign(U,A);var P=Vue.ref(0);Vue.watch(function(){return e.data?e.data.length:-1},function(){P.value++}),Vue.watch(function(){return e.data},function(){P.value++}),Vue.watch(P,function(){A.loadData(e.data||[])}),Vue.watch(function(){return e.syncResize},function(J){J&&(H(),Vue.nextTick(function(){return setTimeout(function(){return H()})}))}),Vue.onActivated(function(){H().then(function(){return X()})});var B;Vue.nextTick(function(){if(GlobalEvent.on(U,"resize",function(){H()}),e.autoResize){var J=g.value;B=createResizeEvent(function(){return H()}),B.observe(J)}A.loadData(e.data||[])}),Vue.onUnmounted(function(){B&&B.disconnect(),GlobalEvent.off(U,"resize")});var ae=function(){var J,F=e.className,W=e.loading,oe=s.bodyHeight,he=s.topSpaceHeight,me=s.items,Re=c.value,Oe=L.value;return Vue.h("div",{ref:g,class:["vxe-list",F?XEUtils$1.isFunction(F)?F({$list:U}):F:"",(J={},J["size--".concat(Re)]=Re,J["is--loading"]=W,J)]},[Vue.h("div",{ref:o,class:"vxe-list--virtual-wrapper",style:Oe,onScroll:w},[Vue.h("div",{class:"vxe-list--y-space",style:{height:oe?"".concat(oe,"px"):""}}),Vue.h("div",{ref:d,class:"vxe-list--body",style:{marginTop:he?"".concat(he,"px"):""}},a.default?a.default({items:me,$list:U}):[])]),Vue.h(VxeLoading,{class:"vxe-list--loading",modelValue:W})])};return U.renderVN=ae,U},render:function(){return this.renderVN()}});Object.assign(VxeListComponent,{install:function(e){e.component(VxeListComponent.name,VxeListComponent)}});dynamicApp.component(VxeListComponent.name,VxeListComponent);const VxePulldownComponent=Vue.defineComponent({name:"VxePulldown",props:{modelValue:Boolean,disabled:Boolean,placement:String,size:{type:String,default:function(){return GlobalConfig.size}},className:[String,Function],popupClassName:[String,Function],destroyOnClose:Boolean,transfer:Boolean},emits:["update:modelValue","hide-panel"],setup:function(e,r){var a=r.slots,n=r.emit,l=XEUtils$1.uniqueId(),c=useSize(e),s=Vue.reactive({inited:!1,panelIndex:0,panelStyle:null,panelPlacement:null,visiblePanel:!1,animatVisible:!1,isActivated:!1}),g=Vue.ref(),o=Vue.ref(),d=Vue.ref(),h={refElem:g},T={xID:l,props:e,context:r,reactData:s,getRefMaps:function(){return h}},U={},A=function(){s.panelIndex<getLastZIndex()&&(s.panelIndex=nextZIndex())},M=function(){return s.visiblePanel},L=function(){return Vue.nextTick().then(function(){var x=e.transfer,w=e.placement,P=s.panelIndex,B=s.visiblePanel;if(B){var ae=o.value,J=d.value;if(J&&ae){var F=ae.offsetHeight,W=ae.offsetWidth,oe=J.offsetHeight,he=J.offsetWidth,me=5,Re={zIndex:P},Oe=getAbsolutePos(ae),Se=Oe.boundingTop,ge=Oe.boundingLeft,Be=Oe.visibleHeight,pe=Oe.visibleWidth,De="bottom";if(x){var _e=ge,$e=Se+F;w==="top"?(De="top",$e=Se-oe):w||($e+oe+me>Be&&(De="top",$e=Se-oe),$e<me&&(De="bottom",$e=Se+F)),_e+he+me>pe&&(_e-=_e+he+me-pe),_e<me&&(_e=me),Object.assign(Re,{left:"".concat(_e,"px"),top:"".concat($e,"px"),minWidth:"".concat(W,"px")})}else w==="top"?(De="top",Re.bottom="".concat(F,"px")):w||Se+F+oe>Be&&Se-F-oe>me&&(De="top",Re.bottom="".concat(F,"px"));s.panelStyle=Re,s.panelPlacement=De}}return Vue.nextTick()})},O,R=function(){return s.inited||(s.inited=!0),new Promise(function(x){e.disabled?Vue.nextTick(function(){x()}):(clearTimeout(O),s.isActivated=!0,s.animatVisible=!0,setTimeout(function(){s.visiblePanel=!0,n("update:modelValue",!0),L(),setTimeout(function(){x(L())},40)},10),A())})},E=function(){return s.visiblePanel=!1,n("update:modelValue",!1),new Promise(function(x){s.animatVisible?O=window.setTimeout(function(){s.animatVisible=!1,Vue.nextTick(function(){x()})},350):Vue.nextTick(function(){x()})})},V=function(){return s.visiblePanel?E():R()},D=function(x){var w=e.disabled,P=s.visiblePanel,B=d.value;w||P&&(getEventTargetNode(x,B).flag?L():(E(),U.dispatchEvent("hide-panel",{},x)))},N=function(x){var w=e.disabled,P=s.visiblePanel,B=g.value,ae=d.value;w||(s.isActivated=getEventTargetNode(x,B).flag||getEventTargetNode(x,ae).flag,P&&!s.isActivated&&(E(),U.dispatchEvent("hide-panel",{},x)))},X=function(x){s.visiblePanel&&(s.isActivated=!1,E(),U.dispatchEvent("hide-panel",{},x))};U={dispatchEvent:function(x,w,P){n(x,Object.assign({$pulldown:T,$event:P},w))},isPanelVisible:M,togglePanel:V,showPanel:R,hidePanel:E},Object.assign(T,U),Vue.watch(function(){return e.modelValue},function(x){x?R():E()}),Vue.nextTick(function(){GlobalEvent.on(T,"mousewheel",D),GlobalEvent.on(T,"mousedown",N),GlobalEvent.on(T,"blur",X)}),Vue.onUnmounted(function(){GlobalEvent.off(T,"mousewheel"),GlobalEvent.off(T,"mousedown"),GlobalEvent.off(T,"blur")});var H=function(){var x,w,P=e.className,B=e.popupClassName,ae=e.destroyOnClose,J=e.transfer,F=e.disabled,W=s.inited,oe=s.isActivated,he=s.animatVisible,me=s.visiblePanel,Re=s.panelStyle,Oe=s.panelPlacement,Se=c.value;return Vue.h("div",{ref:g,class:["vxe-pulldown",P?XEUtils$1.isFunction(P)?P({$pulldown:T}):P:"",(x={},x["size--".concat(Se)]=Se,x["is--visivle"]=me,x["is--disabled"]=F,x["is--active"]=oe,x)]},[Vue.h("div",{ref:o,class:"vxe-pulldown--content"},a.default?a.default({$pulldown:T}):[]),Vue.h(Vue.Teleport,{to:"body",disabled:J?!W:!0},[Vue.h("div",{ref:d,class:["vxe-table--ignore-clear vxe-pulldown--panel",B?XEUtils$1.isFunction(B)?B({$pulldown:T}):B:"",(w={},w["size--".concat(Se)]=Se,w["is--transfer"]=J,w["animat--leave"]=he,w["animat--enter"]=me,w)],placement:Oe,style:Re},a.dropdown?[Vue.h("div",{class:"vxe-pulldown--wrapper"},!W||ae&&!me&&!he?[]:a.dropdown({$pulldown:T}))]:[])])])};return T.renderVN=H,T},render:function(){return this.renderVN()}});var VxePulldown=Object.assign(VxePulldownComponent,{install:function(e){e.component(VxePulldownComponent.name,VxePulldownComponent)}}),Pulldown=VxePulldown;dynamicApp.component(VxePulldownComponent.name,VxePulldownComponent);var __assign$3=globalThis&&globalThis.__assign||function(){return __assign$3=Object.assign||function(e){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},__assign$3.apply(this,arguments)},__spreadArray$1=globalThis&&globalThis.__spreadArray||function(e,r,a){if(a||arguments.length===2)for(var n=0,l=r.length,c;n<l;n++)(c||!(n in r))&&(c||(c=Array.prototype.slice.call(r,0,n)),c[n]=r[n]);return e.concat(c||Array.prototype.slice.call(r))},renderType$2="body",lineOffsetSizes={mini:3,small:2,medium:1};const TableBodyComponent=Vue.defineComponent({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup:function(e){var r=Vue.inject("$xetable",{}),a=Vue.inject("xesize",null),n=r.xID,l=r.props,c=r.context,s=r.reactData,g=r.internalData,o=r.getRefMaps(),d=o.refTableHeader,h=o.refTableBody,T=o.refTableFooter,U=o.refTableLeftBody,A=o.refTableRightBody,M=o.refValidTooltip,L=r.getComputeMaps(),O=L.computeEditOpts,R=L.computeMouseOpts,E=L.computeSYOpts,V=L.computeEmptyOpts,D=L.computeKeyboardOpts,N=L.computeTooltipOpts,X=L.computeRadioOpts,H=L.computeExpandOpts,x=L.computeTreeOpts,w=L.computeCheckboxOpts,P=L.computeValidOpts,B=L.computeRowOpts,ae=L.computeColumnOpts,J=Vue.ref(),F=Vue.ref(),W=Vue.ref(),oe=Vue.ref(),he=Vue.ref(),me=Vue.ref(),Re=Vue.ref(),Oe=function(){if(a){var j=a.value;if(j)return lineOffsetSizes[j]||0}return 0},Se=function(){var j=l.delayHover,K=s.lastScrollTime,ue=s._isResize;return!!(ue||K&&Date.now()<K+j)},ge=function(j,K){var ue=1;if(!j)return ue;var ce=x.value,we=ce.children||ce.childrenField,Le=j[we];if(Le&&r.isTreeExpandByRow(j))for(var Pe=0;Pe<Le.length;Pe++)ue+=ge(Le[Pe]);return ue},Be=function(j,K,ue){var ce=1;return ue&&(ce=ge(K[ue-1])),s.rowHeight*ce-(ue?1:12-Oe())},pe=function(j){var K=j.row,ue=j.column,ce=l.treeConfig,we=x.value,Le=ue.slots,Pe=ue.treeNode,q=g.fullAllDataRowIdData,Q=getRowid(r,K),de=q[Q],be=0,_=0,Y=[];return de&&(be=de.level,_=de._index,Y=de.items),Le&&Le.line?r.callSlot(Le.line,j):ce&&Pe&&(we.showLine||we.line)?[Vue.h("div",{class:"vxe-tree--line-wrapper"},[Vue.h("div",{class:"vxe-tree--line",style:{height:"".concat(Be(j,Y,_),"px"),left:"".concat(be*we.indent+(be?2-Oe():0)+16,"px")}})])]:[]},De=function(j,K,ue,ce,we,Le,Pe,q,Q,de,be,_){var Y,ee=l.columnKey,xe=l.height,Ce=l.showOverflow,Me=l.cellClassName,ze=l.cellStyle,qe=l.align,Ae=l.spanMethod,je=l.mouseConfig,Ye=l.editConfig,S=l.editRules,nt=l.tooltipConfig,dt=s.tableData,st=s.overflowX,et=s.scrollYLoad,tt=s.currentColumn,ft=s.mergeList,Ke=s.editStore,ot=s.isAllOverflow,ut=s.validErrorMaps,Et=g.afterFullData,St=P.value,Dt=w.value,Pt=O.value,Rt=N.value,kt=B.value,$t=E.value,wt=ae.value,qt=Q.type,Mt=Q.cellRender,Yt=Q.editRender,mt=Q.align,Vt=Q.showOverflow,Wt=Q.className,Kt=Q.treeNode,Zt=Ke.actived,At=$t.rHeight,ar=kt.height,fr=Yt||Mt,Nt=fr?VXETable.renderer.get(fr.name):null,yt=Nt?Nt.cellClassName:"",Ct=Nt?Nt.cellStyle:"",Jt=Rt.showAll,nr=r.getColumnIndex(Q),or=r.getVTColumnIndex(Q),ur=isEnableConf(Yt),Lt=ue?Q.fixed!==ue:Q.fixed&&st,Xt=XEUtils$1.isUndefined(Vt)||XEUtils$1.isNull(Vt)?Ce:Vt,bt=Xt==="ellipsis",ht=Xt==="title",xt=Xt===!0||Xt==="tooltip",Qt=ht||xt||bt,dr,er={},hr=mt||qe,sr=ut["".concat(K,":").concat(Q.id)],kr=S&&St.showMessage&&(St.message==="default"?xe||dt.length>1:St.message==="inline"),ir={colid:Q.id},Tt={$table:r,$grid:r.xegrid,seq:j,rowid:K,row:we,rowIndex:Le,$rowIndex:Pe,_rowIndex:q,column:Q,columnIndex:nr,$columnIndex:de,_columnIndex:or,fixed:ue,type:renderType$2,isHidden:Lt,level:ce,visibleData:Et,data:dt,items:_};if(et&&!Qt&&(bt=Qt=!0),(ht||xt||Jt||nt)&&(er.onMouseenter=function(Ot){Se()||(ht?updateCellTitle(Ot.currentTarget,Q):(xt||Jt)&&r.triggerBodyTooltipEvent(Ot,Tt),r.dispatchEvent("cell-mouseenter",Object.assign({cell:Ot.currentTarget},Tt),Ot))}),(xt||Jt||nt)&&(er.onMouseleave=function(Ot){Se()||((xt||Jt)&&r.handleTargetLeaveEvent(Ot),r.dispatchEvent("cell-mouseleave",Object.assign({cell:Ot.currentTarget},Tt),Ot))}),(Dt.range||je)&&(er.onMousedown=function(Ot){r.triggerCellMousedownEvent(Ot,Tt)}),er.onClick=function(Ot){r.triggerCellClickEvent(Ot,Tt)},er.onDblclick=function(Ot){r.triggerCellDblclickEvent(Ot,Tt)},ft.length){var vr=mergeBodyMethod(ft,q,or);if(vr){var jt=vr.rowspan,Gt=vr.colspan;if(!jt||!Gt)return null;jt>1&&(ir.rowspan=jt),Gt>1&&(ir.colspan=Gt)}}else if(Ae){var Mr=Ae(Tt)||{},Sr=Mr.rowspan,jt=Sr===void 0?1:Sr,mr=Mr.colspan,Gt=mr===void 0?1:mr;if(!jt||!Gt)return null;jt>1&&(ir.rowspan=jt),Gt>1&&(ir.colspan=Gt)}Lt&&ft&&(ir.colspan>1||ir.rowspan>1)&&(Lt=!1),!Lt&&Ye&&(Yt||Mt)&&(Pt.showStatus||Pt.showUpdateStatus)&&(dr=r.isUpdateByRow(we,Q.field));var cr=[];return Lt&&Ce&&ot?cr.push(Vue.h("div",{class:["vxe-cell",{"c--title":ht,"c--tooltip":xt,"c--ellipsis":bt}],style:{maxHeight:Qt&&(At||ar)?"".concat(At||ar,"px"):""}})):(cr.push.apply(cr,__spreadArray$1(__spreadArray$1([],pe(Tt),!1),[Vue.h("div",{class:["vxe-cell",{"c--title":ht,"c--tooltip":xt,"c--ellipsis":bt}],style:{maxHeight:Qt&&(At||ar)?"".concat(At||ar,"px"):""},title:ht?r.getCellLabel(we,Q):null},Q.renderCell(Tt))],!1)),kr&&sr&&cr.push(Vue.h("div",{class:"vxe-cell--valid",style:sr.rule&&sr.rule.maxWidth?{width:"".concat(sr.rule.maxWidth,"px")}:null},[Vue.h("span",{class:"vxe-cell--valid-msg"},sr.content)]))),Vue.h("td",__assign$3(__assign$3(__assign$3({class:["vxe-body--column",Q.id,(Y={},Y["col--".concat(hr)]=hr,Y["col--".concat(qt)]=qt,Y["col--last"]=de===be.length-1,Y["col--tree-node"]=Kt,Y["col--edit"]=ur,Y["col--ellipsis"]=Qt,Y["fixed--hidden"]=Lt,Y["col--dirty"]=dr,Y["col--actived"]=Ye&&ur&&Zt.row===we&&(Zt.column===Q||Pt.mode==="row"),Y["col--valid-error"]=!!sr,Y["col--current"]=tt===Q,Y),getPropClass(yt,Tt),getPropClass(Wt,Tt),getPropClass(Me,Tt)],key:ee||wt.useKey?Q.id:de},ir),{style:Object.assign({height:Qt&&(At||ar)?"".concat(At||ar,"px"):""},XEUtils$1.isFunction(Ct)?Ct(Tt):Ct,XEUtils$1.isFunction(ze)?ze(Tt):ze)}),er),cr)},_e=function(j,K,ue){var ce=l.stripe,we=l.rowKey,Le=l.highlightHoverRow,Pe=l.rowClassName,q=l.rowStyle,Q=l.showOverflow,de=l.editConfig,be=l.treeConfig,_=s.hasFixedColumn,Y=s.treeExpandedMaps,ee=s.scrollYLoad,xe=s.rowExpandedMaps,Ce=s.expandColumn,Me=s.selectRadioRow,ze=g.fullAllDataRowIdData,qe=w.value,Ae=X.value,je=x.value,Ye=O.value,S=B.value,nt=je.transform,dt=je.children||je.childrenField,st=[];return K.forEach(function(et,tt){var ft={},Ke=tt;Ke=r.getRowIndex(et),(S.isHover||Le)&&(ft.onMouseenter=function(Kt){Se()||r.triggerHoverEvent(Kt,{row:et,rowIndex:Ke})},ft.onMouseleave=function(){Se()||r.clearHoverRow()});var ot=getRowid(r,et),ut=ze[ot],Et=0,St=-1,Dt=0;ut&&(Et=ut.level,St=ut.seq,Dt=ut._index);var Pt={$table:r,seq:St,rowid:ot,fixed:j,type:renderType$2,level:Et,row:et,rowIndex:Ke,$rowIndex:tt,_rowIndex:Dt},Rt=Ce&&!!xe[ot],kt=!1,$t=[],wt=!1;if(de&&(wt=r.isInsertByRow(et)),be&&!ee&&!nt&&($t=et[dt],kt=$t&&$t.length&&!!Y[ot]),st.push(Vue.h("tr",__assign$3({class:["vxe-body--row",be?"row--level-".concat(Et):"",{"row--stripe":ce&&(r.getVTRowIndex(et)+1)%2===0,"is--new":wt,"is--expand-row":Rt,"is--expand-tree":kt,"row--new":wt&&(Ye.showStatus||Ye.showInsertStatus),"row--radio":Ae.highlight&&r.eqRow(Me,et),"row--checked":qe.highlight&&r.isCheckedByCheckboxRow(et)},getPropClass(Pe,Pt)],rowid:ot,style:q?XEUtils$1.isFunction(q)?q(Pt):q:null,key:we||S.useKey||be?ot:tt},ft),ue.map(function(Kt,Zt){return De(St,ot,j,Et,et,Ke,tt,Dt,Kt,Zt,ue,K)}))),Rt){var qt=H.value,Mt=qt.height,Yt={};Mt&&(Yt.height="".concat(Mt,"px")),be&&(Yt.paddingLeft="".concat(Et*je.indent+30,"px"));var mt=Ce.showOverflow,Vt=XEUtils$1.isUndefined(mt)||XEUtils$1.isNull(mt)?Q:mt,Wt={$table:r,seq:St,column:Ce,fixed:j,type:renderType$2,level:Et,row:et,rowIndex:Ke,$rowIndex:tt,_rowIndex:Dt};st.push(Vue.h("tr",__assign$3({class:"vxe-body--expanded-row",key:"expand_".concat(ot),style:q?XEUtils$1.isFunction(q)?q(Wt):q:null},ft),[Vue.h("td",{class:{"vxe-body--expanded-column":1,"fixed--hidden":j&&!_,"col--ellipsis":Vt},colspan:ue.length},[Vue.h("div",{class:{"vxe-body--expanded-cell":1,"is--ellipsis":Mt},style:Yt},[Ce.renderData(Wt)])])]))}kt&&st.push.apply(st,_e(j,$t,ue))}),st},$e,te=function(j,K,ue,ce){(ue||ce)&&(ue&&(removeScrollListener(ue),ue.scrollTop=K),ce&&(removeScrollListener(ce),ce.scrollTop=K),clearTimeout($e),$e=setTimeout(function(){restoreScrollListener(ue),restoreScrollListener(ce),s.lastScrollTime=Date.now()},300))},ve=function(j){var K=e.fixedType,ue=l.highlightHoverRow,ce=s.scrollXLoad,we=s.scrollYLoad,Le=g.elemStore,Pe=g.lastScrollTop,q=g.lastScrollLeft,Q=B.value,de=d.value,be=h.value,_=T.value,Y=U.value,ee=A.value,xe=M.value,Ce=J.value,Me=de?de.$el:null,ze=_?_.$el:null,qe=be.$el,Ae=Y?Y.$el:null,je=ee?ee.$el:null,Ye=Le["main-body-ySpace"],S=Ye?Ye.value:null,nt=Le["main-body-xSpace"],dt=nt?nt.value:null,st=we&&S?S.clientHeight:qe.clientHeight,et=ce&&dt?dt.clientWidth:qe.clientWidth,tt=Ce.scrollTop,ft=qe.scrollLeft,Ke=ft!==q,ot=tt!==Pe;g.lastScrollTop=tt,g.lastScrollLeft=ft,s.lastScrollTime=Date.now(),(Q.isHover||ue)&&r.clearHoverRow(),Ae&&K==="left"?(tt=Ae.scrollTop,te(K,tt,qe,je)):je&&K==="right"?(tt=je.scrollTop,te(K,tt,qe,Ae)):(Ke&&(Me&&(Me.scrollLeft=qe.scrollLeft),ze&&(ze.scrollLeft=qe.scrollLeft)),(Ae||je)&&(r.checkScrolling(),ot&&te(K,tt,Ae,je))),ce&&Ke&&r.triggerScrollXEvent(j),we&&ot&&r.triggerScrollYEvent(j),Ke&&xe&&xe.reactData.visible&&xe.updatePlacement(),r.dispatchEvent("scroll",{type:renderType$2,fixed:K,scrollTop:tt,scrollLeft:ft,scrollHeight:qe.scrollHeight,scrollWidth:qe.scrollWidth,bodyHeight:st,bodyWidth:et,isX:Ke,isY:ot},j)},Ve,Xe=0,ye=0,ne=0,ie=!1,Ie=function(j,K,ue,ce,we){var Le=g.elemStore,Pe=s.scrollXLoad,q=s.scrollYLoad,Q=h.value,de=U.value,be=A.value,_=de?de.$el:null,Y=be?be.$el:null,ee=Q.$el,xe=Le["main-body-ySpace"],Ce=xe?xe.value:null,Me=Le["main-body-xSpace"],ze=Me?Me.value:null,qe=q&&Ce?Ce.clientHeight:ee.clientHeight,Ae=Pe&&ze?ze.clientWidth:ee.clientWidth,je=ie===K?Math.max(0,Xe-ne):0;ie=K,Xe=Math.abs(K?ue-je:ue+je),ye=0,ne=0,clearTimeout(Ve);var Ye=function(){if(ne<Xe){var S=e.fixedType;ye=Math.max(5,Math.floor(ye*1.5)),ne=ne+ye,ne>Xe&&(ye=ye-(ne-Xe));var nt=ee.scrollTop,dt=ee.clientHeight,st=ee.scrollHeight,et=nt+ye*(K?-1:1);ee.scrollTop=et,_&&(_.scrollTop=et),Y&&(Y.scrollTop=et),(K?et<st-dt:et>=0)&&(Ve=setTimeout(Ye,10)),r.dispatchEvent("scroll",{type:renderType$2,fixed:S,scrollTop:ee.scrollTop,scrollLeft:ee.scrollLeft,scrollHeight:ee.scrollHeight,scrollWidth:ee.scrollWidth,bodyHeight:qe,bodyWidth:Ae,isX:ce,isY:we},j)}};Ye()},Ge=function(j){var K=j.deltaY,ue=j.deltaX,ce=l.highlightHoverRow,we=s.scrollYLoad,Le=g.lastScrollTop,Pe=g.lastScrollLeft,q=B.value,Q=h.value,de=J.value,be=Q.$el,_=K,Y=ue,ee=_<0;if(!(ee?de.scrollTop<=0:de.scrollTop>=de.scrollHeight-de.clientHeight)){var xe=de.scrollTop+_,Ce=be.scrollLeft+Y,Me=Ce!==Pe,ze=xe!==Le;ze&&(j.preventDefault(),g.lastScrollTop=xe,g.lastScrollLeft=Ce,s.lastScrollTime=Date.now(),(q.isHover||ce)&&r.clearHoverRow(),Ie(j,ee,_,Me,ze),we&&r.triggerScrollYEvent(j))}};Vue.onMounted(function(){Vue.nextTick(function(){var j=e.fixedType,K=g.elemStore,ue="".concat(j||"main","-body-"),ce=J.value;K["".concat(ue,"wrapper")]=J,K["".concat(ue,"table")]=F,K["".concat(ue,"colgroup")]=W,K["".concat(ue,"list")]=oe,K["".concat(ue,"xSpace")]=he,K["".concat(ue,"ySpace")]=me,K["".concat(ue,"emptyBlock")]=Re,ce.onscroll=ve,ce._onscroll=ve})}),Vue.onBeforeUnmount(function(){var j=J.value;clearTimeout(Ve),j&&(j._onscroll=null,j.onscroll=null)}),Vue.onUnmounted(function(){var j=e.fixedType,K=g.elemStore,ue="".concat(j||"main","-body-");K["".concat(ue,"wrapper")]=null,K["".concat(ue,"table")]=null,K["".concat(ue,"colgroup")]=null,K["".concat(ue,"list")]=null,K["".concat(ue,"xSpace")]=null,K["".concat(ue,"ySpace")]=null,K["".concat(ue,"emptyBlock")]=null});var We=function(){var j=e.fixedColumn,K=e.fixedType,ue=e.tableColumn,ce=l.keyboardConfig,we=l.showOverflow,Le=l.spanMethod,Pe=l.mouseConfig,q=s.tableData,Q=s.mergeList,de=s.scrollYLoad,be=s.isAllOverflow,_=g.visibleColumn,Y=c.slots,ee=E.value,xe=V.value,Ce=D.value,Me=R.value;K&&(!s.expandColumn&&(de||we&&be)&&!Q.length&&!Le&&!(ce&&Ce.isMerge)?ue=j:ue=_);var ze;if(Y.empty)ze=r.callSlot(Y.empty,{$table:r,$grid:r.xegrid});else{var qe=xe.name?VXETable.renderer.get(xe.name):null,Ae=qe?qe.renderEmpty:null;Ae?ze=getSlotVNs(Ae(xe,{$table:r})):ze=l.emptyText||GlobalConfig.i18n("vxe.table.emptyText")}return Vue.h("div",__assign$3({ref:J,class:["vxe-table--body-wrapper",K?"fixed-".concat(K,"--wrapper"):"body--wrapper"],xid:n},ee.mode==="wheel"?{onWheel:Ge}:{}),[K?Vue.createCommentVNode():Vue.h("div",{ref:he,class:"vxe-body--x-space"}),Vue.h("div",{ref:me,class:"vxe-body--y-space"}),Vue.h("table",{ref:F,class:"vxe-table--body",xid:n,cellspacing:0,cellpadding:0,border:0},[Vue.h("colgroup",{ref:W},ue.map(function(je,Ye){return Vue.h("col",{name:je.id,key:Ye})})),Vue.h("tbody",{ref:oe},_e(K,q,ue))]),Vue.h("div",{class:"vxe-table--checkbox-range"}),Pe&&Me.area?Vue.h("div",{class:"vxe-table--cell-area"},[Vue.h("span",{class:"vxe-table--cell-main-area"},Me.extension?[Vue.h("span",{class:"vxe-table--cell-main-area-btn",onMousedown:function(je){r.triggerCellExtendMousedownEvent(je,{$table:r,fixed:K,type:renderType$2})}})]:[]),Vue.h("span",{class:"vxe-table--cell-copy-area"}),Vue.h("span",{class:"vxe-table--cell-extend-area"}),Vue.h("span",{class:"vxe-table--cell-multi-area"}),Vue.h("span",{class:"vxe-table--cell-active-area"})]):null,K?null:Vue.h("div",{class:"vxe-table--empty-block",ref:Re},[Vue.h("div",{class:"vxe-table--empty-content"},ze)])])};return We}});var getAllColumns=function(e,r){var a=[];return e.forEach(function(n){n.parentId=r?r.id:null,n.visible&&(n.children&&n.children.length&&n.children.some(function(l){return l.visible})?(a.push(n),a.push.apply(a,getAllColumns(n.children,n))):a.push(n))}),a},convertToRows=function(e){var r=1,a=function(s,g){if(g&&(s.level=g.level+1,r<s.level&&(r=s.level)),s.children&&s.children.length&&s.children.some(function(d){return d.visible})){var o=0;s.children.forEach(function(d){d.visible&&(a(d,s),o+=d.colSpan)}),s.colSpan=o}else s.colSpan=1};e.forEach(function(s){s.level=1,a(s)});for(var n=[],l=0;l<r;l++)n.push([]);var c=getAllColumns(e);return c.forEach(function(s){s.children&&s.children.length&&s.children.some(function(g){return g.visible})?s.rowSpan=1:s.rowSpan=r-s.level+1,n[s.level-1].push(s)}),n},__assign$2=globalThis&&globalThis.__assign||function(){return __assign$2=Object.assign||function(e){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},__assign$2.apply(this,arguments)},renderType$1="header";const VxeTableHeader=Vue.defineComponent({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup:function(e){var r=Vue.inject("$xetable",{}),a=r.xID,n=r.props,l=r.reactData,c=r.internalData,s=r.getRefMaps(),g=s.refElem,o=s.refTableBody,d=s.refLeftContainer,h=s.refRightContainer,T=s.refCellResizeBar,U=r.getComputeMaps().computeColumnOpts,A=Vue.ref([]),M=Vue.ref(),L=Vue.ref(),O=Vue.ref(),R=Vue.ref(),E=Vue.ref(),V=Vue.ref(),D=function(){var H=l.isGroup;A.value=H?convertToRows(e.tableGroupColumn):[]},N=function(H,x){var w=x.column,P=e.fixedType,B=o.value,ae=d.value,J=h.value,F=T.value,W=H.clientX,oe=M.value,he=H.target,me=x.cell=he.parentNode,Re=0,Oe=B.$el,Se=getOffsetPos(he,oe),ge=he.clientWidth,Be=Math.floor(ge/2),pe=getColReMinWidth(x)-Be,De=Se.left-me.clientWidth+ge+pe,_e=Se.left+Be,$e=document.onmousemove,te=document.onmouseup,ve=P==="left",Ve=P==="right",Xe=g.value,ye=0;if(ve||Ve){for(var ne=ve?"nextElementSibling":"previousElementSibling",ie=me[ne];ie&&!hasClass(ie,"fixed--hidden");)hasClass(ie,"col--group")||(ye+=ie.offsetWidth),ie=ie[ne];Ve&&J&&(_e=J.offsetLeft+ye)}var Ie=function(Ge){Ge.stopPropagation(),Ge.preventDefault();var We=Ge.clientX-W,j=_e+We,K=P?0:Oe.scrollLeft;ve?j=Math.min(j,(J?J.offsetLeft:Oe.clientWidth)-ye-pe):Ve?(De=(ae?ae.clientWidth:0)+ye+pe,j=Math.min(j,_e+me.clientWidth-pe)):De=Math.max(Oe.scrollLeft,De),Re=Math.max(j,De),F.style.left="".concat(Re-K,"px")};l._isResize=!0,addClass(Xe,"drag--resize"),F.style.display="block",document.onmousemove=Ie,document.onmouseup=function(Ge){document.onmousemove=$e,document.onmouseup=te;var We=w.renderWidth+(Ve?_e-Re:Re-_e);w.resizeWidth=We,F.style.display="none",l._isResize=!1,c._lastResizeTime=Date.now(),r.analyColumnWidth(),r.recalculate(!0).then(function(){r.saveCustomResizable(),r.updateCellAreas(),r.dispatchEvent("resizable-change",__assign$2(__assign$2({},x),{resizeWidth:We}),Ge)}),removeClass(Xe,"drag--resize")},Ie(H),r.closeMenu&&r.closeMenu()};Vue.watch(function(){return e.tableColumn},D),Vue.onMounted(function(){Vue.nextTick(function(){var H=e.fixedType,x=r.internalData,w=x.elemStore,P="".concat(H||"main","-header-");w["".concat(P,"wrapper")]=M,w["".concat(P,"table")]=L,w["".concat(P,"colgroup")]=O,w["".concat(P,"list")]=R,w["".concat(P,"xSpace")]=E,w["".concat(P,"repair")]=V,D()})}),Vue.onUnmounted(function(){var H=e.fixedType,x=r.internalData,w=x.elemStore,P="".concat(H||"main","-header-");w["".concat(P,"wrapper")]=null,w["".concat(P,"table")]=null,w["".concat(P,"colgroup")]=null,w["".concat(P,"list")]=null,w["".concat(P,"xSpace")]=null,w["".concat(P,"repair")]=null});var X=function(){var H=e.fixedType,x=e.fixedColumn,w=e.tableColumn,P=n.resizable,B=n.border,ae=n.columnKey,J=n.headerRowClassName,F=n.headerCellClassName,W=n.headerRowStyle,oe=n.headerCellStyle,he=n.showHeaderOverflow,me=n.headerAlign,Re=n.align,Oe=n.mouseConfig,Se=l.isGroup,ge=l.currentColumn,Be=l.scrollXLoad,pe=l.overflowX,De=l.scrollbarWidth,_e=c.visibleColumn,$e=U.value,te=A.value,ve=w;return Se?ve=_e:(H&&(Be||he)&&(ve=x),te=[ve]),Vue.h("div",{ref:M,class:["vxe-table--header-wrapper",H?"fixed-".concat(H,"--wrapper"):"body--wrapper"],xid:a},[H?Vue.createCommentVNode():Vue.h("div",{ref:E,class:"vxe-body--x-space"}),Vue.h("table",{ref:L,class:"vxe-table--header",xid:a,cellspacing:0,cellpadding:0,border:0},[Vue.h("colgroup",{ref:O},ve.map(function(Ve,Xe){return Vue.h("col",{name:Ve.id,key:Xe})}).concat(De?[Vue.h("col",{name:"col_gutter"})]:[])),Vue.h("thead",{ref:R},te.map(function(Ve,Xe){return Vue.h("tr",{class:["vxe-header--row",J?XEUtils$1.isFunction(J)?J({$table:r,$rowIndex:Xe,fixed:H,type:renderType$1}):J:""],style:W?XEUtils$1.isFunction(W)?W({$table:r,$rowIndex:Xe,fixed:H,type:renderType$1}):W:null},Ve.map(function(ye,ne){var ie,Ie=ye.type,Ge=ye.showHeaderOverflow,We=ye.headerAlign,j=ye.align,K=ye.headerClassName,ue=ye.children&&ye.children.length,ce=H?ye.fixed!==H&&!ue:!!ye.fixed&&pe,we=XEUtils$1.isUndefined(Ge)||XEUtils$1.isNull(Ge)?he:Ge,Le=We||j||me||Re,Pe=we==="ellipsis",q=we==="title",Q=we===!0||we==="tooltip",de=q||Q||Pe,be=ye.filters&&ye.filters.some(function(Ce){return Ce.checked}),_=r.getColumnIndex(ye),Y=r.getVTColumnIndex(ye),ee={$table:r,$grid:r.xegrid,$rowIndex:Xe,column:ye,columnIndex:_,$columnIndex:ne,_columnIndex:Y,fixed:H,type:renderType$1,isHidden:ce,hasFilter:be},xe={onClick:function(Ce){return r.triggerHeaderCellClickEvent(Ce,ee)},onDblclick:function(Ce){return r.triggerHeaderCellDblclickEvent(Ce,ee)}};return Be&&!de&&(Pe=de=!0),Oe&&(xe.onMousedown=function(Ce){return r.triggerHeaderCellMousedownEvent(Ce,ee)}),Vue.h("th",__assign$2(__assign$2({class:["vxe-header--column",ye.id,(ie={},ie["col--".concat(Le)]=Le,ie["col--".concat(Ie)]=Ie,ie["col--last"]=ne===Ve.length-1,ie["col--fixed"]=ye.fixed,ie["col--group"]=ue,ie["col--ellipsis"]=de,ie["fixed--hidden"]=ce,ie["is--sortable"]=ye.sortable,ie["col--filter"]=!!ye.filters,ie["is--filter-active"]=be,ie["col--current"]=ge===ye,ie),K?XEUtils$1.isFunction(K)?K(ee):K:"",F?XEUtils$1.isFunction(F)?F(ee):F:""],colid:ye.id,colspan:ye.colSpan>1?ye.colSpan:null,rowspan:ye.rowSpan>1?ye.rowSpan:null,style:oe?XEUtils$1.isFunction(oe)?oe(ee):oe:null},xe),{key:ae||$e.useKey||ue?ye.id:ne}),[Vue.h("div",{class:["vxe-cell",{"c--title":q,"c--tooltip":Q,"c--ellipsis":Pe}]},ye.renderHeader(ee)),!ce&&!ue&&(XEUtils$1.isBoolean(ye.resizable)?ye.resizable:$e.resizable||P)?Vue.h("div",{class:["vxe-resizable",{"is--line":!B||B==="none"}],onMousedown:function(Ce){return N(Ce,ee)}}):null])}).concat(De?[Vue.h("th",{class:"vxe-header--gutter col--gutter"})]:[]))}))]),Vue.h("div",{ref:V,class:"vxe-table--header-border-line"})])};return X}});var Header=Object.assign(VxeTableHeader,{install:function(e){e.component(VxeTableHeader.name,VxeTableHeader)}});dynamicApp.component(VxeTableHeader.name,VxeTableHeader);var __assign$1=globalThis&&globalThis.__assign||function(){return __assign$1=Object.assign||function(e){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},__assign$1.apply(this,arguments)},renderType="footer";function mergeFooterMethod(e,r,a){for(var n=0;n<e.length;n++){var l=e[n],c=l.row,s=l.col,g=l.rowspan,o=l.colspan;if(s>-1&&c>-1&&g&&o){if(c===r&&s===a)return{rowspan:g,colspan:o};if(r>=c&&r<c+g&&a>=s&&a<s+o)return{rowspan:0,colspan:0}}}}const VxeTableFooterComponent=Vue.defineComponent({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:function(){return[]}},tableColumn:{type:Array,default:function(){return[]}},fixedColumn:{type:Array,default:function(){return[]}},fixedType:{type:String,default:null}},setup:function(e){var r=Vue.inject("$xetable",{}),a=r.xID,n=r.props,l=r.reactData,c=r.internalData,s=r.getRefMaps(),g=s.refTableHeader,o=s.refTableBody,d=s.refValidTooltip,h=r.getComputeMaps(),T=h.computeTooltipOpts,U=h.computeColumnOpts,A=Vue.ref(),M=Vue.ref(),L=Vue.ref(),O=Vue.ref(),R=Vue.ref(),E=function(D){var N=e.fixedType,X=l.scrollXLoad,H=c.lastScrollLeft,x=d.value,w=g.value,P=o.value,B=w?w.$el:null,ae=A.value,J=P.$el,F=ae.scrollLeft,W=F!==H;c.lastScrollLeft=F,l.lastScrollTime=Date.now(),B&&(B.scrollLeft=F),J&&(J.scrollLeft=F),X&&W&&r.triggerScrollXEvent(D),W&&x&&x.reactData.visible&&x.updatePlacement(),r.dispatchEvent("scroll",{type:renderType,fixed:N,scrollTop:J.scrollTop,scrollLeft:F,isX:W,isY:!1},D)};Vue.onMounted(function(){Vue.nextTick(function(){var D=e.fixedType,N=c.elemStore,X="".concat(D||"main","-footer-");N["".concat(X,"wrapper")]=A,N["".concat(X,"table")]=M,N["".concat(X,"colgroup")]=L,N["".concat(X,"list")]=O,N["".concat(X,"xSpace")]=R})}),Vue.onUnmounted(function(){var D=e.fixedType,N=c.elemStore,X="".concat(D||"main","-footer-");N["".concat(X,"wrapper")]=null,N["".concat(X,"table")]=null,N["".concat(X,"colgroup")]=null,N["".concat(X,"list")]=null,N["".concat(X,"xSpace")]=null});var V=function(){var D=e.fixedType,N=e.fixedColumn,X=e.tableColumn,H=e.footerTableData,x=n.footerRowClassName,w=n.footerCellClassName,P=n.footerRowStyle,B=n.footerCellStyle,ae=n.footerAlign,J=n.footerSpanMethod,F=n.align,W=n.columnKey,oe=n.showFooterOverflow,he=c.visibleColumn,me=l.scrollXLoad,Re=l.overflowX,Oe=l.scrollbarWidth,Se=l.currentColumn,ge=l.mergeFooterList,Be=T.value,pe=U.value;return D&&(!l.expandColumn&&(me||oe)&&(!ge.length||!J)?X=N:X=he),Vue.h("div",{ref:A,class:["vxe-table--footer-wrapper",D?"fixed-".concat(D,"--wrapper"):"body--wrapper"],xid:a,onScroll:E},[D?Vue.createCommentVNode():Vue.h("div",{ref:R,class:"vxe-body--x-space"}),Vue.h("table",{ref:M,class:"vxe-table--footer",xid:a,cellspacing:0,cellpadding:0,border:0},[Vue.h("colgroup",{ref:L},X.map(function(De,_e){return Vue.h("col",{name:De.id,key:_e})}).concat(Oe?[Vue.h("col",{name:"col_gutter"})]:[])),Vue.h("tfoot",{ref:O},H.map(function(De,_e){var $e=_e;return Vue.h("tr",{class:["vxe-footer--row",x?XEUtils$1.isFunction(x)?x({$table:r,_rowIndex:_e,$rowIndex:$e,fixed:D,type:renderType}):x:""],style:P?XEUtils$1.isFunction(P)?P({$table:r,_rowIndex:_e,$rowIndex:$e,fixed:D,type:renderType}):P:null},X.map(function(te,ve){var Ve,Xe=te.type,ye=te.showFooterOverflow,ne=te.footerAlign,ie=te.align,Ie=te.footerClassName,Ge=Be.showAll,We=te.children&&te.children.length,j=D?te.fixed!==D&&!We:te.fixed&&Re,K=XEUtils$1.isUndefined(ye)||XEUtils$1.isNull(ye)?oe:ye,ue=ne||ie||ae||F,ce=K==="ellipsis",we=K==="title",Le=K===!0||K==="tooltip",Pe=we||Le||ce,q={colid:te.id},Q={},de=r.getColumnIndex(te),be=r.getVTColumnIndex(te),_=be,Y={$table:r,$grid:r.xegrid,_rowIndex:_e,$rowIndex:$e,column:te,columnIndex:de,$columnIndex:ve,_columnIndex:be,itemIndex:_,items:De,fixed:D,type:renderType,data:H};if(me&&!Pe&&(ce=Pe=!0),(we||Le||Ge)&&(Q.onMouseenter=function(Ae){we?updateCellTitle(Ae.currentTarget,te):(Le||Ge)&&r.triggerFooterTooltipEvent(Ae,Y)}),(Le||Ge)&&(Q.onMouseleave=function(Ae){(Le||Ge)&&r.handleTargetLeaveEvent(Ae)}),Q.onClick=function(Ae){r.dispatchEvent("footer-cell-click",Object.assign({cell:Ae.currentTarget},Y),Ae)},Q.onDblclick=function(Ae){r.dispatchEvent("footer-cell-dblclick",Object.assign({cell:Ae.currentTarget},Y),Ae)},ge.length){var ee=mergeFooterMethod(ge,_e,be);if(ee){var xe=ee.rowspan,Ce=ee.colspan;if(!xe||!Ce)return null;xe>1&&(q.rowspan=xe),Ce>1&&(q.colspan=Ce)}}else if(J){var Me=J(Y)||{},ze=Me.rowspan,xe=ze===void 0?1:ze,qe=Me.colspan,Ce=qe===void 0?1:qe;if(!xe||!Ce)return null;xe>1&&(q.rowspan=xe),Ce>1&&(q.colspan=Ce)}return Vue.h("td",__assign$1(__assign$1(__assign$1(__assign$1({class:["vxe-footer--column",te.id,(Ve={},Ve["col--".concat(ue)]=ue,Ve["col--".concat(Xe)]=Xe,Ve["col--last"]=ve===X.length-1,Ve["fixed--hidden"]=j,Ve["col--ellipsis"]=Pe,Ve["col--current"]=Se===te,Ve),getPropClass(Ie,Y),getPropClass(w,Y)]},q),{style:B?XEUtils$1.isFunction(B)?B(Y):B:null}),Q),{key:W||pe.useKey?te.id:ve}),[Vue.h("div",{class:["vxe-cell",{"c--title":we,"c--tooltip":Le,"c--ellipsis":ce}]},te.renderFooter(Y))])}).concat(Oe?[Vue.h("td",{class:"vxe-footer--gutter col--gutter"})]:[]))}))])])};return V}});var Footer=Object.assign(VxeTableFooterComponent,{install:function(e){e.component(VxeTableFooterComponent.name,VxeTableFooterComponent)}});dynamicApp.component(VxeTableFooterComponent.name,VxeTableFooterComponent);var __assign=globalThis&&globalThis.__assign||function(){return __assign=Object.assign||function(e){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},__assign.apply(this,arguments)},__spreadArray=globalThis&&globalThis.__spreadArray||function(e,r,a){if(a||arguments.length===2)for(var n=0,l=r.length,c;n<l;n++)(c||!(n in r))&&(c||(c=Array.prototype.slice.call(r,0,n)),c[n]=r[n]);return e.concat(c||Array.prototype.slice.call(r))},isWebkit=browse["-webkit"]&&!browse.edge,resizableStorageKey="VXE_TABLE_CUSTOM_COLUMN_WIDTH",visibleStorageKey="VXE_TABLE_CUSTOM_COLUMN_VISIBLE",fixedStorageKey="VXE_TABLE_CUSTOM_COLUMN_FIXED",orderStorageKey="VXE_TABLE_CUSTOM_COLUMN_ORDER";const VxeTableComponent=Vue.defineComponent({name:"VxeTable",props:tableProps,emits:tableEmits,setup:function(e,r){var a=r.slots,n=r.emit,l=VXETable.tooltip,c=XEUtils$1.uniqueId(),s=useSize(e),g=Vue.getCurrentInstance(),o=Vue.reactive({staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,lastScrollTime:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,selectCheckboxMaps:{},currentRow:null,currentColumn:null,selectRadioRow:null,footerTableData:[],expandColumn:null,treeNodeColumn:null,hasFixedColumn:!1,rowExpandedMaps:{},rowExpandLazyLoadedMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},treeIndeterminateMaps:{},mergeList:[],mergeFooterList:[],upDataFlag:0,reColumnFlag:0,initStore:{filter:!1,import:!1,export:!1},filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],scaleList:[],scaleMinList:[],autoList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},insertMaps:{},removeMaps:{}},tooltipStore:{row:null,column:null,content:null,visible:!1,currOpts:null},validStore:{visible:!1},validErrorMaps:{},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isFooter:!1},scrollVMLoading:!1,_isResize:!1}),d={tZindex:0,elemStore:{},scrollXStore:{offsetSize:0,visibleSize:0,startIndex:0,endIndex:0},scrollYStore:{rowHeight:0,offsetSize:0,visibleSize:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,headerHeight:0,footerHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},treeIndeterminateRowMaps:{},tableFullData:[],afterFullData:[],afterTreeFullData:[],afterFullRowMaps:{},tableFullTreeData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},sourceDataRowIdData:{},fullDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1},h={},T={},U=Vue.ref(),A=Vue.ref(),M=Vue.ref(),L=Vue.ref(),O=Vue.ref(),R=Vue.ref(),E=Vue.ref(),V=Vue.ref(),D=Vue.ref(),N=Vue.ref(),X=Vue.ref(),H=Vue.ref(),x=Vue.ref(),w=Vue.ref(),P=Vue.ref(),B=Vue.ref(),ae=Vue.ref(),J=Vue.ref(),F=Vue.ref(),W=Vue.inject("$xegrid",null),oe,he=Vue.computed(function(){return Object.assign({},GlobalConfig.table.validConfig,e.validConfig)}),me=Vue.computed(function(){return Object.assign({},GlobalConfig.table.scrollX,e.scrollX)}),Re=Vue.computed(function(){return Object.assign({},GlobalConfig.table.scrollY,e.scrollY)}),Oe=Vue.computed(function(){return{default:48,medium:44,small:40,mini:36}}),Se=Vue.computed(function(){return Object.assign({},GlobalConfig.table.columnConfig,e.columnConfig)}),ge=Vue.computed(function(){return Object.assign({},GlobalConfig.table.rowConfig,e.rowConfig)}),Be=Vue.computed(function(){return Object.assign({},GlobalConfig.table.resizeConfig,e.resizeConfig)}),pe=Vue.computed(function(){return Object.assign({},GlobalConfig.table.resizableConfig,e.resizableConfig)}),De=Vue.computed(function(){return Object.assign({startIndex:0},GlobalConfig.table.seqConfig,e.seqConfig)}),_e=Vue.computed(function(){return Object.assign({},GlobalConfig.table.radioConfig,e.radioConfig)}),$e=Vue.computed(function(){return Object.assign({},GlobalConfig.table.checkboxConfig,e.checkboxConfig)}),te=Vue.ref();te=Vue.computed(function(){return Object.assign({},GlobalConfig.tooltip,GlobalConfig.table.tooltipConfig,e.tooltipConfig)});var ve=Vue.computed(function(){var u=o.tooltipStore,f=te.value;return __assign(__assign({},f),u.currOpts)}),Ve=Vue.computed(function(){var u=te.value;return Object.assign({isArrow:!1},u)}),Xe=Vue.computed(function(){return Object.assign({},GlobalConfig.table.editConfig,e.editConfig)}),ye=Vue.computed(function(){return Object.assign({orders:["asc","desc",null]},GlobalConfig.table.sortConfig,e.sortConfig)}),ne=Vue.computed(function(){return Object.assign({},GlobalConfig.table.filterConfig,e.filterConfig)}),ie=Vue.computed(function(){return Object.assign({},GlobalConfig.table.mouseConfig,e.mouseConfig)}),Ie=Vue.computed(function(){return Object.assign({},GlobalConfig.table.areaConfig,e.areaConfig)}),Ge=Vue.computed(function(){return Object.assign({},GlobalConfig.table.keyboardConfig,e.keyboardConfig)}),We=Vue.computed(function(){return Object.assign({},GlobalConfig.table.clipConfig,e.clipConfig)}),j=Vue.computed(function(){return Object.assign({},GlobalConfig.table.fnrConfig,e.fnrConfig)}),K=Vue.computed(function(){return Object.assign({},GlobalConfig.table.menuConfig,e.menuConfig)}),ue=Vue.computed(function(){var u=K.value,f=u.header;return f&&f.options?f.options:[]}),ce=Vue.computed(function(){var u=K.value,f=u.body;return f&&f.options?f.options:[]}),we=Vue.computed(function(){var u=K.value,f=u.footer;return f&&f.options?f.options:[]}),Le=Vue.computed(function(){var u=K.value,f=ue.value,p=ce.value,m=we.value;return!!(e.menuConfig&&isEnableConf(u)&&(f.length||p.length||m.length))}),Pe=Vue.computed(function(){var u=o.ctxMenuStore,f=[];return u.list.forEach(function(p){p.forEach(function(m){f.push(m)})}),f}),q=Vue.computed(function(){return Object.assign({},GlobalConfig.table.exportConfig,e.exportConfig)}),Q=Vue.computed(function(){return Object.assign({},GlobalConfig.table.importConfig,e.importConfig)}),de=Vue.computed(function(){return Object.assign({},GlobalConfig.table.printConfig,e.printConfig)}),be=Vue.computed(function(){return Object.assign({},GlobalConfig.table.expandConfig,e.expandConfig)}),_=Vue.computed(function(){return Object.assign({},GlobalConfig.table.treeConfig,e.treeConfig)}),Y=Vue.computed(function(){return Object.assign({},GlobalConfig.table.emptyRender,e.emptyRender)}),ee=Vue.computed(function(){return Object.assign({},GlobalConfig.table.loadingConfig,e.loadingConfig)}),xe=Vue.computed(function(){return e.border?Math.max(2,Math.ceil(o.scrollbarWidth/o.tableColumn.length)):1}),Ce=Vue.computed(function(){return Object.assign({},GlobalConfig.table.customConfig,e.customConfig)}),Me=Vue.computed(function(){var u=d.tableFullColumn,f=0;return u.forEach(function(p){p.fixed&&f++}),f}),ze=Vue.computed(function(){var u=Me.value,f=Se.value,p=f.maxFixedSize;return p?u>=p:!1}),qe=Vue.computed(function(){var u=e.border;return u===!0?"full":u||"default"}),Ae=Vue.computed(function(){e.treeConfig;var u=o.tableData,f=d.tableFullData,p=$e.value,m=p.strict,b=p.checkMethod;return m?u.length||f.length?b?f.every(function(y){return!b({row:y})}):!1:!0:!1}),je={refElem:U,refTooltip:A,refValidTooltip:L,refTableFilter:O,refTableMenu:R,refTableHeader:E,refTableBody:V,refTableFooter:D,refTableLeftHeader:N,refTableLeftBody:X,refTableLeftFooter:H,refTableRightHeader:x,refTableRightBody:w,refTableRightFooter:P,refLeftContainer:B,refRightContainer:ae,refCellResizeBar:J},Ye={computeSize:s,computeValidOpts:he,computeSXOpts:me,computeSYOpts:Re,computeColumnOpts:Se,computeRowOpts:ge,computeResizeleOpts:Be,computeResizableOpts:pe,computeSeqOpts:De,computeRadioOpts:_e,computeCheckboxOpts:$e,computeTooltipOpts:te,computeEditOpts:Xe,computeSortOpts:ye,computeFilterOpts:ne,computeMouseOpts:ie,computeAreaOpts:Ie,computeKeyboardOpts:Ge,computeClipOpts:We,computeFNROpts:j,computeHeaderMenu:ue,computeBodyMenu:ce,computeFooterMenu:we,computeIsMenu:Le,computeMenuOpts:K,computeExportOpts:q,computeImportOpts:Q,computePrintOpts:de,computeExpandOpts:be,computeTreeOpts:_,computeEmptyOpts:Y,computeLoadingOpts:ee,computeCustomOpts:Ce,computeFixedColumnSize:Me,computeIsMaxFixedColumn:ze,computeIsAllCheckboxDisabled:Ae},S={xID:c,props:e,context:r,instance:g,reactData:o,internalData:d,getRefMaps:function(){return je},getComputeMaps:function(){return Ye},xegrid:W},nt=function(u,f,p){var m=XEUtils$1.get(u,p),b=XEUtils$1.get(f,p);return eqEmptyValue(m)&&eqEmptyValue(b)?!0:XEUtils$1.isString(m)||XEUtils$1.isNumber(m)?""+m==""+b:XEUtils$1.isEqual(m,b)},dt=function(u){var f=ye.value,p=f.orders,m=u.order||null,b=p.indexOf(m)+1;return p[b<p.length?b:0]},st=function(u){var f=GlobalConfig.version,p=XEUtils$1.toStringJSON(localStorage.getItem(u)||"");return p&&p._v===f?p:{_v:f}},et=function(u){var f=d.fullAllDataRowIdData,p={};return XEUtils$1.each(u,function(m,b){f[b]&&(p[b]=m)}),p},tt=function(u){var f=d.fullDataRowIdData,p=[];return XEUtils$1.each(u,function(m,b){f[b]&&S.findRowIndexOf(p,f[b].row)===-1&&p.push(f[b].row)}),p},ft=function(){var u=d.visibleColumn,f=V.value,p=f?f.$el:null;if(p){for(var m=p.scrollLeft,b=p.clientWidth,y=m+b,$=-1,k=0,I=0,G=0,Z=u.length;G<Z&&(k+=u[G].renderWidth,$===-1&&m<k&&($=G),!($>=0&&(I++,k>y)));G++);return{toVisibleIndex:Math.max(0,$),visibleSize:Math.max(8,I)}}return{toVisibleIndex:0,visibleSize:8}},Ke=function(){var u=E.value,f=V.value,p=f?f.$el:null,m=s.value,b=Oe.value;if(p){var y=u?u.$el:null,$=0,k=void 0;k=p.querySelector("tr"),!k&&y&&(k=y.querySelector("tr")),k&&($=k.clientHeight),$||($=b[m||"default"]);var I=Math.max(8,Math.ceil(p.clientHeight/$)+2);return{rowHeight:$,visibleSize:I}}return{rowHeight:0,visibleSize:8}},ot=function(u,f,p){for(var m=0,b=u.length;m<b;m++){var y=u[m],$=f.startIndex,k=f.endIndex,I=y[p],G=y[p+"span"],Z=I+G;I<$&&$<Z&&(f.startIndex=I),I<k&&k<Z&&(f.endIndex=Z),(f.startIndex!==$||f.endIndex!==k)&&(m=-1)}},ut=function(u,f,p){if(u){var m=e.treeConfig,b=d.visibleColumn;XEUtils$1.isArray(u)||(u=[u]),m&&u.length&&errLog("vxe.error.noTree",["merge-cells | merge-footer-items"]),u.forEach(function(y){var $=y.row,k=y.col,I=y.rowspan,G=y.colspan;if(p&&XEUtils$1.isNumber($)&&($=p[$]),XEUtils$1.isNumber(k)&&(k=b[k]),(p?$:XEUtils$1.isNumber($))&&k&&(I||G)&&(I=XEUtils$1.toNumber(I)||1,G=XEUtils$1.toNumber(G)||1,I>1||G>1)){var Z=XEUtils$1.findIndexOf(f,function(fe){return(fe._row===$||getRowid(S,fe._row)===getRowid(S,$))&&(fe._col.id===k||fe._col.id===k.id)}),le=f[Z];if(le)le.rowspan=I,le.colspan=G,le._rowspan=I,le._colspan=G;else{var Te=p?S.findRowIndexOf(p,$):$,ke=h.getVTColumnIndex(k);f.push({row:Te,col:ke,rowspan:I,colspan:G,_row:$,_col:k,_rowspan:I,_colspan:G})}}})}},Et=function(u,f,p){var m=[];if(u){var b=e.treeConfig,y=d.visibleColumn;XEUtils$1.isArray(u)||(u=[u]),b&&u.length&&errLog("vxe.error.noTree",["merge-cells | merge-footer-items"]),u.forEach(function($){var k=$.row,I=$.col;p&&XEUtils$1.isNumber(k)&&(k=p[k]),XEUtils$1.isNumber(I)&&(I=y[I]);var G=XEUtils$1.findIndexOf(f,function(le){return(le._row===k||getRowid(S,le._row)===getRowid(S,k))&&(le._col.id===I||le._col.id===I.id)});if(G>-1){var Z=f.splice(G,1);m.push(Z[0])}})}return m},St=function(){var u=d.tableFullColumn;u.forEach(function(f){f.order=null})},Dt=function(u){var f=o.parentHeight,p=e[u],m=0;if(p)if(p==="auto")m=f;else{var b=S.getExcludeHeight();isScale(p)?m=Math.floor((XEUtils$1.toInteger(p)||1)/100*f):m=XEUtils$1.toNumber(p),m=Math.max(40,m-b)}return m},Pt=function(){var u=e.id,f=e.customConfig,p=d.collectColumn,m=Ce.value,b=m.storage,y=b===!0||b&&b.resizable,$=b===!0||b&&b.visible,k=b===!0||b&&b.fixed,I=b===!0||b&&b.order;if(f&&(y||$||k||I)){var G={};if(!u){errLog("vxe.error.reqProp",["id"]);return}if(y){var Z=st(resizableStorageKey)[u];Z&&XEUtils$1.each(Z,function(Ne,Je){G[Je]={resizeWidth:Ne}})}if(k){var le=st(fixedStorageKey)[u];if(le){var Te=le.split(",");Te.forEach(function(Ne){var Je=Ne.split("|"),He=Je[0],Ze=Je[1];G[He]?G[He].fixed=Ze:G[He]={fixed:Ze}})}}if(I&&st(orderStorageKey)[u],$){var ke=st(visibleStorageKey)[u];if(ke){var fe=ke.split("|"),Ue=fe[0]?fe[0].split(","):[],Fe=fe[1]?fe[1].split(","):[];Ue.forEach(function(Ne){G[Ne]?G[Ne].visible=!1:G[Ne]={visible:!1}}),Fe.forEach(function(Ne){G[Ne]?G[Ne].visible=!0:G[Ne]={visible:!0}})}}var se={};XEUtils$1.eachTree(p,function(Ne){var Je=Ne.getKey();Je&&(se[Je]=Ne)}),XEUtils$1.each(G,function(Ne,Je){var He=Ne.visible,Ze=Ne.resizeWidth,rt=Ne.fixed,ct=Ne.order,vt=se[Je];vt&&(XEUtils$1.isNumber(Ze)&&(vt.resizeWidth=Ze),XEUtils$1.isBoolean(He)&&(vt.visible=He),rt&&(vt.fixed=rt),ct&&(vt.customOrder=ct))})}},Rt=function(){var u=d.tableFullColumn,f=d.collectColumn,p=d.fullColumnIdData={},m=d.fullColumnFieldData={};ie.value,Se.value,ge.value;var b=f.some(hasChildrenList),y=!!e.showOverflow,$,k,I=function(G,Z,le,Te,ke){var fe=G.id,Ue=G.field;G.fixed;var Fe=G.type,se=G.treeNode,Ne={column:G,colid:fe,index:Z,items:le,parent:ke};Ue&&(m[Ue]=Ne),se?k||(k=G):Fe==="expand"&&($||($=G)),y&&G.showOverflow===!1&&(y=!1),p[fe]&&errLog("vxe.error.colRepet",["colId",fe]),p[fe]=Ne};b?XEUtils$1.eachTree(f,function(G,Z,le,Te,ke,fe){G.level=fe.length,I(G,Z,le,Te,ke)}):u.forEach(I),o.isGroup=b,o.treeNodeColumn=k,o.expandColumn=$,o.isAllOverflow=y},kt=function(){d.customHeight=Dt("height"),d.customMinHeight=Dt("minHeight"),d.customMaxHeight=Dt("maxHeight")},$t=function(){var u=E.value,f=V.value,p=D.value,m=f?f.$el:null,b=u?u.$el:null,y=p?p.$el:null;if(m){var $=0,k=40,I=m.clientWidth-1,G=I,Z=G/100,le=e.fit,Te=o.columnStore,ke=Te.resizeList,fe=Te.pxMinList,Ue=Te.pxList,Fe=Te.scaleList,se=Te.scaleMinList,Ne=Te.autoList;if(fe.forEach(function(at){var lt=XEUtils$1.toInteger(at.minWidth);$+=lt,at.renderWidth=lt}),se.forEach(function(at){var lt=Math.floor(XEUtils$1.toInteger(at.minWidth)*Z);$+=lt,at.renderWidth=lt}),Fe.forEach(function(at){var lt=Math.floor(XEUtils$1.toInteger(at.width)*Z);$+=lt,at.renderWidth=lt}),Ue.forEach(function(at){var lt=XEUtils$1.toInteger(at.width);$+=lt,at.renderWidth=lt}),ke.forEach(function(at){var lt=XEUtils$1.toInteger(at.resizeWidth);$+=lt,at.renderWidth=lt}),G-=$,Z=G>0?Math.floor(G/(se.length+fe.length+Ne.length)):0,le?G>0&&se.concat(fe).forEach(function(at){$+=Z,at.renderWidth+=Z}):Z=k,Ne.forEach(function(at){var lt=Math.max(Z,k);at.renderWidth=lt,$+=lt}),le){var Je=Fe.concat(se).concat(fe).concat(Ne),He=Je.length-1;if(He>0){var Ze=I-$;if(Ze>0){for(;Ze>0&&He>=0;)Ze--,Je[He--].renderWidth++;$=I}}}var rt=m.offsetHeight,ct=m.scrollHeight>m.clientHeight,vt=0;ct&&(vt=Math.max(m.offsetWidth-m.clientWidth,0)),o.scrollbarWidth=vt,o.overflowY=ct,d.tableWidth=$,d.tableHeight=rt;var pt=0;b&&(pt=b.clientHeight,Vue.nextTick(function(){b&&m&&b.scrollLeft!==m.scrollLeft&&(b.scrollLeft=m.scrollLeft)})),d.headerHeight=pt;var Qe=!1,it=0,gt=0;y?(it=y.offsetHeight,Qe=$>y.clientWidth,Qe&&(gt=Math.max(it-y.clientHeight,0))):(Qe=$>I,Qe&&(gt=Math.max(rt-m.clientHeight,0))),d.footerHeight=it,o.overflowX=Qe,o.scrollbarHeight=gt,kt(),o.parentHeight=Math.max(d.headerHeight+it+20,T.getParentHeight()),Qe&&T.checkScrolling()}},wt=function(u){var f=u.sortBy,p=u.sortType;return function(m){var b;return f?b=XEUtils$1.isFunction(f)?f({row:m,column:u}):XEUtils$1.get(m,f):b=T.getCellLabel(m,u),!p||p==="auto"?isNaN(b)?b:XEUtils$1.toNumber(b):p==="number"?XEUtils$1.toNumber(b):p==="string"?XEUtils$1.toValueString(b):b}},qt=function(){var u=e.treeConfig,f=d.afterFullData,p=d.fullDataRowIdData,m=d.fullAllDataRowIdData,b=d.afterTreeFullData,y=_.value,$=y.children||y.childrenField,k={};u?XEUtils$1.eachTree(b,function(I,G,Z,le){var Te=getRowid(S,I),ke=m[Te],fe=le.map(function(Fe,se){return se%2===0?Number(Fe)+1:"."}).join("");if(ke)ke.seq=fe,ke._index=G;else{var Ue={row:I,rowid:Te,seq:fe,index:-1,$index:-1,_index:G,items:[],parent:null,level:0};m[Te]=Ue,p[Te]=Ue}k[Te]=I},{children:y.transform?y.mapChildrenField:$}):f.forEach(function(I,G){var Z=getRowid(S,I),le=m[Z],Te=G+1;if(le)le.seq=Te,le._index=G;else{var ke={row:I,rowid:Z,seq:Te,index:-1,$index:-1,_index:G,items:[],parent:null,level:0};m[Z]=ke,p[Z]=ke}k[Z]=I}),d.afterFullRowMaps=k},Mt=function(){var u=e.treeConfig,f=o.treeExpandedMaps,p=_.value;if(u&&p.transform){var m=[],b={};return XEUtils$1.eachTree(d.afterTreeFullData,function(y,$,k,I,G){var Z=getRowid(S,y),le=getRowid(S,G);(!G||b[le]&&f[le])&&(b[Z]=1,m.push(y))},{children:p.mapChildrenField}),d.afterFullData=m,jt(m),m}return d.afterFullData},Yt=function(){var u=e.treeConfig,f=d.tableFullColumn,p=d.tableFullData,m=d.tableFullTreeData,b=ne.value,y=ye.value,$=_.value,k=$.transform,I=b.remote,G=b.filterMethod,Z=y.remote,le=y.sortMethod,Te=y.multiple,ke=y.chronological,fe=[],Ue=[];if(!I||!Z){var Fe=[],se=[];if(f.forEach(function(He){var Ze=He.field,rt=He.sortable,ct=He.order,vt=He.filters;if(!I&&vt&&vt.length){var pt=[],Qe=[];vt.forEach(function(it){it.checked&&(Qe.push(it),pt.push(it.value))}),Qe.length&&Fe.push({column:He,valueList:pt,itemList:Qe})}!Z&&rt&&ct&&se.push({column:He,field:Ze,property:Ze,order:ct,sortTime:He.sortTime})}),Te&&ke&&se.length>1&&(se=XEUtils$1.orderBy(se,"sortTime")),!I&&Fe.length){var Ne=function(He){return Fe.every(function(Ze){var rt=Ze.column,ct=Ze.valueList,vt=Ze.itemList,pt=rt.filterMethod,Qe=rt.filterRender,it=Qe?VXETable.renderer.get(Qe.name):null,gt=it?it.filterMethod:null,at=it?it.defaultFilterMethod:null,lt=getCellValue(He,rt);return pt?vt.some(function(Bt){return pt({value:Bt.value,option:Bt,cellValue:lt,row:He,column:rt,$table:S})}):gt?vt.some(function(Bt){return gt({value:Bt.value,option:Bt,cellValue:lt,row:He,column:rt,$table:S})}):G?G({options:vt,values:ct,cellValue:lt,row:He,column:rt}):at?vt.some(function(Bt){return at({value:Bt.value,option:Bt,cellValue:lt,row:He,column:rt,$table:S})}):ct.indexOf(XEUtils$1.get(He,rt.field))>-1})};u&&k?(Ue=XEUtils$1.searchTree(m,Ne,__assign(__assign({},$),{original:!0})),fe=Ue):(fe=u?m.filter(Ne):p.filter(Ne),Ue=fe)}else u&&k?(Ue=XEUtils$1.searchTree(m,function(){return!0},__assign(__assign({},$),{original:!0})),fe=Ue):(fe=u?m.slice(0):p.slice(0),Ue=fe);if(!Z&&se.length)if(u&&k){if(le){var Je=le({data:Ue,sortList:se,$table:S});Ue=XEUtils$1.isArray(Je)?Je:Ue}else Ue=XEUtils$1.orderBy(Ue,se.map(function(He){var Ze=He.column,rt=He.order;return[wt(Ze),rt]}));fe=Ue}else{if(le){var Je=le({data:fe,sortList:se,$table:S});fe=XEUtils$1.isArray(Je)?Je:fe}else fe=XEUtils$1.orderBy(fe,se.map(function(He){var Ze=He.column,rt=He.order;return[wt(Ze),rt]}));Ue=fe}}else u&&k?(Ue=XEUtils$1.searchTree(m,function(){return!0},__assign(__assign({},$),{original:!0})),fe=Ue):(fe=u?m.slice(0):p.slice(0),Ue=fe);d.afterFullData=fe,d.afterTreeFullData=Ue,qt()},mt=function(){var u=e.border,f=e.showFooter,p=e.showOverflow,m=e.showHeaderOverflow,b=e.showFooterOverflow,y=e.mouseConfig,$=e.spanMethod,k=e.footerSpanMethod,I=e.keyboardConfig,G=o.isGroup,Z=o.currentRow,le=o.tableColumn,Te=o.scrollXLoad,ke=o.scrollYLoad,fe=o.scrollbarWidth,Ue=o.scrollbarHeight,Fe=o.columnStore,se=o.editStore,Ne=o.mergeList,Je=o.mergeFooterList,He=o.isAllOverflow,Ze=d.visibleColumn,rt=d.fullColumnIdData,ct=d.tableHeight,vt=d.tableWidth,pt=d.headerHeight,Qe=d.footerHeight,it=d.elemStore,gt=d.customHeight,at=d.customMinHeight,lt=d.customMaxHeight,Bt=["main","left","right"],wr=F.value,Xr=xe.value,Or=ie.value,br=Ge.value,Dr=it["main-body-wrapper"],_r=Dr?Dr.value:null;return wr&&(wr.style.top="".concat(pt,"px"),wr.style.height=_r?"".concat(_r.offsetHeight-Ue,"px"):""),gt>0&&f&&(gt+=Ue),Bt.forEach(function(tr,Rr){var Ut=Rr>0?tr:"",la=["header","body","footer"],Vr=Ut==="left",Cr=[],pr;Ut&&(Cr=Vr?Fe.leftList:Fe.rightList,pr=Vr?B.value:ae.value),la.forEach(function(Ht){var Gr=it["".concat(tr,"-").concat(Ht,"-wrapper")],It=Gr?Gr.value:null,Br=it["".concat(tr,"-").concat(Ht,"-table")],gr=Br?Br.value:null;if(Ht==="header"){var zt=vt,rr=le;G?rr=Ze:Ut&&(Te||m)&&(rr=Cr),zt=rr.reduce(function(yr,$r){return yr+$r.renderWidth},0),gr&&(gr.style.width=zt?"".concat(zt+fe,"px"):"");var da=it["".concat(tr,"-").concat(Ht,"-repair")],va=da?da.value:null;va&&(va.style.width="".concat(vt,"px"));var pa=it["".concat(tr,"-").concat(Ht,"-list")],ga=pa?pa.value:null;G&&ga&&XEUtils$1.arrayEach(ga.querySelectorAll(".col--group"),function(yr){var $r=h.getColumnNode(yr);if($r){var Ft=$r.item,lr=Ft.showHeaderOverflow,Tr=XEUtils$1.isBoolean(lr)?lr:m,Hr=Tr==="ellipsis",xr=Tr==="title",sa=Tr===!0||Tr==="tooltip",Kr=xr||sa||Hr,Zr=0,Ir=0;Kr&&XEUtils$1.eachTree(Ft.children,function(zr){(!zr.children||!Ft.children.length)&&Ir++,Zr+=zr.renderWidth},{children:"children"}),yr.style.width=Kr?"".concat(Zr-Ir-(u?2:0),"px"):""}})}else if(Ht==="body"){var ha=it["".concat(tr,"-").concat(Ht,"-emptyBlock")],ma=ha?ha.value:null;if(isNodeElement(It)){var oa=Ut?at-pt-Qe-(f?0:Ue):at-pt-Qe,Yr=0;if(lt&&(Yr=Math.max(oa,Ut?lt-pt-(f?0:Ue):lt-pt-Qe),It.style.maxHeight="".concat(Yr,"px")),gt>0){var ua=Ut?(gt>0?gt-pt-Qe:ct)-(f?0:Ue):gt-pt-Qe;Yr&&(ua=Math.min(Yr,ua)),It.style.height="".concat(Math.max(oa,ua),"px")}else It.style.height="";It.style.minHeight="".concat(oa,"px")}pr&&(isNodeElement(It)&&(It.style.top="".concat(pt,"px")),pr.style.height="".concat((gt>0?gt-pt-Qe:ct)+pt+Qe-Ue*(f?2:1),"px"),pr.style.width="".concat(Cr.reduce(function(Ft,lr){return Ft+lr.renderWidth},Vr?0:fe),"px"));var zt=vt,rr=le;Ut&&(!o.expandColumn&&(ke||p&&He)&&!Ne.length&&!$&&!(I&&br.isMerge)?rr=Cr:rr=Ze),zt=rr.reduce(function(Ft,lr){return Ft+lr.renderWidth},0),gr&&(gr.style.width=zt?"".concat(zt,"px"):"",gr.style.paddingRight=fe&&Ut&&(browse["-moz"]||browse.safari)?"".concat(fe,"px"):""),ma&&(ma.style.width=zt?"".concat(zt,"px"):"")}else if(Ht==="footer"){var zt=vt,rr=le;Ut&&(!o.expandColumn&&(Te||b)&&(!Je.length||!k)?rr=Cr:rr=Ze),zt=rr.reduce(function(Ft,lr){return Ft+lr.renderWidth},0),isNodeElement(It)&&(pr&&(It.style.top="".concat(gt>0?gt-Qe:ct+pt,"px")),It.style.marginTop="".concat(-Math.max(1,Ue),"px")),gr&&(gr.style.width=zt?"".concat(zt+fe,"px"):"")}var ba=it["".concat(tr,"-").concat(Ht,"-colgroup")],Ca=ba?ba.value:null;Ca&&XEUtils$1.arrayEach(Ca.children,function(yr){var $r=yr.getAttribute("name");if($r==="col_gutter"&&(yr.style.width="".concat(fe,"px")),rt[$r]){var Ft=rt[$r].column,lr=Ft.showHeaderOverflow,Tr=Ft.showFooterOverflow,Hr=Ft.showOverflow,xr=void 0;yr.style.width="".concat(Ft.renderWidth,"px"),Ht==="header"?xr=XEUtils$1.isUndefined(lr)||XEUtils$1.isNull(lr)?m:lr:Ht==="footer"?xr=XEUtils$1.isUndefined(Tr)||XEUtils$1.isNull(Tr)?b:Tr:xr=XEUtils$1.isUndefined(Hr)||XEUtils$1.isNull(Hr)?p:Hr;var sa=xr==="ellipsis",Kr=xr==="title",Zr=xr===!0||xr==="tooltip",Ir=Kr||Zr||sa,zr=it["".concat(tr,"-").concat(Ht,"-list")],xa=zr?zr.value:null;ke&&!Ir&&(Ir=!0),xa&&XEUtils$1.arrayEach(xa.querySelectorAll(".".concat(Ft.id)),function(Ea){var ca=parseInt(Ea.getAttribute("colspan")||1),Va=Ea.querySelector(".vxe-cell"),ya=Ft.renderWidth;if(Va){if(ca>1)for(var Ta=h.getColumnIndex(Ft),fa=1;fa<ca;fa++){var $a=h.getColumns(Ta+fa);$a&&(ya+=$a.renderWidth)}Va.style.width=Ir?"".concat(ya-Xr*ca,"px"):""}})}})})}),Z&&h.setCurrentRow(Z),y&&Or.selected&&se.selected.row&&se.selected.column&&S.addCellSelectedClass(),Vue.nextTick()},Vt=function(u){return S.triggerValidate?S.triggerValidate(u):Vue.nextTick()},Wt=function(u,f){Vt("blur").catch(function(p){return p}).then(function(){S.handleActived(f,u).then(function(){return Vt("change")}).catch(function(p){return p})})},Kt=function(){var u=e.sortConfig;if(u){var f=ye.value,p=f.defaultSort;p&&(XEUtils$1.isArray(p)||(p=[p]),p.length&&((u.multiple?p:p.slice(0,1)).forEach(function(m,b){var y=m.field,$=m.order;if(y&&$){var k=h.getColumnByField(y);k&&k.sortable&&(k.order=$,k.sortTime=Date.now()+b)}}),f.remote||T.handleTableData(!0).then(mt)))}},Zt=function(){var u=e.checkboxConfig;if(u){var f=d.fullDataRowIdData,p=$e.value,m=p.checkAll,b=p.checkRowKeys;if(m)Jt(!0,!0);else if(b){var y=[];b.forEach(function($){f[$]&&y.push(f[$].row)}),Ct(y,!0,!0)}}},At=function(){var u,f=e.radioConfig;if(f){var p=d.fullDataRowIdData,m=_e.value,b=m.checkRowKey,y=m.reserve;if(b&&(p[b]&&yt(p[b].row,!0),y)){var $=getRowkey(S);d.radioReserveRow=(u={},u[$]=b,u)}}},ar=function(){var u=e.expandConfig;if(u){var f=d.fullDataRowIdData,p=be.value,m=p.expandAll,b=p.expandRowKeys;if(m)h.setAllRowExpand(!0);else if(b){var y=[];b.forEach(function($){f[$]&&y.push(f[$].row)}),h.setRowExpand(y,!0)}}},fr=function(u){var f=_e.value;f.reserve&&(d.radioReserveRow=u)},Nt=function(u,f){var p=d.checkboxReserveRowMap,m=$e.value;if(m.reserve){var b=getRowid(S,u);f?p[b]=u:p[b]&&delete p[b]}},yt=function(u,f){var p=_e.value,m=p.checkMethod;return u&&(f||!m||m({row:u}))&&(o.selectRadioRow=u,fr(u)),Vue.nextTick()},Ct=function(u,f,p){return u&&!XEUtils$1.isArray(u)&&(u=[u]),u.forEach(function(m){return T.handleSelectRow({row:m},!!f,p)}),Vue.nextTick()},Jt=function(u,f){var p=e.treeConfig,m=o.selectCheckboxMaps,b=d.afterFullData,y=d.afterFullRowMaps,$=d.checkboxReserveRowMap,k=_.value,I=k.children||k.childrenField,G=$e.value,Z=G.checkField,le=G.reserve,Te=G.checkStrictly,ke=G.checkMethod,fe=G.indeterminateField||G.halfField,Ue={};if(p||XEUtils$1.each(m,function(se,Ne){y[Ne]||(Ue[Ne]=se)}),Te)o.isAllSelected=u;else{if(Z){var Fe=function(se){(f||!ke||ke({row:se}))&&(u&&(Ue[getRowid(S,se)]=se),XEUtils$1.set(se,Z,u)),p&&fe&&XEUtils$1.set(se,fe,!1)};p?XEUtils$1.eachTree(b,Fe,{children:I}):b.forEach(Fe)}else p?u?XEUtils$1.eachTree(b,function(se){(f||!ke||ke({row:se}))&&(Ue[getRowid(S,se)]=se)},{children:I}):!f&&ke&&XEUtils$1.eachTree(b,function(se){var Ne=getRowid(S,se);!ke({row:se})&&m[Ne]&&(Ue[Ne]=se)},{children:I}):u?!f&&ke?b.forEach(function(se){var Ne=getRowid(S,se);(m[Ne]||ke({row:se}))&&(Ue[Ne]=se)}):b.forEach(function(se){Ue[getRowid(S,se)]=se}):!f&&ke&&b.forEach(function(se){var Ne=getRowid(S,se);!ke({row:se})&&m[Ne]&&(Ue[Ne]=se)});le&&(u?XEUtils$1.each(Ue,function(se,Ne){$[Ne]=se}):b.forEach(function(se){return Nt(se,!1)})),o.selectCheckboxMaps=Z?{}:Ue}return o.treeIndeterminateMaps={},d.treeIndeterminateRowMaps={},T.checkSelectionStatus(),Vue.nextTick()},nr=function(){var u=e.treeConfig,f=o.expandColumn,p=o.currentRow,m=o.selectCheckboxMaps,b=o.selectRadioRow,y=o.rowExpandedMaps,$=o.treeExpandedMaps,k=d.fullDataRowIdData,I=d.fullAllDataRowIdData,G=d.radioReserveRow,Z=be.value,le=_.value,Te=_e.value,ke=$e.value;if(b&&!I[getRowid(S,b)]&&(o.selectRadioRow=null),Te.reserve&&G){var fe=getRowid(S,G);k[fe]&&yt(k[fe].row,!0)}o.selectCheckboxMaps=et(m),ke.reserve&&Ct(tt(d.checkboxReserveRowMap),!0,!0),p&&!I[getRowid(S,p)]&&(o.currentRow=null),o.rowExpandedMaps=f?et(y):{},f&&Z.reserve&&h.setRowExpand(tt(d.rowExpandedReserveRowMap),!0),o.treeExpandedMaps=u?et($):{},u&&le.reserve&&h.setTreeExpand(tt(d.treeExpandedReserveRowMap),!0)},or=function(){var u=e.treeConfig;if(u){var f=d.tableFullData,p=_.value,m=p.expandAll,b=p.expandRowKeys,y=p.children||p.childrenField;if(m)h.setAllTreeExpand(!0);else if(b){var $=[],k=getRowkey(S);b.forEach(function(I){var G=XEUtils$1.findTree(f,function(Z){return I===XEUtils$1.get(Z,k)},{children:y});G&&$.push(G.item)}),h.setTreeExpand($,!0)}}},ur=function(u){var f=_.value,p=$e.value,m=f.transform,b=f.loadMethod,y=p.checkStrictly;return new Promise(function($){if(b){var k=o.treeExpandLazyLoadedMaps,I=d.fullAllDataRowIdData,G=getRowid(S,u),Z=I[G];k[G]=u,b({$table:S,row:u}).then(function(le){if(Z.treeLoaded=!0,k[G]&&delete k[G],XEUtils$1.isArray(le)||(le=[]),le)return h.loadTreeChildren(u,le).then(function(Te){var ke=o.treeExpandedMaps;return Te.length&&!ke[G]&&(ke[G]=u),!y&&h.isCheckedByCheckboxRow(u)&&Ct(Te,!0),Vue.nextTick().then(function(){if(m)return T.handleTableData()})})}).catch(function(){var le=o.treeExpandLazyLoadedMaps;Z.treeLoaded=!1,le[G]&&delete le[G]}).finally(function(){Vue.nextTick().then(function(){return h.recalculate()}).then(function(){return $()})})}else $()})},Lt=function(u,f){var p=d.treeExpandedReserveRowMap,m=_.value;if(m.reserve){var b=getRowid(S,u);f?p[b]=u:p[b]&&delete p[b]}},Xt=function(u){return new Promise(function(f){var p=be.value,m=p.loadMethod;if(m){var b=d.fullAllDataRowIdData,y=o.rowExpandLazyLoadedMaps,$=getRowid(S,u),k=b[$];y[$]=u,m({$table:S,row:u,rowIndex:h.getRowIndex(u),$rowIndex:h.getVMRowIndex(u)}).then(function(){var I=o.rowExpandedMaps;k.expandLoaded=!0,I[$]=u}).catch(function(){k.expandLoaded=!1}).finally(function(){var I=o.rowExpandLazyLoadedMaps;I[$]&&delete I[$],Vue.nextTick().then(function(){return h.recalculate()}).then(function(){return f()})})}else f()})},bt=function(u,f){var p=d.rowExpandedReserveRowMap,m=be.value;if(m.reserve){var b=getRowid(S,u);f?p[b]=u:p[b]&&delete p[b]}},ht=function(){var u=e.mergeCells;u&&h.setMergeCells(u)},xt=function(){var u=e.mergeFooterItems;u&&h.setMergeFooterItems(u)},Qt=function(){return Vue.nextTick().then(function(){var u=o.scrollXLoad,f=o.scrollYLoad,p=d.scrollXStore,m=d.scrollYStore,b=Re.value,y=me.value;if(u){var $=ft().visibleSize,k=y.oSize?XEUtils$1.toNumber(y.oSize):browse.edge?5:0;p.offsetSize=k,p.visibleSize=$,p.endIndex=Math.max(p.startIndex+p.visibleSize+k,p.endIndex),T.updateScrollXData()}else T.updateScrollXSpace();var I=Ke(),G=I.rowHeight,Z=I.visibleSize;if(m.rowHeight=G,f){var le=b.oSize?XEUtils$1.toNumber(b.oSize):browse.edge?10:0;m.offsetSize=le,m.visibleSize=Z,m.endIndex=Math.max(m.startIndex+Z+le,m.endIndex),T.updateScrollYData()}else T.updateScrollYSpace();o.rowHeight=G,Vue.nextTick(mt)})},dr=function(u){var f=e.keepSource,p=e.treeConfig,m=o.editStore,b=o.scrollYLoad,y=d.scrollYStore,$=d.scrollXStore,k=d.lastScrollLeft,I=d.lastScrollTop,G=_.value,Z=G.transform,le=G.children||G.childrenField,Te=[],ke=u?u.slice(0):[];p&&(Z?(Te=XEUtils$1.toArrayTree(ke,{key:G.rowField,parentKey:G.parentField,children:le,mapChildren:G.mapChildrenField}),ke=Te.slice(0)):Te=ke.slice(0)),y.startIndex=0,y.endIndex=1,$.startIndex=0,$.endIndex=1,o.scrollVMLoading=!1,m.insertMaps={},m.removeMaps={};var fe=jt(ke);return o.scrollYLoad=fe,d.tableFullData=ke,d.tableFullTreeData=Te,T.cacheRowMap(!0),d.tableSynchData=u,f&&T.cacheSourceMap(ke),S.clearCellAreas&&e.mouseConfig&&(S.clearCellAreas(),S.clearCopyCellArea()),h.clearMergeCells(),h.clearMergeFooterItems(),T.handleTableData(!0),h.updateFooter(),Vue.nextTick().then(function(){kt(),mt()}).then(function(){Qt()}).then(function(){return fe&&(y.endIndex=y.visibleSize),nr(),T.checkSelectionStatus(),new Promise(function(Ue){Vue.nextTick().then(function(){return h.recalculate()}).then(function(){var Fe=k,se=I,Ne=me.value,Je=Re.value;Ne.scrollToLeftOnChange&&(Fe=0),Je.scrollToTopOnChange&&(se=0),b===fe?restoreScrollLocation(S,Fe,se).then(Ue):setTimeout(function(){return restoreScrollLocation(S,Fe,se).then(Ue)})})})})},er=function(){Zt(),At(),ar(),or(),ht(),xt(),Vue.nextTick(function(){return setTimeout(function(){return h.recalculate()})})},hr=function(){Kt()},sr=function(){var u=o.scrollXLoad,f=d.visibleColumn,p=d.scrollXStore,m=d.fullColumnIdData,b=u?f.slice(p.startIndex,p.endIndex):f.slice(0);b.forEach(function(y,$){var k=y.id,I=m[k];I&&(I.$index=$)}),o.tableColumn=b},kr=function(){var u=o.mergeList,f=o.mergeFooterList,p=d.scrollXStore,m=p.startIndex,b=p.endIndex,y=p.offsetSize,$=ft(),k=$.toVisibleIndex,I=$.visibleSize,G={startIndex:Math.max(0,k-1-y),endIndex:k+I+y};ot(u.concat(f),G,"col");var Z=G.startIndex,le=G.endIndex;(k<=m||k>=b-I-1)&&(m!==Z||b!==le)&&(p.startIndex=Z,p.endIndex=le,T.updateScrollXData()),h.closeTooltip()},ir=function(u){var f=[];return u.forEach(function(p){f.push.apply(f,p.children&&p.children.length?ir(p.children):[p])}),f},Tt=function(){var u=[],f=[],p=[],m=o.isGroup,b=o.columnStore,y=me.value,$=d.collectColumn,k=d.tableFullColumn,I=d.scrollXStore,G=d.fullColumnIdData;if(m){var Z=[],le=[],Te=[];XEUtils$1.eachTree($,function(Fe,se,Ne,Je,He){var Ze=hasChildrenList(Fe);He&&He.fixed&&(Fe.fixed=He.fixed),He&&Fe.fixed!==He.fixed&&errLog("vxe.error.groupFixed"),Ze?Fe.visible=!!XEUtils$1.findTree(Fe.children,function(rt){return hasChildrenList(rt)?!1:rt.visible}):Fe.visible&&(Fe.fixed==="left"?u.push(Fe):Fe.fixed==="right"?p.push(Fe):f.push(Fe))}),$.forEach(function(Fe){Fe.visible&&(Fe.fixed==="left"?Z.push(Fe):Fe.fixed==="right"?Te.push(Fe):le.push(Fe))}),o.tableGroupColumn=Z.concat(le).concat(Te)}else k.forEach(function(Fe){Fe.visible&&(Fe.fixed==="left"?u.push(Fe):Fe.fixed==="right"?p.push(Fe):f.push(Fe))});var ke=u.concat(f).concat(p),fe=!!y.enabled&&y.gt>-1&&(y.gt===0||y.gt<k.length);if(o.hasFixedColumn=u.length>0||p.length>0,Object.assign(b,{leftList:u,centerList:f,rightList:p}),fe){var Ue=ft().visibleSize;I.startIndex=0,I.endIndex=Ue,I.visibleSize=Ue}return(ke.length!==d.visibleColumn.length||!d.visibleColumn.every(function(Fe,se){return Fe===ke[se]}))&&(h.clearMergeCells(),h.clearMergeFooterItems()),o.scrollXLoad=fe,ke.forEach(function(Fe,se){var Ne=Fe.id,Je=G[Ne];Je&&(Je._index=se)}),d.visibleColumn=ke,sr(),h.updateFooter().then(function(){return h.recalculate()}).then(function(){return h.updateCellAreas(),h.recalculate()})},vr=function(u){d.collectColumn=u;var f=ir(u);return d.tableFullColumn=f,Rt(),Pt(),Tt().then(function(){o.scrollXLoad&&kr()}),h.clearMergeCells(),h.clearMergeFooterItems(),T.handleTableData(!0),Vue.nextTick().then(function(){return oe&&oe.syncUpdate({collectColumn:u,$table:S}),h.recalculate()})},jt=function(u){var f=e.treeConfig,p=Re.value,m=_.value,b=m.transform,y=u||d.tableFullData,$=(b||!f)&&!!p.enabled&&p.gt>-1&&(p.gt===0||p.gt<y.length);return o.scrollYLoad=$,$},Gt=function(u,f){var p=o.treeExpandedMaps,m=o.treeExpandLazyLoadedMaps,b=o.treeNodeColumn,y=__assign({},p),$=d.fullAllDataRowIdData,k=d.tableFullData,I=_.value,G=I.reserve,Z=I.lazy,le=I.accordion,Te=I.toggleMethod,ke=I.children||I.childrenField,fe=I.hasChild||I.hasChildField,Ue=[],Fe=h.getColumnIndex(b),se=h.getVMColumnIndex(b),Ne=Te?u.filter(function(He){return Te({$table:S,expanded:f,column:b,columnIndex:Fe,$columnIndex:se,row:He})}):u;if(le){Ne=Ne.length?[Ne[Ne.length-1]]:[];var Je=XEUtils$1.findTree(k,function(He){return He===Ne[0]},{children:ke});Je&&Je.items.forEach(function(He){var Ze=getRowid(S,He);y[Ze]&&delete y[Ze]})}return f?Ne.forEach(function(He){var Ze=getRowid(S,He);if(!y[Ze]){var rt=$[Ze],ct=Z&&He[fe]&&!rt.treeLoaded&&!m[Ze];ct?Ue.push(ur(He)):He[ke]&&He[ke].length&&(y[Ze]=He)}}):Ne.forEach(function(He){var Ze=getRowid(S,He);y[Ze]&&delete y[Ze]}),G&&Ne.forEach(function(He){return Lt(He,f)}),o.treeExpandedMaps=y,Promise.all(Ue).then(function(){return h.recalculate()})},Mr=function(u,f){return Gt(u,f).then(function(){return Mt(),T.handleTableData()}).then(function(){return h.recalculate()})},Sr=function(u){var f=o.mergeList,p=d.scrollYStore,m=p.startIndex,b=p.endIndex,y=p.visibleSize,$=p.offsetSize,k=p.rowHeight,I=u.currentTarget||u.target,G=I.scrollTop,Z=Math.floor(G/k),le={startIndex:Math.max(0,Z-1-$),endIndex:Z+y+$};ot(f,le,"row");var Te=le.startIndex,ke=le.endIndex;(Z<=m||Z>=b-y-1)&&(m!==Te||b!==ke)&&(p.startIndex=Te,p.endIndex=ke,T.updateScrollYData())},mr=function(u){return function(f){var p=d.fullAllDataRowIdData;if(f){var m=getRowid(S,f),b=p[m];if(b)return b[u]}return-1}},cr=function(u){return function(f){var p=d.fullColumnIdData;if(f){var m=p[f.id];if(m)return m[u]}return-1}},Ot=XEUtils$1.debounce(function(u){Sr(u)},20,{leading:!1,trailing:!0}),Er;h={dispatchEvent:function(u,f,p){n(u,Object.assign({$table:S,$grid:W,$event:p},f))},clearAll:function(){return clearTableAllStatus(S)},syncData:function(){return Vue.nextTick().then(function(){return o.tableData=[],n("update:data",d.tableFullData),Vue.nextTick()})},updateData:function(){var u=o.scrollXLoad,f=o.scrollYLoad;return T.handleTableData(!0).then(function(){if(h.updateFooter(),u||f)return u&&T.updateScrollXSpace(),f&&T.updateScrollYSpace(),h.refreshScroll()}).then(function(){return h.updateCellAreas(),h.recalculate(!0)}).then(function(){setTimeout(function(){return S.recalculate()},50)})},loadData:function(u){var f=d.inited,p=d.initStatus;return dr(u).then(function(){return d.inited=!0,d.initStatus=!0,p||er(),f||hr(),h.recalculate()})},reloadData:function(u){var f=d.inited;return h.clearAll().then(function(){return d.inited=!0,d.initStatus=!0,dr(u)}).then(function(){return er(),f||hr(),h.recalculate()})},reloadRow:function(u,f,p){var m=e.keepSource,b=o.tableData,y=d.tableSourceData;if(m){var $=h.getRowIndex(u),k=y[$];if(k&&u)if(p){var I=XEUtils$1.get(f||u,p);XEUtils$1.set(u,p,I),XEUtils$1.set(k,p,I)}else{var G=XEUtils$1.clone(__assign({},f),!0);XEUtils$1.destructuring(k,Object.assign(u,G))}o.tableData=b.slice(0)}return Vue.nextTick()},loadTreeChildren:function(u,f){var p=e.keepSource,m=d.tableSourceData,b=d.fullDataRowIdData,y=d.fullAllDataRowIdData,$=d.sourceDataRowIdData,k=_.value,I=k.transform,G=k.mapChildrenField,Z=k.children||k.childrenField,le=y[getRowid(S,u)],Te=le?le.level:0;return h.createData(f).then(function(ke){if(p){var fe=getRowid(S,u),Ue=XEUtils$1.findTree(m,function(Fe){return fe===getRowid(S,Fe)},{children:Z});Ue&&(Ue.item[Z]=XEUtils$1.clone(ke,!0)),ke.forEach(function(Fe){var se=getRowid(S,Fe);$[se]=XEUtils$1.clone(Fe,!0)})}return XEUtils$1.eachTree(ke,function(Fe,se,Ne,Je,He,Ze){var rt=getRowid(S,Fe),ct={row:Fe,rowid:rt,seq:-1,index:se,_index:-1,$index:-1,items:Ne,parent:He,level:Te+Ze.length};b[rt]=ct,y[rt]=ct},{children:Z}),u[Z]=ke,I&&(u[G]=ke),qt(),ke})},loadColumn:function(u){var f=XEUtils$1.mapTree(u,function(p){return Vue.reactive(Cell.createColumn(S,p))});return vr(f)},reloadColumn:function(u){return h.clearAll().then(function(){return h.loadColumn(u)})},getRowNode:function(u){if(u){var f=d.fullAllDataRowIdData,p=u.getAttribute("rowid");if(p){var m=f[p];if(m)return{rowid:m.rowid,item:m.row,index:m.index,items:m.items,parent:m.parent}}}return null},getColumnNode:function(u){if(u){var f=d.fullColumnIdData,p=u.getAttribute("colid");if(p){var m=f[p];if(m)return{colid:m.colid,item:m.column,index:m.index,items:m.items,parent:m.parent}}}return null},getRowSeq:mr("seq"),getRowIndex:mr("index"),getVTRowIndex:mr("_index"),getVMRowIndex:mr("$index"),getColumnIndex:cr("index"),getVTColumnIndex:cr("_index"),getVMColumnIndex:cr("$index"),createData:function(u){return Vue.nextTick().then(function(){return Vue.reactive(T.defineField(u))})},createRow:function(u){var f=XEUtils$1.isArray(u);return f||(u=[u||{}]),h.createData(u).then(function(p){return f?p:p[0]})},revertData:function(u,f){var p=e.keepSource,m=d.tableSourceData,b=d.sourceDataRowIdData;if(!p)return Vue.nextTick();var y=u;return u?XEUtils$1.isArray(u)||(y=[u]):y=XEUtils$1.toArray(S.getUpdateRecords()),y.length&&y.forEach(function($){if(!h.isInsertByRow($)){var k=getRowid(S,$),I=b[k];I&&$&&(f?XEUtils$1.set($,f,XEUtils$1.clone(XEUtils$1.get(I,f),!0)):XEUtils$1.destructuring($,XEUtils$1.clone(I,!0)))}}),u?Vue.nextTick():h.reloadData(m)},clearData:function(u,f){var p=d.tableFullData,m=d.visibleColumn;return arguments.length?u&&!XEUtils$1.isArray(u)&&(u=[u]):u=p,f?u.forEach(function(b){return XEUtils$1.set(b,f,null)}):u.forEach(function(b){m.forEach(function(y){y.field&&setCellValue(b,y,null)})}),Vue.nextTick()},isInsertByRow:function(u){var f=o.editStore,p=getRowid(S,u);return f.insertMaps[p]},removeInsertRow:function(){var u=o.editStore;return u.insertMaps={},S.remove(S.getInsertRecords())},isUpdateByRow:function(u,f){var p=e.keepSource,m=d.tableFullColumn,b=d.fullDataRowIdData,y=d.sourceDataRowIdData;if(p){var $=getRowid(S,u);if(!b[$])return!1;var k=y[$];if(k){if(arguments.length>1)return!nt(k,u,f);for(var I=0,G=m.length;I<G;I++){var Z=m[I].field;if(Z&&!nt(k,u,Z))return!0}}}return!1},getColumns:function(u){var f=d.visibleColumn;return XEUtils$1.isUndefined(u)?f.slice(0):f[u]},getColumnById:function(u){var f=d.fullColumnIdData;return f[u]?f[u].column:null},getColumnByField:function(u){var f=d.fullColumnFieldData;return f[u]?f[u].column:null},getTableColumn:function(){return{collectColumn:d.collectColumn.slice(0),fullColumn:d.tableFullColumn.slice(0),visibleColumn:d.visibleColumn.slice(0),tableColumn:o.tableColumn.slice(0)}},getData:function(u){var f=e.data||d.tableSynchData;return XEUtils$1.isUndefined(u)?f.slice(0):f[u]},getCheckboxRecords:function(u){var f=e.treeConfig,p=d.tableFullData,m=d.afterFullData,b=d.afterTreeFullData,y=d.tableFullTreeData,$=d.fullDataRowIdData,k=d.afterFullRowMaps,I=_.value,G=$e.value,Z=I.transform,le=I.mapChildrenField,Te=G.checkField,ke=I.children||I.childrenField,fe=[],Ue=u?Z?y:p:Z?b:m;if(Te)f?fe=XEUtils$1.filterTree(Ue,function(se){return XEUtils$1.get(se,Te)},{children:Z?le:ke}):fe=Ue.filter(function(se){return XEUtils$1.get(se,Te)});else{var Fe=o.selectCheckboxMaps;XEUtils$1.each(Fe,function(se,Ne){(u?$[Ne]:k[Ne])&&fe.push(se)})}return fe},getParentRow:function(u){var f=e.treeConfig,p=d.fullDataRowIdData;if(u&&f){var m=void 0;if(XEUtils$1.isString(u)?m=u:m=getRowid(S,u),m)return p[m]?p[m].parent:null}return null},getRowById:function(u){var f=d.fullDataRowIdData,p=XEUtils$1.eqNull(u)?"":encodeURIComponent(u);return f[p]?f[p].row:null},getRowid:function(u){return getRowid(S,u)},getTableData:function(){var u=o.tableData,f=o.footerTableData,p=d.tableFullData,m=d.afterFullData;return{fullData:p.slice(0),visibleData:m.slice(0),tableData:u.slice(0),footerData:f.slice(0)}},setColumnFixed:function(u,f){var p=handleFieldOrColumn(S,u),m=getRootColumn(S,p),b=ze.value;return m&&m.fixed!==f?!m.fixed&&b?(VXETable.modal&&VXETable.modal.message({status:"error",content:GlobalConfig.i18n("vxe.table.maxFixedCol")}),Vue.nextTick()):(XEUtils$1.eachTree([m],function(y){y.fixed=f}),T.saveCustomFixed(),h.refreshColumn()):Vue.nextTick()},clearColumnFixed:function(u){var f=handleFieldOrColumn(S,u),p=getRootColumn(S,f);return p&&p.fixed?(XEUtils$1.eachTree([p],function(m){m.fixed=null}),T.saveCustomFixed(),h.refreshColumn()):Vue.nextTick()},hideColumn:function(u){var f=handleFieldOrColumn(S,u);return f&&f.visible?(f.visible=!1,T.handleCustom()):Vue.nextTick()},showColumn:function(u){var f=handleFieldOrColumn(S,u);return f&&!f.visible?(f.visible=!0,T.handleCustom()):Vue.nextTick()},setColumnWidth:function(u,f){var p=handleFieldOrColumn(S,u);if(p){var m=XEUtils$1.toInteger(f),b=m;if(isScale(f)){var y=V.value,$=y?y.$el:null,k=$?$.clientWidth-1:0;b=Math.floor(m*k)}p.renderWidth=b}return Vue.nextTick()},getColumnWidth:function(u){var f=handleFieldOrColumn(S,u);return f?f.renderWidth:0},resetColumn:function(u){var f=d.collectColumn,p=Ce.value,m=p.checkMethod,b=Object.assign({visible:!0,resizable:u===!0,fixed:u===!0},u);return XEUtils$1.eachTree(f,function(y){b.resizable&&(y.resizeWidth=0),b.fixed&&(y.fixed=y.defaultFixed),(!m||m({column:y}))&&(y.visible=y.defaultVisible)}),b.resizable&&T.saveCustomResizable(!0),b.fixed&&T.saveCustomFixed(),T.handleCustom()},refreshColumn:function(){return Tt().then(function(){return h.refreshScroll()}).then(function(){return h.recalculate()})},refreshScroll:function(){var u=d.lastScrollLeft,f=d.lastScrollTop,p=V.value,m=D.value,b=X.value,y=w.value,$=p?p.$el:null,k=b?b.$el:null,I=y?y.$el:null,G=m?m.$el:null;return new Promise(function(Z){if(u||f)return restoreScrollLocation(S,u,f).then().then(function(){setTimeout(Z,30)});setScrollTop($,f),setScrollTop(k,f),setScrollTop(I,f),setScrollLeft(G,u),setTimeout(Z,30)})},recalculate:function(u){return $t(),u===!0?Qt().then(function(){return $t(),Qt()}):Qt()},openTooltip:function(u,f){var p=M.value;return p?p.open(u,f):Vue.nextTick()},closeTooltip:function(){var u=o.tooltipStore,f=A.value,p=M.value;return u.visible&&(Object.assign(u,{row:null,column:null,content:null,visible:!1}),f&&f.close()),p&&p.close(),Vue.nextTick()},isAllCheckboxChecked:function(){return o.isAllSelected},isAllCheckboxIndeterminate:function(){return!o.isAllSelected&&o.isIndeterminate},getCheckboxIndeterminateRecords:function(u){var f=e.treeConfig,p=d.fullDataRowIdData,m=o.treeIndeterminateMaps;if(f){var b=[],y=[];return XEUtils$1.each(m,function($,k){$&&(b.push($),p[k]&&y.push($))}),u?b:y}return[]},setCheckboxRow:function(u,f){return Ct(u,f,!0)},isCheckedByCheckboxRow:function(u){var f=o.selectCheckboxMaps,p=$e.value,m=p.checkField;return m?XEUtils$1.get(u,m):!!f[getRowid(S,u)]},isIndeterminateByCheckboxRow:function(u){var f=o.treeIndeterminateMaps;return!!f[getRowid(S,u)]&&!h.isCheckedByCheckboxRow(u)},toggleCheckboxRow:function(u){var f=o.selectCheckboxMaps,p=$e.value,m=p.checkField,b=m?!XEUtils$1.get(u,m):!f[getRowid(S,u)];return T.handleSelectRow({row:u},b,!0),Vue.nextTick()},setAllCheckboxRow:function(u){return Jt(u,!0)},getRadioReserveRecord:function(u){var f=e.treeConfig,p=d.fullDataRowIdData,m=d.radioReserveRow,b=d.afterFullData,y=_e.value,$=_.value,k=$.children||$.childrenField;if(y.reserve&&m){var I=getRowid(S,m);if(u){if(!p[I])return m}else{var G=getRowkey(S);if(f){var Z=XEUtils$1.findTree(b,function(le){return I===XEUtils$1.get(le,G)},{children:k});if(Z)return m}else if(!b.some(function(le){return I===XEUtils$1.get(le,G)}))return m}}return null},clearRadioReserve:function(){return d.radioReserveRow=null,Vue.nextTick()},getCheckboxReserveRecords:function(u){var f=e.treeConfig,p=d.afterFullData,m=d.fullDataRowIdData,b=d.checkboxReserveRowMap,y=$e.value,$=_.value,k=$.children||$.childrenField,I=[];if(y.reserve){var G={};f?XEUtils$1.eachTree(p,function(Z){G[getRowid(S,Z)]=1},{children:k}):p.forEach(function(Z){G[getRowid(S,Z)]=1}),XEUtils$1.each(b,function(Z,le){Z&&(u?m[le]||I.push(Z):G[le]||I.push(Z))})}return I},clearCheckboxReserve:function(){return d.checkboxReserveRowMap={},Vue.nextTick()},toggleAllCheckboxRow:function(){return T.triggerCheckAllEvent(null,!o.isAllSelected),Vue.nextTick()},clearCheckboxRow:function(){var u=e.treeConfig,f=d.tableFullData,p=_.value,m=p.children||p.childrenField,b=$e.value,y=b.checkField,$=b.reserve,k=b.indeterminateField||b.halfField;if(y){var I=function(G){u&&k&&XEUtils$1.set(G,k,!1),XEUtils$1.set(G,y,!1)};u?XEUtils$1.eachTree(f,I,{children:m}):f.forEach(I)}return $&&f.forEach(function(G){return Nt(G,!1)}),o.isAllSelected=!1,o.isIndeterminate=!1,o.selectCheckboxMaps={},o.treeIndeterminateMaps={},Vue.nextTick()},setCurrentRow:function(u){var f=ge.value,p=U.value;return h.clearCurrentRow(),o.currentRow=u,(f.isCurrent||e.highlightCurrentRow)&&p&&XEUtils$1.arrayEach(p.querySelectorAll('[rowid="'.concat(getRowid(S,u),'"]')),function(m){return addClass(m,"row--current")}),Vue.nextTick()},isCheckedByRadioRow:function(u){return S.eqRow(o.selectRadioRow,u)},setRadioRow:function(u){return yt(u,!0)},clearCurrentRow:function(){var u=U.value;return o.currentRow=null,d.hoverRow=null,u&&XEUtils$1.arrayEach(u.querySelectorAll(".row--current"),function(f){return removeClass(f,"row--current")}),Vue.nextTick()},clearRadioRow:function(){return o.selectRadioRow=null,Vue.nextTick()},getCurrentRecord:function(){var u=ge.value;return u.isCurrent||e.highlightCurrentRow?o.currentRow:null},getRadioRecord:function(u){var f=d.fullDataRowIdData,p=d.afterFullRowMaps,m=o.selectRadioRow;if(m){var b=getRowid(S,m);if(u){if(!f[b])return m}else if(p[b])return m}return null},getCurrentColumn:function(){var u=Se.value;return u.isCurrent||e.highlightCurrentColumn?o.currentColumn:null},setCurrentColumn:function(u){var f=handleFieldOrColumn(S,u);return f&&(h.clearCurrentColumn(),o.currentColumn=f),Vue.nextTick()},clearCurrentColumn:function(){return o.currentColumn=null,Vue.nextTick()},sort:function(u,f){var p=ye.value,m=p.multiple,b=p.remote,y=p.orders;return u&&XEUtils$1.isString(u)&&(u=[{field:u,order:f}]),XEUtils$1.isArray(u)||(u=[u]),u.length?(m||St(),(m?u:[u[0]]).forEach(function($,k){var I=$.field,G=$.order,Z=I;XEUtils$1.isString(I)&&(Z=h.getColumnByField(I)),Z&&Z.sortable&&(y.indexOf(G)===-1&&(G=dt(Z)),Z.order!==G&&(Z.order=G),Z.sortTime=Date.now()+k)}),b||T.handleTableData(!0),Vue.nextTick().then(function(){return h.updateCellAreas(),mt()})):Vue.nextTick()},clearSort:function(u){var f=ye.value;if(u){var p=handleFieldOrColumn(S,u);p&&(p.order=null)}else St();return f.remote||T.handleTableData(!0),Vue.nextTick().then(mt)},isSort:function(u){if(u){var f=handleFieldOrColumn(S,u);return f?f.sortable&&!!f.order:!1}return h.getSortColumns().length>0},getSortColumns:function(){var u=ye.value,f=u.multiple,p=u.chronological,m=[],b=d.tableFullColumn;return b.forEach(function(y){var $=y.field,k=y.order;y.sortable&&k&&m.push({column:y,field:$,property:$,order:k,sortTime:y.sortTime})}),f&&p&&m.length>1?XEUtils$1.orderBy(m,"sortTime"):m},closeFilter:function(){var u=o.filterStore,f=u.column,p=u.visible;return Object.assign(u,{isAllSelected:!1,isIndeterminate:!1,options:[],visible:!1}),p&&S.dispatchEvent("filter-visible",{column:f,property:f.field,field:f.field,filterList:S.getCheckedFilters(),visible:!1},null),Vue.nextTick()},isActiveFilterByColumn:function(u){var f=handleFieldOrColumn(S,u);return f?f.filters&&f.filters.some(function(p){return p.checked}):S.getCheckedFilters().length>0},isFilter:function(u){return h.isActiveFilterByColumn(u)},isRowExpandLoaded:function(u){var f=d.fullAllDataRowIdData,p=f[getRowid(S,u)];return p&&!!p.expandLoaded},clearRowExpandLoaded:function(u){var f=o.rowExpandLazyLoadedMaps,p=d.fullAllDataRowIdData,m=be.value,b=m.lazy,y=getRowid(S,u),$=p[y];return b&&$&&($.expandLoaded=!1,delete f[y]),Vue.nextTick()},reloadRowExpand:function(u){var f=o.rowExpandLazyLoadedMaps,p=be.value,m=p.lazy,b=getRowid(S,u);return m&&!f[b]&&h.clearRowExpandLoaded(u).then(function(){return Xt(u)}),Vue.nextTick()},reloadExpandContent:function(u){return h.reloadRowExpand(u)},toggleRowExpand:function(u){return h.setRowExpand(u,!h.isExpandByRow(u))},setAllRowExpand:function(u){var f=_.value,p=d.tableFullData,m=d.tableFullTreeData,b=f.children||f.childrenField,y=[];return e.treeConfig?XEUtils$1.eachTree(m,function($){y.push($)},{children:b}):y=p,h.setRowExpand(y,u)},setRowExpand:function(u,f){var p=o.rowExpandedMaps,m=o.rowExpandLazyLoadedMaps,b=o.expandColumn,y=d.fullAllDataRowIdData,$=__assign({},p),k=be.value,I=k.reserve,G=k.lazy,Z=k.accordion,le=k.toggleMethod,Te=[],ke=h.getColumnIndex(b),fe=h.getVMColumnIndex(b);if(u){XEUtils$1.isArray(u)||(u=[u]),Z&&($={},u=u.slice(u.length-1,u.length));var Ue=le?u.filter(function(Fe){return le({$table:S,expanded:f,column:b,columnIndex:ke,$columnIndex:fe,row:Fe,rowIndex:h.getRowIndex(Fe),$rowIndex:h.getVMRowIndex(Fe)})}):u;f?Ue.forEach(function(Fe){var se=getRowid(S,Fe);if(!$[se]){var Ne=y[se],Je=G&&!Ne.expandLoaded&&!m[se];Je?Te.push(Xt(Fe)):$[se]=Fe}}):Ue.forEach(function(Fe){var se=getRowid(S,Fe);$[se]&&delete $[se]}),I&&Ue.forEach(function(Fe){return bt(Fe,f)})}return o.rowExpandedMaps=$,Promise.all(Te).then(function(){return h.recalculate()})},isExpandByRow:function(u){var f=o.rowExpandedMaps,p=getRowid(S,u);return!!f[p]},clearRowExpand:function(){var u=d.tableFullData,f=be.value,p=f.reserve,m=h.getRowExpandRecords();return o.rowExpandedMaps={},p&&u.forEach(function(b){return bt(b,!1)}),Vue.nextTick().then(function(){m.length&&h.recalculate()})},clearRowExpandReserve:function(){return d.rowExpandedReserveRowMap={},Vue.nextTick()},getRowExpandRecords:function(){var u=[];return XEUtils$1.each(o.rowExpandedMaps,function(f){f&&u.push(f)}),u},getTreeExpandRecords:function(){var u=[];return XEUtils$1.each(o.treeExpandedMaps,function(f){f&&u.push(f)}),u},isTreeExpandLoaded:function(u){var f=d.fullAllDataRowIdData,p=f[getRowid(S,u)];return p&&!!p.treeLoaded},clearTreeExpandLoaded:function(u){var f=o.treeExpandedMaps,p=d.fullAllDataRowIdData,m=_.value,b=m.transform,y=m.lazy,$=getRowid(S,u),k=p[$];return y&&k&&(k.treeLoaded=!1,f[$]&&delete f[$]),b?(Mt(),T.handleTableData()):Vue.nextTick()},reloadTreeExpand:function(u){var f=o.treeExpandLazyLoadedMaps,p=_.value,m=p.hasChild||p.hasChildField,b=p.transform,y=p.lazy,$=getRowid(S,u);return y&&u[m]&&!f[$]&&h.clearTreeExpandLoaded(u).then(function(){return ur(u)}).then(function(){if(b)return Mt(),T.handleTableData()}).then(function(){return h.recalculate()}),Vue.nextTick()},reloadTreeChilds:function(u){return h.reloadTreeExpand(u)},toggleTreeExpand:function(u){return h.setTreeExpand(u,!h.isTreeExpandByRow(u))},setAllTreeExpand:function(u){var f=d.tableFullData,p=_.value,m=p.transform,b=p.lazy,y=p.children||p.childrenField,$=[];return XEUtils$1.eachTree(f,function(k){var I=k[y];(b||I&&I.length)&&$.push(k)},{children:y}),h.setTreeExpand($,u).then(function(){if(m)return Mt(),h.recalculate()})},setTreeExpand:function(u,f){var p=_.value,m=p.transform;return u&&(XEUtils$1.isArray(u)||(u=[u]),u.length)?m?Mr(u,f):Gt(u,f):Vue.nextTick()},isTreeExpandByRow:function(u){var f=o.treeExpandedMaps;return!!f[getRowid(S,u)]},clearTreeExpand:function(){var u=d.tableFullTreeData,f=_.value,p=f.children||f.childrenField,m=f.transform,b=f.reserve,y=h.getTreeExpandRecords();return o.treeExpandedMaps={},b&&XEUtils$1.eachTree(u,function($){return Lt($,!1)},{children:p}),T.handleTableData().then(function(){if(m)return Mt(),T.handleTableData()}).then(function(){if(y.length)return h.recalculate()})},clearTreeExpandReserve:function(){return d.treeExpandedReserveRowMap={},Vue.nextTick()},getScroll:function(){var u=o.scrollXLoad,f=o.scrollYLoad,p=V.value,m=p.$el;return{virtualX:u,virtualY:f,scrollTop:m.scrollTop,scrollLeft:m.scrollLeft}},scrollTo:function(u,f){var p=V.value,m=D.value,b=w.value,y=p?p.$el:null,$=b?b.$el:null,k=m?m.$el:null;return XEUtils$1.isNumber(u)&&setScrollLeft(k||y,u),XEUtils$1.isNumber(f)&&setScrollTop($||y,f),o.scrollXLoad||o.scrollYLoad?new Promise(function(I){setTimeout(function(){Vue.nextTick(function(){I()})},50)}):Vue.nextTick()},scrollToRow:function(u,f){var p=[];return u&&(e.treeConfig?p.push(T.scrollToTreeRow(u)):p.push(rowToVisible(S,u))),f&&p.push(h.scrollToColumn(f)),Promise.all(p)},scrollToColumn:function(u){var f=d.fullColumnIdData,p=handleFieldOrColumn(S,u);return p&&f[p.id]?colToVisible(S,p):Vue.nextTick()},clearScroll:function(){var u=d.scrollXStore,f=d.scrollYStore,p=V.value,m=D.value,b=w.value,y=p?p.$el:null,$=b?b.$el:null,k=m?m.$el:null;return $&&(restoreScrollListener($),$.scrollTop=0),k&&(k.scrollLeft=0),y&&(restoreScrollListener(y),y.scrollTop=0,y.scrollLeft=0),u.startIndex=0,f.startIndex=0,Vue.nextTick()},updateFooter:function(){var u=e.showFooter,f=e.footerMethod,p=d.visibleColumn,m=d.afterFullData;return u&&f&&(o.footerTableData=p.length?f({columns:p,data:m,$table:S,$grid:W}):[]),Vue.nextTick()},updateStatus:function(u,f){var p=!XEUtils$1.isUndefined(f);return Vue.nextTick().then(function(){var m=e.editRules,b=o.validStore,y=V.value;if(u&&y&&m){var $=u.row,k=u.column,I="change";if(S.hasCellRules&&S.hasCellRules(I,$,k)){var G=T.getCell($,k);if(G)return S.validCellRules(I,$,k,f).then(function(){p&&b.visible&&setCellValue($,k,f),S.clearValidate($,k)}).catch(function(Z){var le=Z.rule;p&&setCellValue($,k,f),S.showValidTooltip({rule:le,row:$,column:k,cell:G})})}}})},setMergeCells:function(u){return e.spanMethod&&errLog("vxe.error.errConflicts",["merge-cells","span-method"]),ut(u,o.mergeList,d.afterFullData),Vue.nextTick().then(function(){return h.updateCellAreas()})},removeMergeCells:function(u){e.spanMethod&&errLog("vxe.error.errConflicts",["merge-cells","span-method"]);var f=Et(u,o.mergeList,d.afterFullData);return Vue.nextTick().then(function(){return h.updateCellAreas(),f})},getMergeCells:function(){return o.mergeList.slice(0)},clearMergeCells:function(){return o.mergeList=[],Vue.nextTick()},setMergeFooterItems:function(u){return e.footerSpanMethod&&errLog("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]),ut(u,o.mergeFooterList),Vue.nextTick().then(function(){return h.updateCellAreas()})},removeMergeFooterItems:function(u){e.footerSpanMethod&&errLog("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]);var f=Et(u,o.mergeFooterList);return Vue.nextTick().then(function(){return h.updateCellAreas(),f})},getMergeFooterItems:function(){return o.mergeFooterList.slice(0)},clearMergeFooterItems:function(){return o.mergeFooterList=[],Vue.nextTick()},updateCellAreas:function(){var u=e.mouseConfig,f=ie.value;return u&&f.area&&S.handleUpdateCellAreas?S.handleUpdateCellAreas():Vue.nextTick()},focus:function(){return d.isActivated=!0,Vue.nextTick()},blur:function(){return d.isActivated=!1,Vue.nextTick()},connect:function(u){return u?(oe=u,oe.syncUpdate({collectColumn:d.collectColumn,$table:S})):errLog("vxe.error.barUnableLink"),Vue.nextTick()}};var Jr=function(u){var f=o.editStore,p=o.ctxMenuStore,m=o.filterStore,b=e.mouseConfig,y=e.editRules,$=U.value,k=Xe.value,I=he.value,G=f.actived,Z=L.value,le=O.value,Te=R.value;if(le&&(getEventTargetNode(u,$,"vxe-cell--filter").flag||getEventTargetNode(u,le.$el).flag||getEventTargetNode(u,document.body,"vxe-table--ignore-clear").flag||T.preventEvent(u,"event.clearFilter",m.args,h.closeFilter)),G.row){if(k.autoClear!==!1){var ke=G.args.cell;(!ke||!getEventTargetNode(u,ke).flag)&&(Z&&getEventTargetNode(u,Z.$el).flag||(!d._lastCallTime||d._lastCallTime+50<Date.now())&&(getEventTargetNode(u,document.body,"vxe-table--ignore-clear").flag||T.preventEvent(u,"event.clearActived",G.args,function(){var Ue;if(k.mode==="row"){var Fe=getEventTargetNode(u,$,"vxe-body--row"),se=Fe.flag?h.getRowNode(Fe.targetElem):null;Ue=se?!S.eqRow(se.item,G.args.row):!1}else Ue=!getEventTargetNode(u,$,"col--edit").flag;if(Ue||(Ue=getEventTargetNode(u,$,"vxe-header--row").flag),Ue||(Ue=getEventTargetNode(u,$,"vxe-footer--row").flag),!Ue&&e.height&&!o.overflowY){var Ne=u.target;hasClass(Ne,"vxe-table--body-wrapper")&&(Ue=u.offsetY<Ne.clientHeight)}(Ue||!getEventTargetNode(u,$).flag)&&setTimeout(function(){return S.clearEdit(u)})})))}}else b&&!getEventTargetNode(u,$).flag&&!(W&&getEventTargetNode(u,W.getRefMaps().refElem.value).flag)&&!(Te&&getEventTargetNode(u,Te.getRefMaps().refElem.value).flag)&&!(oe&&getEventTargetNode(u,oe.getRefMaps().refElem.value).flag)&&(S.clearSelected(),S.clearCellAreas&&(getEventTargetNode(u,document.body,"vxe-table--ignore-areas-clear").flag||T.preventEvent(u,"event.clearAreas",{},function(){S.clearCellAreas(),S.clearCopyCellArea()})));S.closeMenu&&p.visible&&Te&&!getEventTargetNode(u,Te.getRefMaps().refElem.value).flag&&S.closeMenu();var fe=getEventTargetNode(u,W?W.getRefMaps().refElem.value:$).flag;!fe&&y&&I.autoClear&&(o.validErrorMaps={}),d.isActivated=fe},Qr=function(){h.closeFilter(),S.closeMenu&&S.closeMenu()},ea=function(){h.closeTooltip(),S.closeMenu&&S.closeMenu()},ta=function(u){var f=e.mouseConfig,p=e.keyboardConfig,m=o.filterStore,b=o.ctxMenuStore,y=o.editStore,$=ie.value,k=Ge.value,I=y.actived,G=hasEventKey(u,EVENT_KEYS.ESCAPE);G&&T.preventEvent(u,"event.keydown",null,function(){if(h.dispatchEvent("keydown-start",{},u),p&&f&&$.area&&S.handleKeyboardEvent)S.handleKeyboardEvent(u);else if((I.row||m.visible||b.visible)&&(u.stopPropagation(),S.closeMenu&&S.closeMenu(),h.closeFilter(),p&&k.isEsc&&I.row)){var Z=I.args;S.clearEdit(u),$.selected&&Vue.nextTick(function(){return S.handleSelected(Z,u)})}h.dispatchEvent("keydown",{},u),h.dispatchEvent("keydown-end",{},u)})},ra=function(u){d.isActivated&&T.preventEvent(u,"event.keydown",null,function(){var f=e.mouseConfig,p=e.keyboardConfig,m=e.treeConfig,b=e.editConfig,y=e.highlightCurrentRow,$=o.ctxMenuStore,k=o.editStore,I=o.currentRow,G=Le.value,Z=ce.value,le=Ge.value,Te=ie.value,ke=Xe.value,fe=_.value,Ue=Pe.value,Fe=ge.value,se=k.selected,Ne=k.actived,Je=fe.children||fe.childrenField,He=u.keyCode,Ze=hasEventKey(u,EVENT_KEYS.ESCAPE),rt=hasEventKey(u,EVENT_KEYS.BACKSPACE),ct=hasEventKey(u,EVENT_KEYS.TAB),vt=hasEventKey(u,EVENT_KEYS.ENTER),pt=hasEventKey(u,EVENT_KEYS.SPACEBAR),Qe=hasEventKey(u,EVENT_KEYS.ARROW_LEFT),it=hasEventKey(u,EVENT_KEYS.ARROW_UP),gt=hasEventKey(u,EVENT_KEYS.ARROW_RIGHT),at=hasEventKey(u,EVENT_KEYS.ARROW_DOWN),lt=hasEventKey(u,EVENT_KEYS.DELETE),Bt=hasEventKey(u,EVENT_KEYS.F2),wr=hasEventKey(u,EVENT_KEYS.CONTEXT_MENU),Xr=u.metaKey,Or=u.ctrlKey,br=u.shiftKey,Dr=u.altKey,_r=Qe||it||gt||at,tr=G&&$.visible&&(vt||pt||_r),Rr=isEnableConf(b)&&Ne.column&&Ne.row,Ut;if(tr)u.preventDefault(),$.showChild&&hasChildrenList($.selected)?S.moveCtxMenu(u,$,"selectChild",Qe,!1,$.selected.children):S.moveCtxMenu(u,$,"selected",gt,!0,Ue);else if(p&&f&&Te.area&&S.handleKeyboardEvent)S.handleKeyboardEvent(u);else if(Ze){if(S.closeMenu&&S.closeMenu(),h.closeFilter(),p&&le.isEsc&&Ne.row){var la=Ne.args;S.clearEdit(u),Te.selected&&Vue.nextTick(function(){return S.handleSelected(la,u)})}}else if(pt&&p&&le.isChecked&&se.row&&se.column&&(se.column.type==="checkbox"||se.column.type==="radio"))u.preventDefault(),se.column.type==="checkbox"?T.handleToggleCheckRowEvent(u,se.args):T.triggerRadioRowEvent(u,se.args);else if(Bt&&isEnableConf(b))Rr||se.row&&se.column&&(u.preventDefault(),S.handleActived(se.args,u));else if(wr)d._keyCtx=se.row&&se.column&&Z.length,clearTimeout(Er),Er=setTimeout(function(){d._keyCtx=!1},1e3);else if(vt&&!Dr&&p&&le.isEnter&&(se.row||Ne.row||m&&(Fe.isCurrent||y)&&I)){if(Or)Ne.row&&(Ut=Ne.args,S.clearEdit(u),Te.selected&&Vue.nextTick(function(){return S.handleSelected(Ut,u)}));else if(se.row||Ne.row){var Vr=se.row?se.args:Ne.args;br?le.enterToTab?S.moveTabSelected(Vr,br,u):S.moveSelected(Vr,Qe,!0,gt,!1,u):le.enterToTab?S.moveTabSelected(Vr,br,u):S.moveSelected(Vr,Qe,!1,gt,!0,u)}else if(m&&(Fe.isCurrent||y)&&I){var Cr=I[Je];if(Cr&&Cr.length){u.preventDefault();var pr=Cr[0];Ut={$table:S,row:pr,rowIndex:h.getRowIndex(pr),$rowIndex:h.getVMRowIndex(pr)},h.setTreeExpand(I,!0).then(function(){return h.scrollToRow(pr)}).then(function(){return T.triggerCurrentRowEvent(u,Ut)})}}}else if(_r&&p&&le.isArrow)Rr||(se.row&&se.column?S.moveSelected(se.args,Qe,it,gt,at,u):(it||at)&&(Fe.isCurrent||y)&&S.moveCurrentRow(it,at,u));else if(ct&&p&&le.isTab)se.row||se.column?S.moveTabSelected(se.args,br,u):(Ne.row||Ne.column)&&S.moveTabSelected(Ne.args,br,u);else if(p&&isEnableConf(b)&&(lt||(m&&(Fe.isCurrent||y)&&I?rt&&le.isArrow:rt))){if(!Rr){var Ht=le.delMethod,Gr=le.backMethod;if(le.isDel&&(se.row||se.column))Ht?Ht({row:se.row,rowIndex:h.getRowIndex(se.row),column:se.column,columnIndex:h.getColumnIndex(se.column),$table:S}):setCellValue(se.row,se.column,null),rt?Gr?Gr({row:se.row,rowIndex:h.getRowIndex(se.row),column:se.column,columnIndex:h.getColumnIndex(se.column),$table:S}):S.handleActived(se.args,u):lt&&h.updateFooter();else if(rt&&le.isArrow&&m&&(Fe.isCurrent||y)&&I){var It=XEUtils$1.findTree(d.afterFullData,function(zt){return zt===I},{children:Je}).parent;It&&(u.preventDefault(),Ut={$table:S,row:It,rowIndex:h.getRowIndex(It),$rowIndex:h.getVMRowIndex(It)},h.setTreeExpand(It,!1).then(function(){return h.scrollToRow(It)}).then(function(){return T.triggerCurrentRowEvent(u,Ut)}))}}}else if(p&&isEnableConf(b)&&le.isEdit&&!Or&&!Xr&&(pt||He>=48&&He<=57||He>=65&&He<=90||He>=96&&He<=111||He>=186&&He<=192||He>=219&&He<=222)){var Br=le.editMethod;if(se.column&&se.row&&isEnableConf(se.column.editRender)){var gr=ke.beforeEditMethod||ke.activeMethod;(!gr||gr(__assign(__assign({},se.args),{$table:S})))&&(Br?Br({row:se.row,rowIndex:h.getRowIndex(se.row),column:se.column,columnIndex:h.getColumnIndex(se.column),$table:S,$grid:W}):(setCellValue(se.row,se.column,null),S.handleActived(se.args,u)))}}h.dispatchEvent("keydown",{},u)})},aa=function(u){var f=e.keyboardConfig,p=e.mouseConfig,m=o.editStore,b=o.filterStore,y=d.isActivated,$=ie.value,k=Ge.value,I=m.actived;y&&!b.visible&&(I.row||I.column||f&&k.isClip&&p&&$.area&&S.handlePasteCellAreaEvent&&S.handlePasteCellAreaEvent(u),h.dispatchEvent("paste",{},u))},Wr=function(u){var f=e.keyboardConfig,p=e.mouseConfig,m=o.editStore,b=o.filterStore,y=d.isActivated,$=ie.value,k=Ge.value,I=m.actived;y&&!b.visible&&(I.row||I.column||f&&k.isClip&&p&&$.area&&S.handleCopyCellAreaEvent&&S.handleCopyCellAreaEvent(u),h.dispatchEvent("copy",{},u))},jr=function(u){var f=e.keyboardConfig,p=e.mouseConfig,m=o.editStore,b=o.filterStore,y=d.isActivated,$=ie.value,k=Ge.value,I=m.actived;y&&!b.visible&&(I.row||I.column||f&&k.isClip&&p&&$.area&&S.handleCutCellAreaEvent&&S.handleCutCellAreaEvent(u),h.dispatchEvent("cut",{},u))},na=function(){S.closeMenu&&S.closeMenu(),h.updateCellAreas(),h.recalculate(!0)},Nr=function(u){var f=A.value;clearTimeout(d.tooltipTimeout),u?h.closeTooltip():f&&f.setActived(!0)},Fr=function(u,f,p,m,b){b.cell=f;var y=o.tooltipStore,$=te.value,k=b.column,I=b.row,G=$.showAll,Z=$.contentMethod,le=Z?Z(b):null,Te=Z&&!XEUtils$1.eqNull(le),ke=Te?le:XEUtils$1.toString(k.type==="html"?p.innerText:p.textContent).trim(),fe=p.scrollWidth>p.clientWidth;return ke&&(G||Te||fe)&&(Object.assign(y,{row:I,column:k,visible:!0,currOpts:null}),Vue.nextTick(function(){var Ue=A.value;Ue&&Ue.open(fe?p:m||p,formatText(ke))})),Vue.nextTick()};T={getSetupOptions:function(){return GlobalConfig},updateAfterDataIndex:qt,callSlot:function(u,f){if(u){if(W)return W.callSlot(u,f);if(XEUtils$1.isFunction(u))return getSlotVNs(u(f))}return[]},getParentElem:function(){var u=U.value;if(W){var f=W.getRefMaps().refElem.value;return f?f.parentNode:null}return u?u.parentNode:null},getParentHeight:function(){var u=e.height,f=U.value;if(f){var p=f.parentNode,m=u==="auto"?getPaddingTopBottomSize(p):0;return Math.floor(W?W.getParentHeight():XEUtils$1.toNumber(getComputedStyle(p).height)-m)}return 0},getExcludeHeight:function(){return W?W.getExcludeHeight():0},defineField:function(u){var f=e.treeConfig,p=be.value,m=_.value,b=_e.value,y=$e.value,$=m.children||m.childrenField,k=getRowkey(S);return XEUtils$1.isArray(u)||(u=[u]),u.map(function(I){d.tableFullColumn.forEach(function(Z){var le=Z.field,Te=Z.editRender;if(le&&!XEUtils$1.has(I,le)&&!I[le]){var ke=null;if(Te){var fe=Te.defaultValue;XEUtils$1.isFunction(fe)?ke=fe({column:Z}):XEUtils$1.isUndefined(fe)||(ke=fe)}XEUtils$1.set(I,le,ke)}});var G=[b.labelField,y.checkField,y.labelField,p.labelField];return G.forEach(function(Z){Z&&eqEmptyValue(XEUtils$1.get(I,Z))&&XEUtils$1.set(I,Z,null)}),f&&m.lazy&&XEUtils$1.isUndefined(I[$])&&(I[$]=null),eqEmptyValue(XEUtils$1.get(I,k))&&XEUtils$1.set(I,k,getRowUniqueId()),I})},handleTableData:function(u){var f=o.scrollYLoad,p=d.scrollYStore,m=d.fullDataRowIdData,b=d.afterFullData;u&&(Yt(),b=Mt());var y=f?b.slice(p.startIndex,p.endIndex):b.slice(0);return y.forEach(function($,k){var I=getRowid(S,$),G=m[I];G&&(G.$index=k)}),o.tableData=y,Vue.nextTick()},cacheRowMap:function(u){var f=e.treeConfig,p=_.value,m=d.fullDataRowIdData,b=d.fullAllDataRowIdData,y=d.tableFullData,$=d.tableFullTreeData,k=p.children||p.childrenField,I=p.hasChild||p.hasChildField,G=getRowkey(S),Z=f&&p.lazy,le=function(Te,ke,fe,Ue,Fe,se){var Ne=getRowid(S,Te),Je=f&&Ue?toTreePathSeq(Ue):ke+1,He=se?se.length-1:0;eqEmptyValue(Ne)&&(Ne=getRowUniqueId(),XEUtils$1.set(Te,G,Ne)),Z&&Te[I]&&XEUtils$1.isUndefined(Te[k])&&(Te[k]=null);var Ze={row:Te,rowid:Ne,seq:Je,index:f&&Fe?-1:ke,_index:-1,$index:-1,items:fe,parent:Fe,level:He};u&&(m[Ne]=Ze),b[Ne]=Ze};u&&(m=d.fullDataRowIdData={}),b=d.fullAllDataRowIdData={},f?XEUtils$1.eachTree($,le,{children:k}):y.forEach(le)},cacheSourceMap:function(u){var f=e.treeConfig,p=_.value,m=d.sourceDataRowIdData,b=XEUtils$1.clone(u,!0),y=getRowkey(S);m=d.sourceDataRowIdData={};var $=function(I){var G=getRowid(S,I);eqEmptyValue(G)&&(G=getRowUniqueId(),XEUtils$1.set(I,y,G)),m[G]=I};if(f){var k=p.children||p.childrenField;XEUtils$1.eachTree(b,$,{children:p.transform?p.mapChildrenField:k})}else b.forEach($);d.tableSourceData=b},analyColumnWidth:function(){var u=d.tableFullColumn,f=Se.value,p=f.width,m=f.minWidth,b=[],y=[],$=[],k=[],I=[],G=[];u.forEach(function(Z){p&&!Z.width&&(Z.width=p),m&&!Z.minWidth&&(Z.minWidth=m),Z.visible&&(Z.resizeWidth?b.push(Z):isPx(Z.width)?y.push(Z):isScale(Z.width)?k.push(Z):isPx(Z.minWidth)?$.push(Z):isScale(Z.minWidth)?I.push(Z):G.push(Z))}),Object.assign(o.columnStore,{resizeList:b,pxList:y,pxMinList:$,scaleList:k,scaleMinList:I,autoList:G})},saveCustomResizable:function(u){var f=e.id,p=e.customConfig,m=Ce.value,b=d.collectColumn,y=m.storage,$=y===!0||y&&y.resizable;if(p&&$){var k=st(resizableStorageKey),I;if(!f){errLog("vxe.error.reqProp",["id"]);return}u||(I=XEUtils$1.isPlainObject(k[f])?k[f]:{},XEUtils$1.eachTree(b,function(G){if(G.resizeWidth){var Z=G.getKey();Z&&(I[Z]=G.renderWidth)}})),k[f]=XEUtils$1.isEmpty(I)?void 0:I,localStorage.setItem(resizableStorageKey,XEUtils$1.toJSONString(k))}},saveCustomFixed:function(){var u=e.id,f=e.customConfig,p=d.collectColumn,m=Ce.value,b=m.storage,y=b===!0||b&&b.fixed;if(f&&y){var $=st(fixedStorageKey),k=[];if(!u){errLog("vxe.error.reqProp",["id"]);return}XEUtils$1.eachTree(p,function(I){if(I.fixed&&I.fixed!==I.defaultFixed){var G=I.getKey();G&&k.push("".concat(G,"|").concat(I.fixed))}}),$[u]=k.join(",")||void 0,localStorage.setItem(fixedStorageKey,XEUtils$1.toJSONString($))}},saveCustomVisible:function(){var u=e.id,f=e.customConfig,p=d.collectColumn,m=Ce.value,b=m.checkMethod,y=m.storage,$=y===!0||y&&y.visible;if(f&&$){var k=st(visibleStorageKey),I=[],G=[];if(!u){errLog("vxe.error.reqProp",["id"]);return}XEUtils$1.eachTree(p,function(Z){if(!b||b({column:Z})){if(!Z.visible&&Z.defaultVisible){var le=Z.getKey();le&&I.push(le)}else if(Z.visible&&!Z.defaultVisible){var le=Z.getKey();le&&G.push(le)}}}),k[u]=[I.join(",")].concat(G.length?[G.join(",")]:[]).join("|")||void 0,localStorage.setItem(visibleStorageKey,XEUtils$1.toJSONString(k))}},handleCustom:function(){return T.saveCustomVisible(),T.analyColumnWidth(),h.refreshColumn()},handleUpdateDataQueue:function(){o.upDataFlag++},handleRefreshColumnQueue:function(){o.reColumnFlag++},preventEvent:function(u,f,p,m,b){var y=VXETable.interceptor.get(f),$;return y.some(function(k){return k(Object.assign({$grid:W,$table:S,$event:u},p))===!1})||m&&($=m()),b&&b(),$},checkSelectionStatus:function(){var u=e.treeConfig,f=o.selectCheckboxMaps,p=o.treeIndeterminateMaps,m=d.afterFullData,b=$e.value,y=b.checkField,$=b.checkStrictly,k=b.checkMethod,I=b.indeterminateField||b.halfField;if(!$){var G=[],Z=[],le=!1,Te=!1,ke=!1;y?(le=m.every(k?function(fe){return k({row:fe})?XEUtils$1.get(fe,y)?(Z.push(fe),!0):!1:(G.push(fe),!0)}:function(fe){return XEUtils$1.get(fe,y)}),Te=le&&m.length!==G.length,u?I?ke=!Te&&m.some(function(fe){return XEUtils$1.get(fe,y)||XEUtils$1.get(fe,I)||!!p[getRowid(S,fe)]}):ke=!Te&&m.some(function(fe){return XEUtils$1.get(fe,y)||!!p[getRowid(S,fe)]}):I?ke=!Te&&m.some(function(fe){return XEUtils$1.get(fe,y)||XEUtils$1.get(fe,I)}):ke=!Te&&m.some(function(fe){return XEUtils$1.get(fe,y)})):(le=m.every(k?function(fe){return k({row:fe})?f[getRowid(S,fe)]?(Z.push(fe),!0):!1:(G.push(fe),!0)}:function(fe){return f[getRowid(S,fe)]}),Te=le&&m.length!==G.length,u?ke=!Te&&m.some(function(fe){var Ue=getRowid(S,fe);return p[Ue]||f[Ue]}):ke=!Te&&m.some(function(fe){return f[getRowid(S,fe)]})),o.isAllSelected=Te,o.isIndeterminate=ke}},handleSelectRow:function(u,f,p){var m=u.row,b=e.treeConfig,y=o.selectCheckboxMaps,$=o.treeIndeterminateMaps,k=__assign({},y),I=d.afterFullData,G=_.value,Z=G.children||G.childrenField,le=$e.value,Te=le.checkField,ke=le.checkStrictly,fe=le.checkMethod,Ue=le.indeterminateField||le.halfField,Fe=getRowid(S,m);if(Te)if(b&&!ke){f===-1?($[Fe]||(Ue&&XEUtils$1.set(m,Ue,!0),$[Fe]=m),XEUtils$1.set(m,Te,!1)):XEUtils$1.eachTree([m],function(Qe){(S.eqRow(Qe,m)||p||!fe||fe({row:Qe}))&&(XEUtils$1.set(Qe,Te,f),Ue&&XEUtils$1.set(m,Ue,!1),delete $[getRowid(S,Qe)],Nt(m,f))},{children:Z});var se=XEUtils$1.findTree(I,function(Qe){return S.eqRow(Qe,m)},{children:Z});if(se&&se.parent){var Ne=void 0,Je=[],He={};!p&&fe?se.items.forEach(function(Qe){if(fe({row:Qe})){var it=getRowid(S,Qe);He[it]=Qe,Je.push(Qe)}}):se.items.forEach(function(Qe){var it=getRowid(S,Qe);He[it]=Qe,Je.push(Qe)});var Ze=XEUtils$1.find(se.items,function(Qe){return!!$[getRowid(S,Qe)]});if(Ze)Ne=-1;else{var rt=[];se.items.forEach(function(Qe){XEUtils$1.get(Qe,Te)&&rt.push(Qe)}),Ne=rt.filter(function(Qe){return He[getRowid(S,Qe)]}).length===Je.length?!0:rt.length||f===-1?-1:!1}return o.selectCheckboxMaps=k,T.handleSelectRow({row:se.parent},Ne,p)}}else(p||!fe||fe({row:m}))&&(XEUtils$1.set(m,Te,f),Nt(m,f));else if(b&&!ke){f===-1?($[Fe]||(Ue&&XEUtils$1.set(m,Ue,!0),$[Fe]=m),k[Fe]&&delete k[Fe]):XEUtils$1.eachTree([m],function(it){var gt=getRowid(S,it);(S.eqRow(it,m)||p||!fe||fe({row:it}))&&(f?k[gt]=it:k[gt]&&delete k[gt],Ue&&XEUtils$1.set(m,Ue,!1),delete $[getRowid(S,it)],Nt(m,f))},{children:Z});var se=XEUtils$1.findTree(I,function(it){return S.eqRow(it,m)},{children:Z});if(se&&se.parent){var Ne=void 0,ct=[],vt={};!p&&fe?se.items.forEach(function(at){if(fe({row:at})){var lt=getRowid(S,at);vt[lt]=at,ct.push(at)}}):se.items.forEach(function(at){var lt=getRowid(S,at);vt[lt]=at,ct.push(at)});var Ze=XEUtils$1.find(se.items,function(at){return!!$[getRowid(S,at)]});if(Ze)Ne=-1;else{var pt=[];se.items.forEach(function(at){var lt=getRowid(S,at);k[lt]&&pt.push(at)}),Ne=pt.filter(function(at){return vt[getRowid(S,at)]}).length===ct.length?!0:pt.length||f===-1?-1:!1}return o.selectCheckboxMaps=k,T.handleSelectRow({row:se.parent},Ne,p)}}else(p||!fe||fe({row:m}))&&(f?k[Fe]||(k[Fe]=m):k[Fe]&&delete k[Fe],Nt(m,f));o.selectCheckboxMaps=k,T.checkSelectionStatus()},triggerHeaderHelpEvent:function(u,f){var p=f.column,m=p.titlePrefix||p.titleHelp;if(m.content||m.message){var b=o.tooltipStore,y=getFuncText(m.content||m.message);Nr(!0),b.visible=!0,b.currOpts=__assign(__assign({},m),{content:null}),Vue.nextTick(function(){var $=A.value;$&&$.open(u.currentTarget,y)})}},triggerHeaderTooltipEvent:function(u,f){var p=o.tooltipStore,m=f.column,b=u.currentTarget;Nr(!0),(p.column!==m||!p.visible)&&Fr(u,b,b,null,f)},triggerBodyTooltipEvent:function(u,f){var p=e.editConfig,m=o.editStore,b=o.tooltipStore,y=Xe.value,$=m.actived,k=f.row,I=f.column,G=u.currentTarget;if(Nr(b.column!==I||b.row!==k),!(I.editRender&&isEnableConf(p)&&(y.mode==="row"&&$.row===k||$.row===k&&$.column===I))&&(b.column!==I||b.row!==k||!b.visible)){var Z=void 0,le=void 0;I.treeNode?(Z=G.querySelector(".vxe-tree-cell"),I.type==="html"&&(le=G.querySelector(".vxe-cell--html"))):le=G.querySelector(I.type==="html"?".vxe-cell--html":".vxe-cell--label"),Fr(u,G,Z||G.children[0],le,f)}},triggerFooterTooltipEvent:function(u,f){var p=f.column,m=o.tooltipStore,b=u.currentTarget;Nr(m.column!==p||!!m.row),(m.column!==p||!m.visible)&&Fr(u,b,b.querySelector(".vxe-cell--item")||b.children[0],null,f)},handleTargetLeaveEvent:function(){var u=te.value,f=A.value;f&&f.setActived(!1),u.enterable?d.tooltipTimeout=setTimeout(function(){f=A.value,f&&!f.isActived()&&h.closeTooltip()},u.leaveDelay):h.closeTooltip()},triggerHeaderCellClickEvent:function(u,f){var p=d._lastResizeTime,m=ye.value,b=Se.value,y=f.column,$=u.currentTarget,k=p&&p>Date.now()-300,I=getEventTargetNode(u,$,"vxe-cell--sort").flag,G=getEventTargetNode(u,$,"vxe-cell--filter").flag;m.trigger==="cell"&&!(k||I||G)&&T.triggerSortEvent(u,y,dt(y)),h.dispatchEvent("header-cell-click",Object.assign({triggerResizable:k,triggerSort:I,triggerFilter:G,cell:$},f),u),(b.isCurrent||e.highlightCurrentColumn)&&h.setCurrentColumn(y)},triggerHeaderCellDblclickEvent:function(u,f){h.dispatchEvent("header-cell-dblclick",Object.assign({cell:u.currentTarget},f),u)},triggerCellClickEvent:function(u,f){var p=e.highlightCurrentRow,m=e.editConfig,b=o.editStore,y=be.value,$=Xe.value,k=_.value,I=_e.value,G=$e.value,Z=ge.value,le=b.actived,Te=f.row,ke=f.column,fe=ke.type,Ue=ke.treeNode,Fe=fe==="radio",se=fe==="checkbox",Ne=fe==="expand",Je=u.currentTarget,He=Fe&&getEventTargetNode(u,Je,"vxe-cell--radio").flag,Ze=se&&getEventTargetNode(u,Je,"vxe-cell--checkbox").flag,rt=Ue&&getEventTargetNode(u,Je,"vxe-tree--btn-wrapper").flag,ct=Ne&&getEventTargetNode(u,Je,"vxe-table--expanded").flag;f=Object.assign({cell:Je,triggerRadio:He,triggerCheckbox:Ze,triggerTreeNode:rt,triggerExpandNode:ct},f),!Ze&&!He&&(!ct&&(y.trigger==="row"||Ne&&y.trigger==="cell")&&T.triggerRowExpandEvent(u,f),(k.trigger==="row"||Ue&&k.trigger==="cell")&&T.triggerTreeExpandEvent(u,f)),rt||(ct||((Z.isCurrent||p)&&!Ze&&!He&&T.triggerCurrentRowEvent(u,f),!He&&(I.trigger==="row"||Fe&&I.trigger==="cell")&&T.triggerRadioRowEvent(u,f),!Ze&&(G.trigger==="row"||se&&G.trigger==="cell")&&T.handleToggleCheckRowEvent(u,f)),isEnableConf(m)&&($.trigger==="manual"?le.args&&le.row===Te&&ke!==le.column&&Wt(u,f):(!le.args||Te!==le.row||ke!==le.column)&&($.trigger==="click"||$.trigger==="dblclick"&&$.mode==="row"&&le.row===Te)&&Wt(u,f))),h.dispatchEvent("cell-click",f,u)},triggerCellDblclickEvent:function(u,f){var p=e.editConfig,m=o.editStore,b=Xe.value,y=m.actived,$=u.currentTarget;f=Object.assign({cell:$},f),isEnableConf(p)&&b.trigger==="dblclick"&&(!y.args||u.currentTarget!==y.args.cell)&&(b.mode==="row"?Vt("blur").catch(function(k){return k}).then(function(){S.handleActived(f,u).then(function(){return Vt("change")}).catch(function(k){return k})}):b.mode==="cell"&&S.handleActived(f,u).then(function(){return Vt("change")}).catch(function(k){return k})),h.dispatchEvent("cell-dblclick",f,u)},handleToggleCheckRowEvent:function(u,f){var p=o.selectCheckboxMaps,m=$e.value,b=m.checkField,y=f.row,$=!1;b?$=!XEUtils$1.get(y,b):$=!p[getRowid(S,y)],u?T.triggerCheckRowEvent(u,f,$):T.handleSelectRow(f,$)},triggerCheckRowEvent:function(u,f,p){var m=$e.value,b=f.row,y=d.afterFullData,$=m.checkMethod;if(m.isShiftKey&&u.shiftKey&&!e.treeConfig){var k=h.getCheckboxRecords();if(k.length){var I=k[0],G=h.getVTRowIndex(b),Z=h.getVTRowIndex(I);if(G!==Z){h.setAllCheckboxRow(!1);var le=G<Z?y.slice(G,Z+1):y.slice(Z,G+1);Ct(le,!0,!1),h.dispatchEvent("checkbox-range-select",Object.assign({rangeRecords:le},f),u);return}}}(!$||$({row:b}))&&(T.handleSelectRow(f,p),h.dispatchEvent("checkbox-change",Object.assign({records:h.getCheckboxRecords(),reserves:h.getCheckboxReserveRecords(),indeterminates:h.getCheckboxIndeterminateRecords(),checked:p},f),u))},triggerCheckAllEvent:function(u,f){Jt(f),u&&h.dispatchEvent("checkbox-all",{records:h.getCheckboxRecords(),reserves:h.getCheckboxReserveRecords(),indeterminates:h.getCheckboxIndeterminateRecords(),checked:f},u)},triggerRadioRowEvent:function(u,f){var p=o.selectRadioRow,m=f.row,b=_e.value,y=m,$=p!==y;$?yt(y):b.strict||($=p===y,$&&(y=null,h.clearRadioRow())),$&&h.dispatchEvent("radio-change",__assign({oldValue:p,newValue:y},f),u)},triggerCurrentRowEvent:function(u,f){var p=o.currentRow,m=f.row,b=p!==m;h.setCurrentRow(m),b&&h.dispatchEvent("current-change",__assign({oldValue:p,newValue:m},f),u)},triggerRowExpandEvent:function(u,f){var p=o.rowExpandLazyLoadedMaps,m=o.expandColumn,b=be.value,y=f.row,$=b.lazy,k=getRowid(S,y);if(!$||!p[k]){var I=!h.isExpandByRow(y),G=h.getColumnIndex(m),Z=h.getVMColumnIndex(m);h.setRowExpand(y,I),h.dispatchEvent("toggle-row-expand",{expanded:I,column:m,columnIndex:G,$columnIndex:Z,row:y,rowIndex:h.getRowIndex(y),$rowIndex:h.getVMRowIndex(y)},u)}},triggerTreeExpandEvent:function(u,f){var p=o.treeExpandLazyLoadedMaps,m=_.value,b=f.row,y=f.column,$=m.lazy,k=getRowid(S,b);if(!$||!p[k]){var I=!h.isTreeExpandByRow(b),G=h.getColumnIndex(y),Z=h.getVMColumnIndex(y);h.setTreeExpand(b,I),h.dispatchEvent("toggle-tree-expand",{expanded:I,column:y,columnIndex:G,$columnIndex:Z,row:b},u)}},triggerSortEvent:function(u,f,p){var m=e.mouseConfig,b=ye.value,y=ie.value,$=f.field,k=f.sortable;if(k){!p||f.order===p?h.clearSort(b.multiple?f:null):h.sort({field:$,order:p});var I={$table:S,$event:u,column:f,field:$,property:$,order:f.order,sortList:h.getSortColumns(),sortTime:f.sortTime};if(m&&y.area&&S.handleSortEvent)return S.handleSortEvent(u,I);h.dispatchEvent("sort-change",I,u)}},triggerScrollXEvent:function(){kr()},triggerScrollYEvent:function(u){var f=d.scrollYStore,p=f.adaptive,m=f.offsetSize,b=f.visibleSize;isWebkit&&p&&m*2+b<=40?Sr(u):Ot(u)},scrollToTreeRow:function(u){var f=e.treeConfig,p=d.tableFullData,m=[];if(f){var b=_.value,y=b.children||b.childrenField,$=XEUtils$1.findTree(p,function(I){return S.eqRow(I,u)},{children:y});if($){var k=$.nodes;k.forEach(function(I,G){G<k.length-1&&!h.isTreeExpandByRow(I)&&m.push(h.setTreeExpand(I,!0))})}}return Promise.all(m).then(function(){return rowToVisible(S,u)})},updateScrollYStatus:jt,updateScrollXSpace:function(){var u=o.isGroup,f=o.scrollXLoad,p=o.scrollbarWidth,m=d.visibleColumn,b=d.scrollXStore,y=d.elemStore,$=d.tableWidth,k=E.value,I=V.value,G=D.value,Z=I?I.$el:null;if(Z){var le=k?k.$el:null,Te=G?G.$el:null,ke=le?le.querySelector(".vxe-table--header"):null,fe=Z.querySelector(".vxe-table--body"),Ue=Te?Te.querySelector(".vxe-table--footer"):null,Fe=m.slice(0,b.startIndex).reduce(function(Je,He){return Je+He.renderWidth},0),se="";f&&(se="".concat(Fe,"px")),ke&&(ke.style.marginLeft=u?"":se),fe.style.marginLeft=se,Ue&&(Ue.style.marginLeft=se);var Ne=["main"];Ne.forEach(function(Je){var He=["header","body","footer"];He.forEach(function(Ze){var rt=y["".concat(Je,"-").concat(Ze,"-xSpace")],ct=rt?rt.value:null;ct&&(ct.style.width=f?"".concat($+(Ze==="header"?p:0),"px"):"")})}),Vue.nextTick(mt)}},updateScrollYSpace:function(){var u=o.scrollYLoad,f=d.scrollYStore,p=d.elemStore,m=d.afterFullData,b=f.startIndex,y=f.rowHeight,$=m.length*y,k=Math.max(0,b*y),I=["main","left","right"],G="",Z="";u&&(G="".concat(k,"px"),Z="".concat($,"px")),I.forEach(function(le){var Te=["header","body","footer"],ke=p["".concat(le,"-body-table")],fe=ke?ke.value:null;fe&&(fe.style.marginTop=G),Te.forEach(function(Ue){var Fe=p["".concat(le,"-").concat(Ue,"-ySpace")],se=Fe?Fe.value:null;se&&(se.style.height=Z)})}),Vue.nextTick(mt)},updateScrollXData:function(){Vue.nextTick(function(){sr(),T.updateScrollXSpace()})},updateScrollYData:function(){Vue.nextTick(function(){T.handleTableData(),T.updateScrollYSpace()})},checkScrolling:function(){var u=B.value,f=ae.value,p=V.value,m=p?p.$el:null;m&&(u&&(m.scrollLeft>0?addClass(u,"scrolling--middle"):removeClass(u,"scrolling--middle")),f&&(m.clientWidth<m.scrollWidth-Math.ceil(m.scrollLeft)?addClass(f,"scrolling--middle"):removeClass(f,"scrolling--middle")))},updateZindex:function(){e.zIndex?d.tZindex=e.zIndex:d.tZindex<getLastZIndex()&&(d.tZindex=nextZIndex())},handleCheckedCheckboxRow:Ct,triggerHoverEvent:function(u,f){var p=f.row;T.setHoverRow(p)},setHoverRow:function(u){var f=getRowid(S,u),p=U.value;T.clearHoverRow(),p&&XEUtils$1.arrayEach(p.querySelectorAll('[rowid="'.concat(f,'"]')),function(m){return addClass(m,"row--hover")}),d.hoverRow=u},clearHoverRow:function(){var u=U.value;u&&XEUtils$1.arrayEach(u.querySelectorAll(".vxe-body--row.row--hover"),function(f){return removeClass(f,"row--hover")}),d.hoverRow=null},getCell:function(u,f){var p=getRowid(S,u),m=V.value,b=X.value,y=w.value,$;return f.fixed&&(f.fixed==="left"?b&&($=b.$el):y&&($=y.$el)),$||($=m.$el),$?$.querySelector('.vxe-body--row[rowid="'.concat(p,'"] .').concat(f.id)):null},getCellLabel:function(u,f){var p=f.formatter,m=getCellValue(u,f),b=m;if(p){var y=void 0,$=d.fullAllDataRowIdData,k=getRowid(S,u),I=f.id,G=$[k];if(G&&(y=G.formatData,y||(y=$[k].formatData={}),G&&y[I]&&y[I].value===m))return y[I].label;var Z={cellValue:m,row:u,rowIndex:h.getRowIndex(u),column:f,columnIndex:h.getColumnIndex(f)};if(XEUtils$1.isString(p)){var le=VXETable.formats.get(p);b=le&&le.cellFormatMethod?le.cellFormatMethod(Z):""}else if(XEUtils$1.isArray(p)){var le=VXETable.formats.get(p[0]);b=le&&le.cellFormatMethod?le.cellFormatMethod.apply(le,__spreadArray([Z],p.slice(1),!1)):""}else b=p(Z);y&&(y[I]={value:m,label:b})}return b},findRowIndexOf:function(u,f){return f?XEUtils$1.findIndexOf(u,function(p){return S.eqRow(p,f)}):-1},eqRow:function(u,f){return u&&f?u===f?!0:getRowid(S,u)===getRowid(S,f):!1}},Object.assign(S,h,T);var qr=function(u){var f=e.showHeader,p=e.showFooter,m=o.tableData,b=o.tableColumn,y=o.tableGroupColumn,$=o.columnStore,k=o.footerTableData,I=u==="left",G=I?$.leftList:$.rightList;return Vue.h("div",{ref:I?B:ae,class:"vxe-table--fixed-".concat(u,"-wrapper")},[f?Vue.h(Header,{ref:I?N:x,fixedType:u,tableData:m,tableColumn:b,tableGroupColumn:y,fixedColumn:G}):Vue.createCommentVNode(),Vue.h(TableBodyComponent,{ref:I?X:w,fixedType:u,tableData:m,tableColumn:b,fixedColumn:G}),p?Vue.h(Footer,{ref:I?H:P,footerTableData:k,tableColumn:b,fixedColumn:G,fixedType:u}):Vue.createCommentVNode()])},ia=function(){var u=Y.value,f={$table:S};if(a.empty)return a.empty(f);var p=u.name?VXETable.renderer.get(u.name):null,m=p?p.renderEmpty:null;return m?getSlotVNs(m(u,f)):getFuncText(e.emptyText)||GlobalConfig.i18n("vxe.table.emptyText")};function Ur(){var u=U.value;u&&u.clientWidth&&u.clientHeight&&h.recalculate()}var Pr=Vue.ref(0);Vue.watch(function(){return e.data?e.data.length:-1},function(){Pr.value++}),Vue.watch(function(){return e.data},function(){Pr.value++}),Vue.watch(Pr,function(){var u=d.inited,f=d.initStatus;dr(e.data||[]).then(function(){o.scrollXLoad,o.scrollYLoad,o.expandColumn,d.inited=!0,d.initStatus=!0,f||er(),u||hr(),h.recalculate()})});var Ar=Vue.ref(0);Vue.watch(function(){return o.staticColumns.length},function(){Ar.value++}),Vue.watch(function(){return o.staticColumns},function(){Ar.value++}),Vue.watch(Ar,function(){vr(o.staticColumns)});var Lr=Vue.ref(0);Vue.watch(function(){return o.tableColumn.length},function(){Lr.value++}),Vue.watch(function(){return o.tableColumn},function(){Lr.value++}),Vue.watch(Lr,function(){T.analyColumnWidth()}),Vue.watch(function(){return o.upDataFlag},function(){Vue.nextTick(function(){h.updateData()})}),Vue.watch(function(){return o.reColumnFlag},function(){Vue.nextTick(function(){h.refreshColumn()})}),Vue.watch(function(){return e.showHeader},function(){Vue.nextTick(function(){h.recalculate(!0).then(function(){return h.refreshScroll()})})}),Vue.watch(function(){return e.showFooter},function(){Vue.nextTick(function(){h.recalculate(!0).then(function(){return h.refreshScroll()})})}),Vue.watch(function(){return e.height},function(){Vue.nextTick(function(){return h.recalculate(!0)})}),Vue.watch(function(){return e.maxHeight},function(){Vue.nextTick(function(){return h.recalculate(!0)})}),Vue.watch(function(){return e.syncResize},function(u){u&&(Ur(),Vue.nextTick(function(){Ur(),setTimeout(function(){return Ur()})}))});var C=Vue.ref(0);Vue.watch(function(){return e.mergeCells?e.mergeCells.length:-1},function(){C.value++}),Vue.watch(function(){return e.mergeCells},function(){C.value++}),Vue.watch(C,function(){h.clearMergeCells(),Vue.nextTick(function(){e.mergeCells&&h.setMergeCells(e.mergeCells)})});var z=Vue.ref(0);Vue.watch(function(){return e.mergeFooterItems?e.mergeFooterItems.length:-1},function(){z.value++}),Vue.watch(function(){return e.mergeFooterItems},function(){z.value++}),Vue.watch(z,function(){h.clearMergeFooterItems(),Vue.nextTick(function(){e.mergeFooterItems&&h.setMergeFooterItems(e.mergeFooterItems)})}),VXETable.hooks.forEach(function(u){var f=u.setupTable;if(f){var p=f(S);p&&XEUtils$1.isObject(p)&&Object.assign(S,p)}}),T.preventEvent(null,"created",{$table:S});var re;Vue.onActivated(function(){h.recalculate().then(function(){return h.refreshScroll()}),T.preventEvent(null,"activated",{$table:S})}),Vue.onDeactivated(function(){d.isActivated=!1,T.preventEvent(null,"deactivated",{$table:S})}),Vue.onMounted(function(){Vue.nextTick(function(){var u=e.data;e.treeConfig,e.showOverflow;var f=d.scrollXStore,p=d.scrollYStore,m=Re.value;if(Xe.value,_.value,_e.value,$e.value,be.value,ge.value,Object.assign(p,{startIndex:0,endIndex:0,visibleSize:0,adaptive:m.adaptive!==!1}),Object.assign(f,{startIndex:0,endIndex:0,visibleSize:0}),dr(u||[]).then(function(){u&&u.length&&(d.inited=!0,d.initStatus=!0,er(),hr()),mt()}),e.autoResize){var b=Be.value,y=b.refreshDelay,$=U.value,k=T.getParentElem(),I=y?XEUtils$1.throttle(function(){return h.recalculate(!0)},y,{leading:!0,trailing:!0}):null;re=createResizeEvent(I?function(){e.autoResize&&requestAnimationFrame(I)}:function(){e.autoResize&&h.recalculate(!0)}),$&&re.observe($),k&&re.observe(k)}}),GlobalEvent.on(S,"paste",aa),GlobalEvent.on(S,"copy",Wr),GlobalEvent.on(S,"cut",jr),GlobalEvent.on(S,"mousedown",Jr),GlobalEvent.on(S,"blur",Qr),GlobalEvent.on(S,"mousewheel",ea),GlobalEvent.on(S,"keydown",ra),GlobalEvent.on(S,"resize",na),S.handleGlobalContextmenuEvent&&GlobalEvent.on(S,"contextmenu",S.handleGlobalContextmenuEvent),T.preventEvent(null,"mounted",{$table:S})}),Vue.onBeforeUnmount(function(){re&&re.disconnect(),h.closeFilter(),S.closeMenu&&S.closeMenu(),T.preventEvent(null,"beforeUnmount",{$table:S})}),Vue.onUnmounted(function(){GlobalEvent.off(S,"paste"),GlobalEvent.off(S,"copy"),GlobalEvent.off(S,"cut"),GlobalEvent.off(S,"mousedown"),GlobalEvent.off(S,"blur"),GlobalEvent.off(S,"mousewheel"),GlobalEvent.off(S,"keydown"),GlobalEvent.off(S,"resize"),GlobalEvent.off(S,"contextmenu"),T.preventEvent(null,"unmounted",{$table:S})});var Ee=function(){var u,f=e.loading,p=e.stripe,m=e.showHeader,b=e.height,y=e.treeConfig,$=e.mouseConfig,k=e.showFooter,I=e.highlightCell,G=e.highlightHoverRow,Z=e.highlightHoverColumn,le=e.editConfig,Te=e.editRules,ke=o.isGroup,fe=o.overflowX,Ue=o.overflowY,Fe=o.scrollXLoad,se=o.scrollYLoad,Ne=o.scrollbarHeight,Je=o.tableData,He=o.tableColumn,Ze=o.tableGroupColumn,rt=o.footerTableData,ct=o.initStore,vt=o.columnStore,pt=o.filterStore,Qe=vt.leftList,it=vt.rightList,gt=a.loading,at=ve.value,lt=he.value,Bt=_.value,wr=ge.value,Xr=Se.value,Or=s.value,br=qe.value,Dr=ie.value,_r=Ve.value,tr=ee.value,Rr=Le.value;return Vue.h("div",{ref:U,class:["vxe-table","vxe-table--render-default","tid_".concat(c),"border--".concat(br),(u={},u["size--".concat(Or)]=Or,u["vaild-msg--".concat(lt.msgMode)]=!!Te,u["vxe-editable"]=!!le,u["old-cell-valid"]=Te&&GlobalConfig.cellVaildMode==="obsolete",u["cell--highlight"]=I,u["cell--selected"]=$&&Dr.selected,u["cell--area"]=$&&Dr.area,u["row--highlight"]=wr.isHover||G,u["column--highlight"]=Xr.isHover||Z,u["is--header"]=m,u["is--footer"]=k,u["is--group"]=ke,u["is--tree-line"]=y&&(Bt.showLine||Bt.line),u["is--fixed-left"]=Qe.length,u["is--fixed-right"]=it.length,u["is--animat"]=!!e.animat,u["is--round"]=e.round,u["is--stripe"]=!y&&p,u["is--loading"]=f,u["is--empty"]=!f&&!Je.length,u["is--scroll-y"]=Ue,u["is--scroll-x"]=fe,u["is--virtual-x"]=Fe,u["is--virtual-y"]=se,u)],onKeydown:ta},[Vue.h("div",{class:"vxe-table-slots"},a.default?a.default({}):[]),Vue.h("div",{class:"vxe-table--render-wrapper"},[Vue.h("div",{class:"vxe-table--main-wrapper"},[m?Vue.h(Header,{ref:E,tableData:Je,tableColumn:He,tableGroupColumn:Ze}):Vue.createCommentVNode(),Vue.h(TableBodyComponent,{ref:V,tableData:Je,tableColumn:He}),k?Vue.h(Footer,{ref:D,footerTableData:rt,tableColumn:He}):Vue.createCommentVNode()]),Vue.h("div",{class:"vxe-table--fixed-wrapper"},[Qe&&Qe.length&&fe?qr("left"):Vue.createCommentVNode(),it&&it.length&&fe?qr("right"):Vue.createCommentVNode()])]),Vue.h("div",{ref:F,class:"vxe-table--empty-placeholder"},[Vue.h("div",{class:"vxe-table--empty-content"},ia())]),Vue.h("div",{class:"vxe-table--border-line"}),Vue.h("div",{ref:J,class:"vxe-table--resizable-bar",style:fe?{"padding-bottom":"".concat(Ne,"px")}:null}),Vue.h(VxeLoading,{class:"vxe-table--loading",modelValue:f,icon:tr.icon,text:tr.text},gt?{default:function(){return gt({$table:S,$grid:W})}}:{}),ct.filter?Vue.h(Vue.resolveComponent("vxe-table-filter"),{ref:O,filterStore:pt}):Vue.createCommentVNode(),ct.import&&e.importConfig?Vue.h(Vue.resolveComponent("vxe-import-panel"),{defaultOptions:o.importParams,storeData:o.importStore}):Vue.createCommentVNode(),ct.export&&(e.exportConfig||e.printConfig)?Vue.h(Vue.resolveComponent("vxe-export-panel"),{defaultOptions:o.exportParams,storeData:o.exportStore}):Vue.createCommentVNode(),Rr?Vue.h(Vue.resolveComponent("vxe-table-context-menu"),{ref:R}):Vue.createCommentVNode(),l?Vue.h(Vue.resolveComponent("vxe-tooltip"),{ref:M,isArrow:!1,enterable:!1}):Vue.createCommentVNode(),l&&e.editRules&&lt.showMessage&&(lt.message==="default"?!b:lt.message==="tooltip")?Vue.h(Vue.resolveComponent("vxe-tooltip"),__assign({ref:L,class:[{"old-cell-valid":Te&&GlobalConfig.cellVaildMode==="obsolete"},"vxe-table--valid-error"]},lt.message==="tooltip"||Je.length===1?_r:{})):Vue.createCommentVNode(),l?Vue.h(Vue.resolveComponent("vxe-tooltip"),__assign({ref:A},at)):Vue.createCommentVNode()])};return S.renderVN=Ee,Vue.provide("xecolgroup",null),Vue.provide("$xetable",S),S},render:function(){return this.renderVN()}});var VxeTable=Object.assign(VxeTableComponent,{install:function(e){e.component(VxeTableComponent.name,VxeTableComponent)}}),Table=VxeTable;dynamicApp.component(VxeTableComponent.name,VxeTableComponent);const zhCN={vxe:{base:{pleaseInput:"请输入",pleaseSelect:"请选择"},loading:{text:"加载中..."},error:{groupFixed:"如果使用分组表头，固定列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',errFunc:'参数 "{0}" 不是一个方法',notValidators:'全局校验 "{0}" 不存在',notFormats:'全局格式化 "{0}" 不存在',notCommands:'全局指令 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',notProp:'不支持的参数 "{0}"',checkProp:'当数据量过大时可能会导致复选框卡顿，建议设置参数 "{0}" 提升渲染速度',coverProp:'"{0}" 的参数 "{1}" 被覆盖，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入"},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"锁定列",fixedGroup:"锁定组",cancelFixed:"取消锁定",fixedLeft:"锁定左侧",fixedRight:"锁定右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"#",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",maxFixedCol:"最大固定列的数量不能超过 {0} 个"},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{search:"搜索",loadingText:"加载中",emptyText:"暂无数据"},pager:{goto:"前往",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",prevPage:"上一页",nextPage:"下一页",prevJump:"向上跳页",nextJump:"向下跳页"},alert:{title:"消息提示"},button:{confirm:"确认",cancel:"取消"},import:{modes:{covering:"覆盖",insert:"新增"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开层级",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{zoomIn:"最大化",zoomOut:"还原",close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",fixedLeft:"固定在左侧",fixedRight:"固定在右侧",cancelfixed:"取消固定"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"周",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}}}};setup({i18n:function(e,r){return XEUtils$1.toFormatString(XEUtils$1.get(zhCN,e),r)}});const style$h="";async function openDirectoryPicker(){try{return await showDirectoryPicker()}catch(e){return console.error(e),null}}async function listFileHandle(e){const r=[];for await(const a of e.values())a.kind==="file"&&r.push(a);return r}async function readFileHandleAsText(e){return new Promise(async function(r,a){try{const n=await e.getFile(),l=new FileReader;l.onload=()=>{r(l.result)},l.onerror=()=>{a(l.error)},l.readAsText(n)}catch(n){a(n)}})}async function write(e,r,a=!0){const n=await e.createWritable({keepExistingData:a});if(a){const l=await e.getFile();n.seek(l.size)}return n.write(r),n.close(),!0}function codeText2TableInfo(text){const tableInfo=eval("const info = "+text+";info;");return Object.entries(tableInfo.property).forEach(([e,r])=>{if(typeof r=="function")r===String?tableInfo.property[e]={type:"String"}:r===Number?tableInfo.property[e]={type:"Number"}:r===Date?tableInfo.property[e]={type:"Date"}:r===Boolean&&(tableInfo.property[e]={type:"Boolean"});else{const a={};r.type===String?a.type="String":r.type===Number?a.type="Number":r.type===Date?(a.type="Date",r.default===Date.now&&(a.default="Date.now")):r.type===Boolean&&(a.type="Boolean"),tableInfo.property[e]=Object.assign(r,a)}}),tableInfo}const tableInfo2codeText=(()=>{const e="#<#__QUOTE__#>#",r="#<#__String__#>#";return function(a,n){n??(n=["module","model","table","property"]);let l={};if(n.includes("module")&&(l.module=r+a.module+r),n.includes("model")&&(l.model=r+a.model+r),n.includes("table")&&(l.table=r+a.table+r),n.includes("property")){const s={};Object.entries(a.property).forEach(([g,o])=>{if(Object.keys(o).length===1){s[g]=o.type;return}const d={};o.type==="String"&&o.default!=null?d.default=r+o.default.replace(/"/g,e)+r:o.type==="Date"&&(o.min&&(d.min=r+o.min+r),o.max&&(d.max=r+o.max+r)),s[g]=Object.assign({},o,d)}),n.includes("property")&&(l.property=s)}n.length===1&&n[0]==="property"&&(l=l.property);let c=JSON.stringify(l,null,4);return c=c.replace(/"/g,""),c=c.replace(new RegExp(e,"g"),'\\"'),c=c.replace(new RegExp(r,"g"),'"'),c}})();function getModelFileText(e,r=""){return`import mongoose, { Schema } from 'mongoose';

/**
 * ${r}表
 */
const info = ${e};

export const Model = mongoose.model(info.model, new Schema(info.property), info.table);
`}function getDAOFileText(e,r){const a=r.replace(r[0],r[0].toLowerCase());return`import { BaseDAO } from '#dao/BaseDAO.js';
import { Model } from '#dao/${e}/model/${r}Model.js';

/**
 * ${r}数据访问
 *
 * @extends {BaseDAO<typeof Model>}
 */
class ${r}DAO extends BaseDAO {}

const ${a}DAO = new ${r}DAO(Model);
export { ${r}DAO, ${a}DAO };
`}function getServiceFileText(e,r){const a=r.replace(r[0],r[0].toLowerCase());return`import { BaseService } from '#service/BaseService.js';
import { ${a}DAO } from '#dao/${e}/${r}DAO.js';

/** @typedef {import('#dao/${e}/${r}DAO').${r}DAO} DAO */
/** @typedef {import('#service/BaseService').ExtractModel<DAO>} Model */

/**
 * ${r}服务
 * 
 * @extends {BaseService<DAO, Model>}
 */
class ${r}Service extends BaseService {}

const ${a}Service = new ${r}Service(${a}DAO);
export { ${r}Service, ${a}Service };
`}function extructTableInfo(e){const r="const info = ",a="export",n=e.substring(e.indexOf(r)+r.length,e.indexOf(a));return codeText2TableInfo(n)}async function listModel(e){const r=await e.getDirectoryHandle("dao",{create:!0}),a=[],n=[];for await(const l of r.values())a.push(l);return new Promise(l=>{(async()=>{for(const c of a)if(c.kind==="directory"&&c.name!=="database"){const s=await c.getDirectoryHandle("model",{create:!0}),g=await listFileHandle(s);for(const o of g){const d=await readFileHandleAsText(o);n.push({module:c.name,...extructTableInfo(d)})}}})().then(()=>{l(n)})})}async function saveModel(e,r){const c=await(await(await(await e.getDirectoryHandle("dao",{create:!0})).getDirectoryHandle(r.module,{create:!0})).getDirectoryHandle("model",{create:!0})).getFileHandle(r.model+"Model.js",{create:!0}),s=getModelFileText(tableInfo2codeText(r,["model","table","property"]),r.model);return await write(c,s,!1)}async function generateDAOAndService(e,r,a){if(r.module===void 0)throw new Error("模块名不存在!");const l=await(await e.getDirectoryHandle("dao",{create:!0})).getDirectoryHandle(r.module,{create:!0}),c=r.model+"DAO.js";let s;try{s=await l.getFileHandle(c),a&&write(s,getDAOFileText(r.module,r.model),!1)}catch{s=await l.getFileHandle(c,{create:!0}),write(s,getDAOFileText(r.module,r.model),!1)}const o=await(await e.getDirectoryHandle("service",{create:!0})).getDirectoryHandle(r.module,{create:!0}),d=r.model+"Service.js";let h;try{h=await o.getFileHandle(d),a&&write(h,getServiceFileText(r.module,r.model),!1)}catch{h=await o.getFileHandle(d,{create:!0}),write(h,getServiceFileText(r.module,r.model),!1)}}const _hoisted_1$4={class:"my-dropdown1"},_hoisted_2$4=["onClick"],_sfc_main$7=Vue.defineComponent({__name:"AddTable",props:{modules:{}},emits:["confirm"],setup(e,{expose:r,emit:a}){const n=e,l=Vue.ref(!1),c=Vue.reactive({module:"",model:"",table:""}),s=Vue.ref([{children:[{field:"module",title:"模块名称",slots:{default:"module"},span:24},{field:"model",title:"模型名称",itemRender:{name:"$input",props:{placeholder:"请输入模型名称"}},span:24},{field:"table",title:"表名称",itemRender:{name:"$input",props:{placeholder:"请输入表名称"}},span:24}]}]),g=Vue.ref({module:[{required:!0,content:"模块名称必须填写"},{pattern:/^[a-zA-Z][a-zA-Z0-9_]*$/,content:"必须以字母开头且只包含字母、数字、下划线"}],model:[{required:!0,content:"模型名称必须填写"},{pattern:/^[a-zA-Z][a-zA-Z0-9_]*$/,content:"必须以字母开头且只包含字母、数字、下划线"}],table:[{required:!0,content:"表名称必须填写"},{pattern:/^[a-zA-Z][a-zA-Z0-9_]*$/,content:"必须以字母开头且只包含字母、数字、下划线"}]}),o=Vue.ref(!1),d=Vue.ref([]),h=Vue.ref();Vue.watchEffect(()=>{d.value=n.modules});const T=()=>{o.value=!0},U=()=>{d.value=c.module?n.modules.filter(L=>L.indexOf(c.module)>-1):n.modules},A=L=>{var O;c.module=L,o.value=!1,d.value=n.modules,(O=h.value)==null||O.clearValidate("module")},M=async({type:L})=>{var O;if(L==="confirm"){if(await((O=h.value)==null?void 0:O.validate()))return new Error;a("confirm",c)}};return r({open:async()=>{Object.assign(c,{module:"",model:"",table:""}),l.value=!0}}),(L,O)=>{const R=Vue.resolveComponent("VxeInput"),E=Vue.resolveComponent("VxePulldown"),V=Vue.resolveComponent("VxeForm"),D=Vue.resolveComponent("VxeModal");return Vue.openBlock(),Vue.createBlock(D,{modelValue:l.value,"onUpdate:modelValue":O[1]||(O[1]=N=>l.value=N),width:"400",title:"新建表",type:"confirm","show-footer":"","before-hide-method":M},{default:Vue.withCtx(()=>[Vue.createVNode(V,{ref_key:"formRef",ref:h,data:c,items:s.value,rules:g.value,"title-width":"85","title-align":"right",titleColon:""},{module:Vue.withCtx(({data:N})=>[Vue.createVNode(E,{modelValue:o.value,"onUpdate:modelValue":O[0]||(O[0]=X=>o.value=X),"class-name":"w-full"},{default:Vue.withCtx(()=>[Vue.createVNode(R,{modelValue:N.module,"onUpdate:modelValue":X=>N.module=X,placeholder:"请输入模块名称",onFocus:T,onKeyup:U},null,8,["modelValue","onUpdate:modelValue"])]),dropdown:Vue.withCtx(()=>[Vue.createElementVNode("div",_hoisted_1$4,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(d.value,X=>(Vue.openBlock(),Vue.createElementBlock("div",{class:"list-item1",key:X,onClick:H=>A(X)},[Vue.createElementVNode("span",null,Vue.toDisplayString(X),1)],8,_hoisted_2$4))),128))])]),_:2},1032,["modelValue"])]),_:1},8,["data","items","rules"])]),_:1},8,["modelValue"])}}}),AddTable_vue_vue_type_style_index_0_scoped_5dd8e87c_lang="",_export_sfc=(e,r)=>{const a=e.__vccOpts||e;for(const[n,l]of r)a[n]=l;return a},AddTableModal=_export_sfc(_sfc_main$7,[["__scopeId","data-v-5dd8e87c"]]),_hoisted_1$3={class:"h-full flex flex-col"},_hoisted_2$3={key:0,class:"ml-2"},_hoisted_3$2={class:"flex-1 h-0"},_sfc_main$6=Vue.defineComponent({__name:"SideList",emits:["editTableInfo"],setup(e,{expose:r,emit:a}){const n=Vue.ref(null),l=Vue.ref([]),c=Vue.ref(),s=Vue.computed(()=>{const R=new Set(l.value.map(E=>E.module));return Array.from(R)}),g=Vue.computed(()=>c.value?l.value.filter(R=>R.module===c.value):l.value),o=Vue.ref(),d=Vue.reactive({body:{options:[[{code:"connect",name:"连接"},{code:"disconnect",name:"断开连接"}],[{code:"add",name:"新建表"},{code:"remove",name:"删除当前表"}],[{code:"generate",name:"文件生成"},{code:"generate-cover",name:"文件生成(覆盖)"}]]},visibleMethod:({options:R,row:E})=>(R[0][0].visible=n.value==null,R[0][1].visible=n.value!=null,R[1][0].visible=n.value!=null,E?(R[1][1].visible=!0,Object.keys(E.property).length>0&&(R[2][0].visible=!0,R[2][1].visible=!0)):(R[1][1].visible=!1,R[2][0].visible=!1,R[2][1].visible=!1),!0)}),h=({$table:R,menu:E,row:V})=>{switch(E.code){case"connect":case"disconnect":U();break;case"add":o.value.open();break;case"remove":const D=l.value.findIndex(N=>N.module===V.module&&N.table===V.table);V===R.getCurrentRecord()&&a("editTableInfo"),l.value.splice(D,1);break;case"generate":L(V);break;case"generate-cover":L(V,!0);break}},T=({newValue:R,oldValue:E,$table:V})=>{const D=l.value.find(N=>N.module===R.module&&N.table===R.table);a("editTableInfo",D,()=>V.setCurrentRow(E))};async function U(){if(c.value=void 0,n.value){l.value=[],n.value=null,a("editTableInfo");return}else n.value=await openDirectoryPicker(),n.value===null?VXETable.modal.message({content:"请选择文件夹并授予必要的权限!",status:"error"}):listModel(n.value).then(R=>{l.value=R}).catch(()=>{VXETable.modal.message({content:"请授予必要的权限!",status:"error"})})}function A(R){l.value.push({property:{},...R})}async function M(R){await saveModel(n.value,R)||VXETable.modal.message({content:"保存失败!",status:"error"})}async function L(R,E){return await generateDAOAndService(n.value,R,E)}function O(){return n!=null}return r({isConnect:O,saveTable:M,generate:L}),(R,E)=>{const V=Vue.resolveComponent("VxeButton"),D=Vue.resolveComponent("VxeOption"),N=Vue.resolveComponent("VxeSelect"),X=Vue.resolveComponent("VxeToolbar"),H=Vue.resolveComponent("VxeColumn"),x=Vue.resolveComponent("VxeTable");return Vue.openBlock(),Vue.createElementBlock("div",_hoisted_1$3,[Vue.createElementVNode("div",null,[Vue.createVNode(X,{size:"mini"},{buttons:Vue.withCtx(()=>[Vue.createVNode(V,{status:n.value?"success":"default",icon:n.value?"vxe-icon-lock":"vxe-icon-unlock",content:n.value?"已连接":"未连接",onClick:U},null,8,["status","icon","content"]),s.value.length>0?(Vue.openBlock(),Vue.createElementBlock("span",_hoisted_2$3,"模块:")):Vue.createCommentVNode("",!0),s.value.length>0?(Vue.openBlock(),Vue.createBlock(N,{key:1,"class-name":"w-25 ml-1",modelValue:c.value,"onUpdate:modelValue":E[0]||(E[0]=w=>c.value=w),placeholder:"所有",clearable:""},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(s.value,w=>(Vue.openBlock(),Vue.createBlock(D,{key:w,value:w,label:w},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])):Vue.createCommentVNode("",!0)]),_:1})]),Vue.createElementVNode("div",_hoisted_3$2,[Vue.createVNode(x,{height:"auto",size:"mini","row-config":{isCurrent:!0,isHover:!0},"show-header":!1,data:g.value,"menu-config":d,onCurrentChange:T,onMenuClick:h},{default:Vue.withCtx(()=>[Vue.createVNode(H,{"class-name":"hover:cursor-pointer"},{default:Vue.withCtx(({row:w})=>[Vue.createTextVNode(Vue.toDisplayString(`[${w.module}] ${w.table} : ${w.model}`),1)]),_:1})]),_:1},8,["data","menu-config"])]),Vue.createVNode(AddTableModal,{ref_key:"addModal",ref:o,modules:s.value,onConfirm:A},null,8,["modules"])])}}}),_hoisted_1$2={key:0},_hoisted_2$2={class:"h-28px inline-block px-10px box-border b-1 b-#dcdfe6 b-solid rounded vertical-bottom"},_hoisted_3$1=Vue.createElementVNode("span",{class:"m2"},"~",-1),_hoisted_4={key:1},_hoisted_5=Vue.createElementVNode("span",{class:"m2"},"~",-1),_hoisted_6={key:2},_hoisted_7=Vue.createElementVNode("span",{class:"m2"},"~",-1),_hoisted_8={key:3},_sfc_main$5=Vue.defineComponent({__name:"OperateAndLimit",props:{row:{},tableRef:{}},setup(e){const r=e,{row:a,tableRef:n}=Vue.toRefs(r);function l({$event:c}){var M;let s="";const{lowercase:g,uppercase:o,trim:d,minlength:h,maxlength:T,min:U,max:A}=a.value;g&&(s+=`lowercase:${g};`),o&&(s+=`uppercase:${o};`),d&&(s+=`trim:${d};`),h!==void 0&&(s+=`minlength:${h};`),T!==void 0&&(s+=`maxlength:${T};`),U!==void 0&&(s+=`min:${U};`),A!==void 0&&(s+=`max:${A};`),a.value.operateAndLimit=s,c&&((M=n==null?void 0:n.value)==null||M.clearEdit(c))}return(c,s)=>{const g=Vue.resolveComponent("VxeCheckbox"),o=Vue.resolveComponent("VxeInput");return Vue.openBlock(),Vue.createElementBlock("div",null,[Vue.unref(a).type==="String"?(Vue.openBlock(),Vue.createElementBlock("div",_hoisted_1$2,[Vue.createElementVNode("span",_hoisted_2$2,[Vue.createVNode(g,{modelValue:Vue.unref(a).lowercase,"onUpdate:modelValue":s[0]||(s[0]=d=>Vue.unref(a).lowercase=d),onChange:l},{default:Vue.withCtx(()=>[Vue.createTextVNode("lowercase")]),_:1},8,["modelValue"]),Vue.createVNode(g,{modelValue:Vue.unref(a).uppercase,"onUpdate:modelValue":s[1]||(s[1]=d=>Vue.unref(a).uppercase=d),onChange:l},{default:Vue.withCtx(()=>[Vue.createTextVNode("uppercase")]),_:1},8,["modelValue"]),Vue.createVNode(g,{modelValue:Vue.unref(a).trim,"onUpdate:modelValue":s[2]||(s[2]=d=>Vue.unref(a).trim=d),onChange:l},{default:Vue.withCtx(()=>[Vue.createTextVNode("trim")]),_:1},8,["modelValue"])]),Vue.createElementVNode("span",null,[Vue.createVNode(o,{"class-name":"w-100px! inline-block! ml-2",type:"number",modelValue:Vue.unref(a).minlength,"onUpdate:modelValue":s[3]||(s[3]=d=>Vue.unref(a).minlength=d),max:Vue.unref(a).maxlength,placeholder:"最短长度",onChange:l,onBlur:s[4]||(s[4]=()=>l({}))},null,8,["modelValue","max"]),_hoisted_3$1,Vue.createVNode(o,{"class-name":"w-100px! inline-block!",type:"number",modelValue:Vue.unref(a).maxlength,"onUpdate:modelValue":s[5]||(s[5]=d=>Vue.unref(a).maxlength=d),min:Vue.unref(a).minlength,placeholder:"最长长度",onChange:l,onBlur:s[6]||(s[6]=()=>l({}))},null,8,["modelValue","min"])])])):Vue.createCommentVNode("",!0),Vue.unref(a).type==="Number"?(Vue.openBlock(),Vue.createElementBlock("div",_hoisted_4,[Vue.createVNode(o,{"class-name":"w-222px! inline-block!",type:"number",modelValue:Vue.unref(a).min,"onUpdate:modelValue":s[7]||(s[7]=d=>Vue.unref(a).min=d),max:Vue.unref(a).max,placeholder:"最小值",onChange:l,onBlur:s[8]||(s[8]=()=>l({}))},null,8,["modelValue","max"]),_hoisted_5,Vue.createVNode(o,{"class-name":"w-222px! inline-block!",type:"number",modelValue:Vue.unref(a).max,"onUpdate:modelValue":s[9]||(s[9]=d=>Vue.unref(a).max=d),min:Vue.unref(a).min,placeholder:"最大值",onChange:l,onBlur:s[10]||(s[10]=()=>l({}))},null,8,["modelValue","min"])])):Vue.createCommentVNode("",!0),Vue.unref(a).type==="Date"?(Vue.openBlock(),Vue.createElementBlock("div",_hoisted_6,[Vue.createVNode(o,{"class-name":"w-222px! inline-block!",type:"datetime",modelValue:Vue.unref(a).min,"onUpdate:modelValue":s[11]||(s[11]=d=>Vue.unref(a).min=d),"disabled-method":({date:d})=>Vue.unref(a).max?d.getTime()>=new Date(Vue.unref(a).max).getTime():!1,placeholder:"最早时间",onChange:l,"value-format":"yyyy-MM-ddTHH:mm:ss.sssZ"},null,8,["modelValue","disabled-method"]),_hoisted_7,Vue.createVNode(o,{"class-name":"w-222px! inline-block!",type:"datetime",modelValue:Vue.unref(a).max,"onUpdate:modelValue":s[12]||(s[12]=d=>Vue.unref(a).max=d),"disabled-method":({date:d})=>Vue.unref(a).min?d.getTime()<=new Date(Vue.unref(a).min).getTime():!1,placeholder:"最晚时间",onChange:l,"value-format":"yyyy-MM-ddTHH:mm:ss.sssZ"},null,8,["modelValue","disabled-method"])])):Vue.createCommentVNode("",!0),Vue.unref(a).type==="Boolean"?(Vue.openBlock(),Vue.createElementBlock("span",_hoisted_8,"-")):Vue.createCommentVNode("",!0)])}}}),_sfc_main$4=Vue.defineComponent({__name:"TypeSelect",props:{row:{}},emits:["change"],setup(e,{emit:r}){const a=e,{row:n}=Vue.toRefs(a),l=["String","Number","Date","Boolean"];return(c,s)=>{const g=Vue.resolveComponent("VxeOption"),o=Vue.resolveComponent("VxeSelect");return Vue.openBlock(),Vue.createElementBlock("div",null,[Vue.createVNode(o,{modelValue:Vue.unref(n).type,"onUpdate:modelValue":s[0]||(s[0]=d=>Vue.unref(n).type=d),onChange:s[1]||(s[1]=({value:d,$event:h})=>r("change",{value:d,$event:h}))},{default:Vue.withCtx(()=>[(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(l,d=>Vue.createVNode(g,{key:d,value:d,label:d},null,8,["value","label"])),64))]),_:1},8,["modelValue"])])}}}),_sfc_main$3=Vue.defineComponent({__name:"Default",props:{row:{},tableRef:{}},setup(e){const r=e,{row:a}=Vue.toRefs(r);return(n,l)=>{const c=Vue.resolveComponent("VxeInput"),s=Vue.resolveComponent("VxeOption"),g=Vue.resolveComponent("VxeSelect");return Vue.openBlock(),Vue.createElementBlock("div",null,[Vue.unref(a).type==="String"?(Vue.openBlock(),Vue.createBlock(c,{key:0,modelValue:Vue.unref(a).default,"onUpdate:modelValue":l[0]||(l[0]=o=>Vue.unref(a).default=o)},null,8,["modelValue"])):Vue.createCommentVNode("",!0),Vue.unref(a).type==="Number"?(Vue.openBlock(),Vue.createBlock(c,{key:1,type:"number",modelValue:Vue.unref(a).default,"onUpdate:modelValue":l[1]||(l[1]=o=>Vue.unref(a).default=o),onChange:l[2]||(l[2]=({$event:o})=>{var d;return(d=n.tableRef)==null?void 0:d.clearEdit(o)})},null,8,["modelValue"])):Vue.createCommentVNode("",!0),Vue.unref(a).type==="Date"?(Vue.openBlock(),Vue.createBlock(g,{key:2,modelValue:Vue.unref(a).default,"onUpdate:modelValue":l[3]||(l[3]=o=>Vue.unref(a).default=o),clearable:"",onChange:l[4]||(l[4]=({$event:o})=>{var d;return(d=n.tableRef)==null?void 0:d.clearEdit(o)})},{default:Vue.withCtx(()=>[Vue.createVNode(s,{value:"Date.now",label:"Date.now"})]),_:1},8,["modelValue"])):Vue.createCommentVNode("",!0),Vue.unref(a).type==="Boolean"?(Vue.openBlock(),Vue.createBlock(g,{key:3,modelValue:Vue.unref(a).default,"onUpdate:modelValue":l[5]||(l[5]=o=>Vue.unref(a).default=o),clearable:"",onChange:l[6]||(l[6]=({$event:o})=>{var d;return(d=n.tableRef)==null?void 0:d.clearEdit(o)})},{default:Vue.withCtx(()=>[Vue.createVNode(s,{value:!1,label:"否"}),Vue.createVNode(s,{value:!0,label:"是"})]),_:1},8,["modelValue"])):Vue.createCommentVNode("",!0)])}}}),_sfc_main$2=Vue.defineComponent({__name:"Preview",props:Vue.mergeModels({text:{},title:{}},{modelValue:{type:Boolean,required:!0}}),emits:["update:modelValue"],setup(e){const r=e,a=Vue.useModel(e,"modelValue"),n=Vue.ref("");return Vue.watchEffect(()=>{n.value=r.text}),(l,c)=>{const s=Vue.resolveComponent("VxeTextarea"),g=Vue.resolveComponent("VxeModal");return Vue.openBlock(),Vue.createBlock(g,{"class-name":"preview-modal",modelValue:a.value,"onUpdate:modelValue":c[1]||(c[1]=o=>a.value=o),width:"50vw",height:"80vh",title:l.title||"弹窗","show-footer":"","show-zoom":""},{default:Vue.withCtx(()=>[Vue.createVNode(s,{modelValue:n.value,"onUpdate:modelValue":c[0]||(c[0]=o=>n.value=o),readonly:"",resize:"none"},null,8,["modelValue"])]),_:1},8,["modelValue","title"])}}}),Preview_vue_vue_type_style_index_0_lang="",Preview_vue_vue_type_style_index_1_scoped_713237b7_lang="",Preview=_export_sfc(_sfc_main$2,[["__scopeId","data-v-713237b7"]]),_hoisted_1$1={class:"h-full flex flex-col"},_hoisted_2$1={class:"flex-1 h-0"},_sfc_main$1=Vue.defineComponent({__name:"MainTable",props:Vue.mergeModels({canGenerate:{type:Boolean}},{modelValue:{required:!0}}),emits:Vue.mergeModels(["saveTable","generate"],["update:modelValue"]),setup(e,{expose:r,emit:a}){const n=Vue.useModel(e,"modelValue"),l=Vue.ref([]),c=Vue.ref(!1),s=Vue.ref(),g=Vue.ref(),o=Vue.ref(!1),d=Vue.ref(""),h=Vue.ref({name:[{required:!0,validator:({$table:x,cellValue:w,rowIndex:P})=>{if(!w)return new Error("名称必须填写");if(!/^[a-zA-Z][a-zA-Z0-9_]*$/.test(w))return new Error("必须以字母开头且只包含字母、数字、下划线");const{tableData:B}=x.getTableData();for(let ae=0;ae<P;++ae)if(B[ae].name===w)return new Error("不能存在相同的名称")}}]});Vue.watchEffect(()=>{l.value=Object.entries(n.value.property).map(([x,w])=>({name:x,operateAndLimit:H(w),...w})),c.value=!1});const T=Vue.reactive({body:{options:[[{code:"add",name:"添加一行"},{code:"remove",name:"删除当前行"},{code:"remove-checked",name:"删除选择行"}],[{code:"copy",name:"复制当前行"},{code:"copy-checked",name:"复制选择行"},{code:"paste",name:"粘贴"}]]},visibleMethod:({options:x,row:w})=>{const P=s.value;if(!P||!w)x[0][1].visible=!1,x[0][2].visible=!1,x[1][0].visible=!1,x[1][1].visible=!1;else if(w){x[0][1].visible=!0,x[1][0].visible=!0;const B=P.isCheckedByCheckboxRow(w);x[0][2].visible=B,x[1][1].visible=B}return navigator.clipboard.readText().then(B=>x[1][2].visible=B.startsWith("#VXETable#")),!0}}),U=({$table:x,menu:w,row:P})=>{switch(w.code){case"add":O();break;case"remove":x.remove(P),N();break;case"remove-checked":x.removeCheckboxRow(),N();break;case"copy":E([P]);break;case"copy-checked":E(x.getCheckboxRecords());break;case"paste":V();break}},A=()=>{N()};function M(){const x=s.value;x&&(x.revertData(),c.value=!1)}async function L(x,w){const P=s.value;if(P&&!await P.validate(!0)){const ae=x??P.getTableData().fullData,J={};return ae.forEach(F=>{const W={type:F.type};F.required&&(W.required=F.required),F.default!=null&&(W.default=F.default),F.type==="String"?(F.lowercase&&(W.lowercase=F.lowercase),F.uppercase&&(W.uppercase=F.uppercase),F.trim&&(W.trim=F.trim),F.minlength!==void 0&&(W.minlength=F.minlength),F.maxlength!==void 0&&(W.maxlength=F.maxlength)):(F.type==="Number"||F.type==="Date")&&(F.min!==void 0&&(W.min=F.min),F.max!==void 0&&(W.max=F.max)),J[F.name]=Object.assign({},W)}),(w??n.value).property=J,a("saveTable",w??n.value),!0}return!1}function O(x){const w=s.value;w&&(x?(w.insertAt(x,-1),c.value=x.length>0):(w.insertAt({type:"String"},-1),c.value=!0))}async function R(){const x=s.value;if(x){const w=x.getCheckboxRecords();if(!w||w.length<1){VXETable.modal.message({content:"请选择至少一行数据",status:"warning"});return}await VXETable.modal.confirm("您确定要删除已选择的行吗？")==="confirm"&&(x.removeCheckboxRow(),N())}}function E(x){const w=JSON.stringify(x.map(P=>Object.assign({},P,{_X_ROW_KEY:void 0})));navigator.clipboard.writeText("#VXETable#"+w)}function V(){navigator.clipboard.readText().then(x=>O(JSON.parse(x.replace("#VXETable#",""))))}function D(){d.value=tableInfo2codeText(n.value,["property"]),o.value=!0}function N(){const x=s.value;if(x){const{insertRecords:w,removeRecords:P,updateRecords:B}=x.getRecordset();c.value=w.length>0||P.length>0||B.length>0}}async function X(){const x=await VXETable.modal.confirm("是否覆盖生成?");a("generate",n.value,x==="confirm")}function H({lowercase:x,uppercase:w,trim:P,minlength:B,maxlength:ae,min:J,max:F}){let W="";return x&&(W+=`lowercase:${x};`),w&&(W+=`uppercase:${w};`),P&&(W+=`trim:${P};`),B!==void 0&&(W+=`minlength:${B};`),ae!==void 0&&(W+=`maxlength:${ae};`),J!==void 0&&(W+=`min:${J};`),F!==void 0&&(W+=`max:${F};`),W}return Vue.nextTick(()=>{const x=s.value,w=g.value;x&&w&&x.connect(w)}),r({checkSave:async()=>c.value&&await VXETable.modal.confirm("当前操作表未保存，是否保存?")==="confirm"?await L():!0}),(x,w)=>{const P=Vue.resolveComponent("VxeButton"),B=Vue.resolveComponent("VxeToolbar"),ae=Vue.resolveComponent("VxeColumn"),J=Vue.resolveComponent("VxeInput"),F=Vue.resolveComponent("VxeCheckbox"),W=Vue.resolveComponent("VxeTable");return Vue.openBlock(),Vue.createElementBlock("div",_hoisted_1$1,[Vue.createElementVNode("div",null,[Vue.createVNode(B,{ref_key:"toolbarRef",ref:g,custom:"",size:"mini"},{buttons:Vue.withCtx(()=>[Vue.createVNode(P,{status:"primary",icon:"vxe-icon-add",content:"添加一行",onClick:w[0]||(w[0]=()=>O())}),Vue.createVNode(P,{status:"danger",icon:"vxe-icon-delete",content:"删除",onClick:R}),c.value?(Vue.openBlock(),Vue.createBlock(P,{key:0,status:"primary",icon:"vxe-icon-save",content:"保存",onClick:w[1]||(w[1]=()=>L())})):Vue.createCommentVNode("",!0),!c.value&&x.canGenerate?(Vue.openBlock(),Vue.createBlock(P,{key:1,status:"primary",icon:"vxe-icon-save",content:"生成文件",onClick:X})):Vue.createCommentVNode("",!0)]),tools:Vue.withCtx(()=>[c.value?(Vue.openBlock(),Vue.createBlock(P,{key:0,icon:"vxe-icon-repeat",circle:"",title:"重置",onClick:M})):Vue.createCommentVNode("",!0),!c.value&&Object.keys(n.value.property).length>0?(Vue.openBlock(),Vue.createBlock(P,{key:1,icon:"vxe-icon-eye-fill",circle:"",title:"预览",onClick:D})):Vue.createCommentVNode("",!0)]),_:1},512)]),Vue.createElementVNode("div",_hoisted_2$1,[Vue.createVNode(W,{class:"field_list",ref_key:"tableRef",ref:s,data:l.value,"keep-source":"","edit-config":{trigger:"click"},"edit-rules":h.value,"row-config":{isHover:!0},"checkbox-config":{highlight:!0,range:!0,isShiftKey:!0},"menu-config":T,height:"auto",size:"mini",align:"center",onEditClosed:A,onMenuClick:U},{default:Vue.withCtx(()=>[Vue.createVNode(ae,{type:"checkbox",width:"40"}),Vue.createVNode(ae,{type:"seq",width:"40"}),Vue.createVNode(ae,{field:"name",title:"名称","min-width":"150","edit-render":{}},{default:Vue.withCtx(({row:oe})=>[Vue.createVNode(J,{modelValue:oe.name,"onUpdate:modelValue":he=>oe.name=he},null,8,["modelValue","onUpdate:modelValue"])]),edit:Vue.withCtx(({row:oe})=>[Vue.createVNode(J,{modelValue:oe.name,"onUpdate:modelValue":he=>oe.name=he},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),Vue.createVNode(ae,{field:"type",title:"类型",width:"150","edit-render":{}},{default:Vue.withCtx(({row:oe})=>[Vue.createVNode(_sfc_main$4,{row:oe},null,8,["row"])]),edit:Vue.withCtx(({row:oe})=>[Vue.createVNode(_sfc_main$4,{row:oe,onChange:w[2]||(w[2]=({$event:he})=>{var me;return(me=s.value)==null?void 0:me.clearEdit(he)})},null,8,["row"])]),_:1}),Vue.createVNode(ae,{field:"operateAndLimit",title:"操作 / 限制",width:"500","edit-render":{}},{default:Vue.withCtx(({row:oe})=>[Vue.createVNode(_sfc_main$5,{row:oe,"table-ref":s.value},null,8,["row","table-ref"])]),edit:Vue.withCtx(({row:oe})=>[Vue.createVNode(_sfc_main$5,{row:oe,"table-ref":s.value},null,8,["row","table-ref"])]),_:1}),Vue.createVNode(ae,{field:"default",title:"默认值","min-width":"200","edit-render":{}},{default:Vue.withCtx(({row:oe})=>[Vue.createVNode(_sfc_main$3,{row:oe,"table-ref":s.value},null,8,["row","table-ref"])]),edit:Vue.withCtx(({row:oe})=>[Vue.createVNode(_sfc_main$3,{row:oe,"table-ref":s.value},null,8,["row","table-ref"])]),_:1}),Vue.createVNode(ae,{field:"required",title:"非空",width:"60","edit-render":{}},{default:Vue.withCtx(({row:oe})=>[Vue.createVNode(F,{modelValue:oe.required,"onUpdate:modelValue":he=>oe.required=he},null,8,["modelValue","onUpdate:modelValue"])]),edit:Vue.withCtx(({row:oe})=>[Vue.createVNode(F,{modelValue:oe.required,"onUpdate:modelValue":he=>oe.required=he},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["data","edit-rules","menu-config"])]),Vue.createVNode(Preview,{modelValue:o.value,"onUpdate:modelValue":w[3]||(w[3]=oe=>o.value=oe),text:d.value,title:"预览"},null,8,["modelValue","text"])])}}}),MainTable_vue_vue_type_style_index_0_scoped_6f5d6062_lang="",MainTable=_export_sfc(_sfc_main$1,[["__scopeId","data-v-6f5d6062"]]),_hoisted_1={class:"h-full flex gap-1 p2 box-border"},_hoisted_2={class:"w-16% min-w-250px"},_hoisted_3={class:"flex-1"},_sfc_main=Vue.defineComponent({__name:"App",setup(e){const r={module:"<tmp>",model:"<Tmp>",table:"<tmp>",property:{}},a=Vue.ref(r),n=Vue.ref(),l=Vue.ref(),c=Vue.computed(()=>{var d;return a.value.module!==r.module&&Object.keys(a.value.property).length>0&&((d=n.value)==null?void 0:d.isConnect())===!0});Vue.watchEffect(()=>{a.value.module===r.module&&(r.property=a.value.property)});async function s(d,h){const T=l.value;T&&(await T.checkSave()?a.value=d??r:h&&h())}function g(d){var h;d.module!==r.module&&((h=n.value)==null||h.saveTable(d))}function o(d,h){var T;d.module!==r.module&&((T=n.value)==null||T.generate(d,h))}return(d,h)=>(Vue.openBlock(),Vue.createElementBlock("div",_hoisted_1,[Vue.createElementVNode("div",_hoisted_2,[Vue.createVNode(_sfc_main$6,{ref_key:"sideListRef",ref:n,onEditTableInfo:s},null,512)]),Vue.createElementVNode("div",_hoisted_3,[Vue.createVNode(MainTable,{ref_key:"mainTableRef",ref:l,modelValue:a.value,"onUpdate:modelValue":h[0]||(h[0]=T=>a.value=T),"can-generate":c.value,onSaveTable:g,onGenerate:o},null,8,["modelValue","can-generate"])])]))}}),style$g="",style$f="",style$e="",style$d="",style$c="",style$b="",style$a="",style$9="",style$8="",style$7="",style$6="",style$5="",style$4="",style$3="",style$2="",style$1="",style="",cssvar="",__uno="",app=Vue.createApp(_sfc_main);VXETable.config({i18n:(e,r)=>XEUtils$1.toFormatString(XEUtils$1.get(zhCN,e),r)});app.use(Button);app.use(Checkbox);app.use(Column);app.use(Form);app.use(Edit);app.use(Icon);app.use(Input);app.use(Keyboard);app.use(Menu);app.use(Modal);app.use(Option);app.use(Pulldown);app.use(Select);app.use(Table);app.use(Textarea);app.use(Toolbar);app.use(Validator);app.mount("#app");
